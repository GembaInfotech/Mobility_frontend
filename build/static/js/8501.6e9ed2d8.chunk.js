"use strict";(self.webpackChunknasp=self.webpackChunknasp||[]).push([[8501],{38501:function(e,n,a){a.r(n);var t=a(29439),i=a(72791),s=a(40018),l=a(16146),r=a(92506),c=a(62797),d=a(9494),o=a(11723),u=a(57689),m=a(80184),p=c.Ry().shape({name:c.Z_().required("Required")}),f={name:""};n.default=function(){var e=(0,i.useRef)(),n=(0,i.useState)(!1),a=(0,t.Z)(n,2),c=a[0],h=a[1],v=(0,i.useState)(null),x=(0,t.Z)(v,2),j=x[0],b=x[1],y=(0,i.useState)(null),g=(0,t.Z)(y,2),C=g[0],N=g[1],S=(0,u.UO)().id,k=(0,u.s0)();(0,i.useEffect)((function(){S&&(0,d.ac)(o.vh.LIST_DATA,{type:o.kD.COMPANY,id:S}).then((function(e){var n,a=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data;a&&b(a)}))}),[S]);return(0,m.jsx)(s.lG,{children:(0,m.jsx)(r.J9,{innerRef:e,initialValues:j||f,validationSchema:p,onSubmit:function(e,n){var a=e.name,t=n.setSubmitting;h(!0);var i=new FormData;i.append("name",a),S&&i.append("id",S),i.append("modelType",o.kD.COMPANY),C&&i.append("image",C),(0,d.Fv)(o.vh.ADD_EDIT_COMPANY,i,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){k(-1),l.Am.push((0,m.jsx)(l.P_,{type:"success",children:"Company saved!"}))})).catch((function(e){t(!1),console.error("Error saving company:",e)})).finally((function(){return h(!1)}))},enableReinitialize:!0,children:function(e){var n=e.errors,a=e.touched,t=e.isSubmitting;return(0,m.jsxs)(r.l0,{className:"p-5",children:[(0,m.jsxs)("div",{className:"flex mb-3 justify-end w-3/4",children:[(0,m.jsx)(l.zx,{size:"sm",variant:"solid",onClick:function(){return k(-1)},type:"button",children:"Cancel"}),(0,m.jsx)(l.zx,{size:"sm",variant:"solid",style:{marginLeft:"5px"},loading:t,type:"submit",children:S?"Update":"Save"})]}),c?(0,m.jsx)("div",{className:"flex justify-center",children:(0,m.jsx)(l.$j,{size:"3.25rem"})}):(0,m.jsx)(l.Zb,{className:"mt-2.5 w-3/4",children:(0,m.jsxs)(l.Yb,{children:[(0,m.jsx)(l.xJ,{label:"Name",invalid:(null===n||void 0===n?void 0:n.name)&&(null===a||void 0===a?void 0:a.name),errorMessage:null===n||void 0===n?void 0:n.name,children:(0,m.jsx)(r.gN,{type:"text",autoComplete:"off",name:"name",placeholder:"Enter name",component:l.II})}),(0,m.jsx)(l.xJ,{label:"Upload Image",children:(0,m.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){return N(e.target.files[0])}})}),C&&(0,m.jsx)("img",{src:URL.createObjectURL(C),alt:"Selected",className:"w-24 h-24 object-cover rounded border mt-2"})]})})]})}})})}}}]);
//# sourceMappingURL=8501.6e9ed2d8.chunk.js.map