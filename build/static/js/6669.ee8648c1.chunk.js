"use strict";(self.webpackChunknasp=self.webpackChunknasp||[]).push([[6669],{25764:(e,l,n)=>{n.d(l,{Z:()=>a});n(72791);var i=n(73038),o=n(80184);const a=e=>{let{header:l,des:n,onDialogClose:a,isWarning:s,onConfirmClick:d,isOpen:t,buttonLabel:r}=e;return(0,o.jsx)(i.Vq,{isOpen:t,onClose:a,onRequestClose:a,contentClassName:"pb-0 px-0 mt-36 min-w-36",children:(0,o.jsxs)("div",{className:"px-5 pb-5",children:[(0,o.jsx)("h5",{className:"mb-4",children:l}),(0,o.jsx)("p",{children:n}),s&&(0,o.jsx)("p",{className:"text-red-700",children:s}),(0,o.jsxs)("div",{className:"text-right mt-6",children:[(0,o.jsx)(i.zx,{className:"ltr:mr-2 rtl:ml-2",variant:"plain",onClick:a,children:"Cancel"}),(0,o.jsx)(i.zx,{variant:"solid",onClick:d,children:r})]})]})})}},52452:(e,l,n)=>{n.d(l,{Z:()=>s});var i=n(23532),o=n(73038),a=n(80184);const s=e=>{let{row:l,onActionHandle:n,actionsMenu:s}=e;const{textTheme:d}=(0,i.Z)();return(0,a.jsx)("div",{className:"flex items-center justify-between",children:null===s||void 0===s?void 0:s.map(((e,i)=>{var s,t;if(null===(s=null===e||void 0===e||null===(t=e.show)||void 0===t?void 0:t.call(e))||void 0===s||s)return(0,a.jsx)(o.u,{title:null===e||void 0===e?void 0:e.toolTip,visible:!(null===e||void 0===e||!e.toolTip),children:null!==e&&void 0!==e&&e.isImage?(0,a.jsx)("img",{src:e.label,alt:"view Icon",style:{maxWidth:"20px"},className:"cursor-pointer mx-0.5",onClick:i=>n(i,e.key,l)}):(0,a.jsx)("span",{className:`${d} cursor-pointer select-none font-semibold ml-2 `,onClick:i=>n(i,e.key,l),children:e.label})})}))})}},31673:(e,l,n)=>{n.d(l,{Z:()=>s});n(72791);var i=n(52639),o=n(73038),a=n(80184);const s=e=>{var l,n;let{dataObj:s,setSelectedData:d,setActiveConfirm:t,setOpenModal:r}=e;const c=null===s||void 0===s||null===(l=s.row)||void 0===l||null===(n=l.original)||void 0===n?void 0:n._id,u=i.uN.find(((e,l)=>{var n,i;return e.identifier===(null===s||void 0===s||null===(n=s.row)||void 0===n||null===(i=n.original)||void 0===i?void 0:i.status)}));return(0,a.jsx)(o.XZ,{checked:null===u||void 0===u?void 0:u.value,onChange:e=>((e,l,n)=>{let i="";1===l&&(i=2),2===l&&(i=1),d({id:n,action:i}),t(!0),r(!0)})(0,null===u||void 0===u?void 0:u.identifier,c)})}},10515:(e,l,n)=>{n.d(l,{Z:()=>t});n(72791);var i=n(73038),o=n(58617),a=n(48573),s=n.n(a),d=n(80184);const t=e=>{let{onChange:l,placeholder:n}=e;const a=s()((function(e){null===l||void 0===l||l(e)}),500);return(0,d.jsx)(i.II,{className:"max-w-md md:w-96 mb-4",size:"sm",placeholder:n?`${n}`:"Filter by NAL, LCode, Referring Physician",prefix:(0,d.jsx)(o.O6C,{className:"text-lg"}),onChange:e=>{a(e.target.value)}})}},9494:(e,l,n)=>{n.d(l,{EY:()=>d,Fv:()=>s,ac:()=>a});var i=n(91181),o=n(14712);function a(e,l){return o.Z.get(e,{params:l}).then((e=>null===e||void 0===e?void 0:e.data))}function s(e,l){return o.Z.post(e,l).then((e=>null===e||void 0===e?void 0:e.data))}async function d(e){return i.Z.fetchData({url:"/search/query",method:"post",data:e})}},26669:(e,l,n)=>{n.r(l),n.d(l,{default:()=>w});var i=n(72791),o=n(9494),a=n(11723),s=n(40018),d=n(10515),t=n(58617),r=n(73038),c=n(47511),u=n(80184);const v=e=>{let{setSearch:l,addButtonClick:n}=e;return(0,u.jsxs)(u.Fragment,{children:[(0,c.ZP)(c.Fm.INSURANCES,c.qz.WRITE)&&(0,u.jsx)("div",{className:"md:flex items-center justify-end",children:(0,u.jsx)(r.zx,{size:"sm",variant:"solid",onClick:n,icon:(0,u.jsx)(t.HQD,{}),children:"Add Insurance"})}),(0,u.jsx)(d.Z,{onChange:e=>l(e)})]})};var m=n(78820),h=n(25764),p=n(52639),x=n(92506),b=n(81724),C=n(75737),j=n.n(C);n(70902);const N=[{label:"Name",type:"text",name:"name",placeholder:"Enter insurance name",component:r.II,isBasic:!0},{name:"phoneNumber",countryCode:"countryCode",label:"Mobile No.",component:"phoneNumber",placeholder:"Enter mobile no."},{label:"Email",name:"email",placeholder:"Enter Email",component:r.II,isBasic:!0},{label:"Address",name:"address",placeholder:"Enter Address",component:r.II,isBasic:!0}],E=b.Ry().shape({name:b.Z_().required("Required"),email:b.Z_().email().required("Required"),phoneNumber:b.Z_().required("Required"),address:b.Z_().required("Required")}),g={name:"",email:"",phoneNumber:"",countryCode:"+1",address:""},f=e=>{let{closeAddEdit:l,selectedRow:n}=e;return(0,u.jsx)(s.lG,{children:(0,u.jsx)(x.J9,{initialValues:n||g,validationSchema:E,onSubmit:(e,i)=>{var s,d;let{setSubmitting:t}=i;const c={};c.phoneNumber=null===e||void 0===e||null===(s=e.phoneNumber)||void 0===s?void 0:s.replace(null===e||void 0===e?void 0:e.countryCode,""),null!==e&&void 0!==e&&null!==(d=e.countryCode)&&void 0!==d&&d.includes("+")||(c.countryCode=`+${e.countryCode}`),""===e.phoneNumber&&delete c.phoneNumber,n&&(c.id=n._id),c.name=null===e||void 0===e?void 0:e.name,c.email=null===e||void 0===e?void 0:e.email,c.address=null===e||void 0===e?void 0:e.address,(0,o.Fv)(a.vh.ADD_EDIT_INSURANCE,c).then((e=>{r.Am.push((0,u.jsx)(r.P_,{type:"success",children:"Saved successfully"}))})).finally((()=>{l(),t(!1)}))},enableReinitialize:!0,children:e=>{let{errors:i,touched:o,values:a,isSubmitting:s,setFieldValue:d}=e;return(0,u.jsxs)(x.l0,{className:"p-5",children:[(0,u.jsxs)("div",{className:"flex mb-3 justify-between w-3/4",children:[(0,u.jsx)("h3",{children:n?"Edit Insurance":"Add Insurance"}),(0,u.jsxs)("div",{className:"flex",children:[(0,u.jsx)(r.zx,{size:"sm",className:"ltr:mr-3 rtl:ml-3",onClick:l,icon:(0,u.jsx)(m.SV5,{}),type:"button",children:"Cancel"}),(0,u.jsx)(r.zx,{size:"sm",variant:"solid",loading:s,icon:(0,u.jsx)(m.JMf,{}),type:"submit",children:n?"Update":"Save"})]})]}),(0,u.jsx)("div",{children:(0,u.jsx)(r.Zb,{className:"mt-2.5 w-3/4 ",children:(0,u.jsx)(r.Yb,{className:" md:w-full lg:w-1/2",children:N.map(((e,l)=>(0,u.jsx)(r.xJ,{label:null===e||void 0===e?void 0:e.label,invalid:(null===i||void 0===i?void 0:i[e.name])&&(null===o||void 0===o?void 0:o[e.name]),errorMessage:null===i||void 0===i?void 0:i[e.name],children:null!==e&&void 0!==e&&e.isBasic?(0,u.jsx)(x.gN,{type:e.type,autoComplete:"off",onWheel:l=>null!==e&&void 0!==e&&e.isWheel?l.target.blur():"",value:null===a||void 0===a?void 0:a[e.name],name:e.name,placeholder:e.placeholder,component:null===e||void 0===e?void 0:e.component}):(0,u.jsx)(u.Fragment,{children:"phoneNumber"===(null===e||void 0===e?void 0:e.component)&&(0,u.jsx)(j(),{inputStyle:{width:"369px",padding:"11px 14px 11px 60px"},enableSearch:!0,country:"us",countryCodeEditable:!0,value:`${null===a||void 0===a?void 0:a[e.name]}`,onChange:(l,n)=>{d(e.name,l),d(e.countryCode,null===n||void 0===n?void 0:n.dialCode)}})})},l)))})})})]})}})})};var S=n(31673),y=n(52452);const A=[{label:"Edit",key:p.A6.EDIT,show:()=>(0,c.ZP)(c.Fm.INSURANCES,c.qz.WRITE)},{label:(0,u.jsx)(m.YK6,{style:{fontSize:"1.2rem"}}),key:p.A6.DELETE,toolTip:"Delete",show:()=>(0,c.ZP)(c.Fm.INSURANCES,c.qz.DELETE)}],w=()=>{const[e,l]=(0,i.useState)([]),[n,d]=(0,i.useState)(!0),[t,m]=(0,i.useState)(""),[x,b]=(0,i.useState)(1),[C,j]=(0,i.useState)(0),[N,E]=(0,i.useState)(10),[g,w]=(0,i.useState)(!1),[I,D]=(0,i.useState)(""),[k,R]=(0,i.useState)(!1),[Z,F]=(0,i.useState)(!1),[T,z]=(0,i.useState)(""),[L,_]=(0,i.useState)(!1);(0,i.useEffect)((()=>{(0,o.ac)(a.vh.LIST_DATA,{type:a.kD.INSURANCES,limit:N,search:t,skip:N*(x-1)}).then((e=>{var n,i;l(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data),j(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.count)})).finally((()=>d(!1)))}),[t,x,N,Z]);const q=(e,l,n)=>{D(n),l===p.A6.EDIT&&(n.phoneNumber=(null===n||void 0===n?void 0:n.countryCode)+(null===n||void 0===n?void 0:n.phoneNumber),w(!0)),l===p.A6.DELETE&&R(!0)},B=()=>{R(!1),D(""),_(!1)},H={header:p.BI.HEADER,des:p.BI.DELETE,buttonLabel:"Delete"},O=[{Header:"Company Name",Cell:e=>{var l;const n=null===e||void 0===e||null===(l=e.row)||void 0===l?void 0:l.original;return(0,u.jsx)("div",{className:"flex items-center w-40",children:null===n||void 0===n?void 0:n.name})}},{Header:"Address",accessor:"address",Cell:e=>{var l;const n=null===e||void 0===e||null===(l=e.row)||void 0===l?void 0:l.original;return(0,u.jsx)("div",{className:"flex items-center w-40",children:null===n||void 0===n?void 0:n.address})}},{Header:"Mobile",accessor:"mobile",Cell:e=>{var l;const n=null===e||void 0===e||null===(l=e.row)||void 0===l?void 0:l.original;return(0,u.jsxs)("div",{className:"flex items-center w-40",children:[null===n||void 0===n?void 0:n.countryCode," - ",null===n||void 0===n?void 0:n.phoneNumber]})}},{Header:"Email",accessor:"email",Cell:e=>{var l;const n=null===e||void 0===e||null===(l=e.row)||void 0===l?void 0:l.original;return(0,u.jsx)("div",{className:"flex items-center w-40",children:null===n||void 0===n?void 0:n.email})}},{Header:"Active",Cell:e=>(0,u.jsx)(S.Z,{dataObj:e,setSelectedData:z,setActiveConfirm:_,setOpenModal:R})},{Header:"Actions",id:"action",accessor:e=>e,Cell:e=>(0,u.jsx)(y.Z,{row:e.row.original,onActionHandle:q,actionsMenu:A})}];return(0,u.jsx)(u.Fragment,{children:g?(0,u.jsx)(f,{closeAddEdit:()=>{w(!1),F(!Z),D("")},selectedRow:I}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(v,{setSearch:m,addButtonClick:()=>w(!0)}),(0,u.jsx)(s.lG,{className:"h-full",bodyClass:"h-full",children:(0,u.jsx)(s.wQ,{columns:(0,c._P)(O,c.Fm.INSURANCES,1),data:e,loading:n,skeletonAvatarColumns:[0],skeletonAvatarProps:{width:28,height:28},pagingData:{pageIndex:x,pageSize:N,total:C},onPaginationChange:e=>b(e),onSelectChange:e=>E(e)})}),(0,u.jsx)(h.Z,{isOpen:k,onConfirmClick:()=>{let e;console.log("selectedRow",I);const l={type:a.kD.INSURANCES,id:null===I||void 0===I?void 0:I._id};L?(e=p.D5,l.status=+(null===I||void 0===I?void 0:I.action)):(e=p.O7,l.status=0),(0,o.Fv)(a.vh.BLOCK_DELETE_DATA,l).then((l=>{r.Am.push((0,u.jsx)(r.P_,{type:"success",children:e})),F((e=>!e)),B()}))},header:H.header,des:L?null===p.uF||void 0===p.uF?void 0:p.uF.des:p.BI.DELETE,isWarning:!L&&p.BI.WARNING,onDialogClose:B,buttonLabel:L?null===p.uF||void 0===p.uF?void 0:p.uF.buttonLabel:H.buttonLabel})]})})}}}]);
//# sourceMappingURL=6669.ee8648c1.chunk.js.map