(self.webpackChunknasp=self.webpackChunknasp||[]).push([[8154],{79739:function(t,e,n){"use strict";n.d(e,{Y:function(){return i}});var i={VIEW_IMAGE:"/img/prescription.png",REPLY:"/img/reply.png",STATUS:"/img/status.png",EXPORT:"/img/fileExport.svg",RECEIPT:"/img/receipt.svg",DOWNLOAD_PDF:"/img/download.png"}},18154:function(t,e,n){"use strict";n.r(e);var i=n(29439),o=n(40018),a=n(72791),r=n(97892),s=n.n(r),l=n(83027),u=n.n(l),c=n(12712),d=n.n(c),f=n(9494),v=n(11723),m=n(16146),h=n(52452),p=n(78820),g=n(25764),D=n(93156),T=n(58617),$=n(57689),E=n(54048),N=n(52639),S=n(79739),C=n(31673),b=n(27091),A=n(54167),x=n(76053),O=n(47511),I=n(80184),w=[{label:"Edit",key:N.A6.EDIT,show:function(){return(0,O.ZP)(O.Fm.PATIENT,O.qz.WRITE)}},{label:(0,I.jsx)(p.YK6,{style:{fontSize:"1.1rem"}}),key:N.A6.DELETE,show:function(){return(0,O.ZP)(O.Fm.PATIENT,O.qz.DELETE)},toolTip:"Delete"},{label:S.Y.VIEW_IMAGE,key:N.A6.NAVIGATE,isImage:!0,toolTip:"View Prescriptions",show:function(){return(0,O.ZP)(O.Fm.SERVICEORDER,O.qz.READ)}}],y={header:N.BI.HEADER,des:N.BI.DELETE,warning:N.BI.WARNING,buttonLabel:"Delete"},Z=[{label:"Add Patient",key:N.A6.ADD,icon:(0,I.jsx)(T.HQD,{})}],M=[{component:"select",options:N.W_,className:"mb-4 w-40",placeholder:"Status",filterKey:"status"},{component:"datePicker",placeholder:"DOB",className:"mb-4 w-64",filterKey:"dob"},{component:"input",placeholder:"Mobile Number",className:"mb-4 w-40",filterKey:"mobile"},{component:"resetButton",label:"Reset",icon:(0,I.jsx)(x.pYJ,{}),className:"mb-4",filterKey:{status:"",dob:null,search:""}}];e.default=function(){var t=localStorage.getItem("selectedHospitalId"),e=(0,a.useState)(""),n=(0,i.Z)(e,2),r=n[0],l=n[1],c=(0,a.useState)(!0),p=(0,i.Z)(c,2),T=p[0],S=p[1],x=(0,a.useState)([]),P=(0,i.Z)(x,2),Y=P[0],z=P[1],j=(0,a.useState)(""),F=(0,i.Z)(j,2),H=F[0],U=F[1],k=(0,a.useState)(!1),L=(0,i.Z)(k,2),R=L[0],_=L[1],W=(0,a.useState)(1),B=(0,i.Z)(W,2),V=B[0],q=B[1],G=(0,a.useState)(0),K=(0,i.Z)(G,2),X=K[0],Q=K[1],J=(0,a.useState)(10),tt=(0,i.Z)(J,2),et=tt[0],nt=tt[1],it=(0,a.useState)(""),ot=(0,i.Z)(it,2),at=ot[0],rt=ot[1],st=(0,a.useState)(!1),lt=(0,i.Z)(st,2),ut=lt[0],ct=lt[1],dt=(0,a.useState)(!1),ft=(0,i.Z)(dt,2),vt=ft[0],mt=ft[1],ht=(0,a.useState)(""),pt=(0,i.Z)(ht,2),gt=pt[0],Dt=pt[1],Tt=(0,a.useState)(!1),$t=(0,i.Z)(Tt,2),Et=$t[0],Nt=$t[1],St=(0,$.s0)(),Ct=(0,a.useState)({status:""}),bt=(0,i.Z)(Ct,2),At=bt[0],xt=bt[1];s().extend(u()),s().extend(d());var Ot=function(t){var e,n,i=t.row;return(0,I.jsxs)("div",{className:"flex items-center",children:[null!==(null===i||void 0===i?void 0:i.imageUrlThumbnail)&&null!==i&&void 0!==i&&i.imageUrlThumbnail?(0,I.jsx)(m.qE,{size:28,shape:"circle",className:"mr-2",src:"".concat(E.Z.imageBaseUrl).concat(null===i||void 0===i?void 0:i.imageUrlThumbnail)}):(0,I.jsx)(m.qE,{size:28,shape:"circle",className:"mr-2",children:null===i||void 0===i||null===(e=i.firstName)||void 0===e||null===(n=e[0])||void 0===n?void 0:n.toUpperCase()}),(0,I.jsx)("div",{className:"w-32",children:"".concat(null!==i&&void 0!==i&&i.firstName||null!==i&&void 0!==i&&i.lastName?"".concat(null!==i&&void 0!==i&&i.lastName?null===i||void 0===i?void 0:i.lastName:"",", ").concat(null!==i&&void 0!==i&&i.firstName?null===i||void 0===i?void 0:i.firstName:""," "):"-")})]})};(0,a.useEffect)((function(){var e,n;(0,f.ac)(v.vh.LIST_DATA,{type:v.kD.PATIENTS,limit:et,search:H,companyId:null!==(e=null===r||void 0===r?void 0:r._id)&&void 0!==e?e:t,status:null!==At&&void 0!==At&&At.status?null===At||void 0===At||null===(n=At.status)||void 0===n?void 0:n.value:null,patientDob:null!==At&&void 0!==At&&At.dob?s()(At.dob).format("MM/DD/YYYY"):null,mobile:null!==At&&void 0!==At&&At.mobile?At.mobile:null,skip:et*(V-1)}).then((function(t){var e,n;z(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.data),Q(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.count)})).finally((function(){return S(!1)}))}),[t,H,V,et,R,At,r]);var It=function(t,e,n){e===N.A6.DELETE&&(rt({id:null===n||void 0===n?void 0:n._id}),ct(!0)),e===N.A6.EDIT&&St("/app/patient/edit/".concat(null===n||void 0===n?void 0:n._id)),e===N.A6.NAVIGATE&&St("/app/orderManagement/service-order/".concat(null===n||void 0===n?void 0:n._id))},wt=function(){rt(""),ct(!1),mt(!1),Nt(!1),Dt("")},yt=[{Header:"Patient ID",Cell:function(t){var e=t.row.original;return null===(null===e||void 0===e?void 0:e.patientNo)?"-":null===e||void 0===e?void 0:e.patientNo}},{Header:"Patient Name",Cell:function(t){var e=t.row.original;return(0,I.jsx)(Ot,{row:e})}},{Header:"Mobile",Cell:function(t){var e=t.row.original;return(0,I.jsx)("div",{className:"flex items-center whitespace-nowrap",children:(0,I.jsx)("p",{children:"".concat(null===e||void 0===e?void 0:e.countryCode," ").concat((0,O.Oz)(null===e||void 0===e?void 0:e.phoneNumber))})})}},{Header:"DOB",Cell:function(t){var e=t.row.original;return"".concat(s()(null===e||void 0===e?void 0:e.dob).format("MM/DD/YYYY")||"-")}},{Header:"".concat("67c3ec77851f03d96270ca85"===t?"NASPAC Case No.":"67c3fb8308a4d79e36ebf939"===t?"PPS Case No.":"Case No."),Cell:function(t){var e=t.row.original;return(0,I.jsx)("div",{className:"flex items-center ",children:null!==e&&void 0!==e&&e.naspacNo?null===e||void 0===e?void 0:e.naspacNo:"-"})}},{Header:"Registered On",Cell:function(t){var e=t.row.original;return(0,I.jsx)("div",{className:"flex items-center ",children:s().utc(null===e||void 0===e?void 0:e.createdAt).tz("America/New_York").format(N.a1)})}},{Header:"Active",Cell:function(t){return(0,I.jsx)(C.Z,{dataObj:t,setSelectedData:rt,setActiveConfirm:mt,setOpenModal:ct})}},{Header:"Actions",id:"action",accessor:function(t){return t},Cell:function(t){return(0,I.jsx)(h.Z,{row:t.row.original,onActionHandle:It,actionsMenu:w})}}];return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(D.Z,{buttonMenu:(0,O.ZP)(O.Fm.PATIENT,O.qz.WRITE)?Z:Z.slice(0,Z.length-1),FilterMenu:M,setFilterCompanyId:l,filterCompanyId:r,setSearch:U,buttonClick:function(t,e){e===N.A6.ADD&&St("/app/patient/add"),e===N.A6.EXPORT&&Nt(!0)},setFilterValue:xt,filterValue:At,searchPlaceholder:"Search with Code, Name, Email, Mobile"}),(0,I.jsx)(o.lG,{className:"h-full",bodyClass:"h-full",children:(0,I.jsx)(o.wQ,{isCursor:!1,columns:(0,O.wX)(yt,O.Fm.PATIENT),data:Y,loading:T,skeletonAvatarColumns:[0],skeletonAvatarProps:{width:28,height:28},pagingData:{pageIndex:V,pageSize:et,total:X},onPaginationChange:function(t){return q(t)},onSelectChange:function(t){return nt(t)}})}),(0,I.jsx)(g.Z,{isOpen:ut,onConfirmClick:function(){var t,e={type:v.kD.PATIENTS,id:null===at||void 0===at?void 0:at.id};vt?(t=N.D5,e.status=+(null===at||void 0===at?void 0:at.action)):(t=N.O7,e.status=0),(0,f.Fv)(v.vh.BLOCK_DELETE_DATA,e).then((function(e){m.Am.push((0,I.jsx)(m.P_,{type:"success",children:t})),_((function(t){return!t})),wt()}))},header:y.header,des:vt?null===N.uF||void 0===N.uF?void 0:N.uF.des:y.des,onDialogClose:wt,isWarning:!vt&&y.warning,buttonLabel:vt?null===N.uF||void 0===N.uF?void 0:N.uF.buttonLabel:y.buttonLabel}),(0,I.jsx)(b.Z,{isOpen:!!gt,onDialogClose:wt,selectedId:gt,setRefresh:_}),(0,I.jsx)(A.Z,{type:"3",isOpen:Et,onDialogClose:wt})]})}},12712:function(t){t.exports=function(){"use strict";var t={year:0,month:1,day:2,hour:3,minute:4,second:5},e={};return function(n,i,o){var a,r=function(t,n,i){void 0===i&&(i={});var o=new Date(t),a=function(t,n){void 0===n&&(n={});var i=n.timeZoneName||"short",o=t+"|"+i,a=e[o];return a||(a=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:i}),e[o]=a),a}(n,i);return a.formatToParts(o)},s=function(e,n){for(var i=r(e,n),a=[],s=0;s<i.length;s+=1){var l=i[s],u=l.type,c=l.value,d=t[u];d>=0&&(a[d]=parseInt(c,10))}var f=a[3],v=24===f?0:f,m=a[0]+"-"+a[1]+"-"+a[2]+" "+v+":"+a[4]+":"+a[5]+":000",h=+e;return(o.utc(m).valueOf()-(h-=h%1e3))/6e4},l=i.prototype;l.tz=function(t,e){void 0===t&&(t=a);var n=this.utcOffset(),i=this.toDate(),r=i.toLocaleString("en-US",{timeZone:t}),s=Math.round((i-new Date(r))/1e3/60),l=o(r).$set("millisecond",this.$ms).utcOffset(15*-Math.round(i.getTimezoneOffset()/15)-s,!0);if(e){var u=l.utcOffset();l=l.add(n-u,"minute")}return l.$x.$timezone=t,l},l.offsetName=function(t){var e=this.$x.$timezone||o.tz.guess(),n=r(this.valueOf(),e,{timeZoneName:t}).find((function(t){return"timezonename"===t.type.toLowerCase()}));return n&&n.value};var u=l.startOf;l.startOf=function(t,e){if(!this.$x||!this.$x.$timezone)return u.call(this,t,e);var n=o(this.format("YYYY-MM-DD HH:mm:ss:SSS"));return u.call(n,t,e).tz(this.$x.$timezone,!0)},o.tz=function(t,e,n){var i=n&&e,r=n||e||a,l=s(+o(),r);if("string"!=typeof t)return o(t).tz(r);var u=function(t,e,n){var i=t-60*e*1e3,o=s(i,n);if(e===o)return[i,e];var a=s(i-=60*(o-e)*1e3,n);return o===a?[i,o]:[t-60*Math.min(o,a)*1e3,Math.max(o,a)]}(o.utc(t,i).valueOf(),l,r),c=u[0],d=u[1],f=o(c).utcOffset(d);return f.$x.$timezone=r,f},o.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},o.tz.setDefault=function(t){a=t}}}()},83027:function(t){t.exports=function(){"use strict";var t="minute",e=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(i,o,a){var r=o.prototype;a.utc=function(t){return new o({date:t,utc:!0,args:arguments})},r.utc=function(e){var n=a(this.toDate(),{locale:this.$L,utc:!0});return e?n.add(this.utcOffset(),t):n},r.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var s=r.parse;r.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),s.call(this,t)};var l=r.init;r.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else l.call(this)};var u=r.utcOffset;r.utcOffset=function(i,o){var a=this.$utils().u;if(a(i))return this.$u?0:a(this.$offset)?u.call(this):this.$offset;if("string"==typeof i&&(i=function(t){void 0===t&&(t="");var i=t.match(e);if(!i)return null;var o=(""+i[0]).match(n)||["-",0,0],a=o[0],r=60*+o[1]+ +o[2];return 0===r?0:"+"===a?r:-r}(i),null===i))return this;var r=Math.abs(i)<=16?60*i:i,s=this;if(o)return s.$offset=r,s.$u=0===i,s;if(0!==i){var l=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(s=this.local().add(r+l,t)).$offset=r,s.$x.$localOffset=l}else s=this.utc();return s};var c=r.format;r.format=function(t){var e=t||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return c.call(this,e)},r.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*t},r.isUTC=function(){return!!this.$u},r.toISOString=function(){return this.toDate().toISOString()},r.toString=function(){return this.toDate().toUTCString()};var d=r.toDate;r.toDate=function(t){return"s"===t&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():d.call(this)};var f=r.diff;r.diff=function(t,e,n){if(t&&this.$u===t.$u)return f.call(this,t,e,n);var i=this.local(),o=a(t).local();return f.call(i,o,e,n)}}}()}}]);
//# sourceMappingURL=8154.6d090561.chunk.js.map