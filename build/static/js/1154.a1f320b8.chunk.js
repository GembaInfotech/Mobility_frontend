"use strict";(self.webpackChunknasp=self.webpackChunknasp||[]).push([[1154],{79739:function(e,n,t){t.d(n,{Y:function(){return a}});var a={VIEW_IMAGE:"/img/prescription.png",REPLY:"/img/reply.png",STATUS:"/img/status.png",EXPORT:"/img/fileExport.svg",RECEIPT:"/img/receipt.svg",DOWNLOAD_PDF:"/img/download.png"}},25764:function(e,n,t){t(72791);var a=t(73038),i=t(80184);n.Z=function(e){var n=e.header,t=e.des,l=e.onDialogClose,o=e.isWarning,r=e.onConfirmClick,s=e.isOpen,d=e.buttonLabel;return(0,i.jsx)(a.Vq,{isOpen:s,onClose:l,onRequestClose:l,contentClassName:"pb-0 px-0 mt-36 min-w-36",children:(0,i.jsxs)("div",{className:"px-5 pb-5",children:[(0,i.jsx)("h5",{className:"mb-4",children:n}),(0,i.jsx)("p",{children:t}),o&&(0,i.jsx)("p",{className:"text-red-700",children:o}),(0,i.jsxs)("div",{className:"text-right mt-6",children:[(0,i.jsx)(a.zx,{className:"ltr:mr-2 rtl:ml-2",variant:"plain",onClick:l,children:"Cancel"}),(0,i.jsx)(a.zx,{variant:"solid",onClick:r,children:d})]})]})})}},52452:function(e,n,t){var a=t(23532),i=t(73038),l=t(80184);n.Z=function(e){var n=e.row,t=e.onActionHandle,o=e.actionsMenu,r=(0,a.Z)().textTheme;return(0,l.jsx)("div",{className:"flex items-center justify-between",children:null===o||void 0===o?void 0:o.map((function(e,a){var o,s;if(null===(o=null===e||void 0===e||null===(s=e.show)||void 0===s?void 0:s.call(e))||void 0===o||o)return(0,l.jsx)(i.u,{title:null===e||void 0===e?void 0:e.toolTip,visible:!(null===e||void 0===e||!e.toolTip),children:null!==e&&void 0!==e&&e.isImage?(0,l.jsx)("img",{src:e.label,alt:"view Icon",style:{maxWidth:"20px"},className:"cursor-pointer mx-0.5",onClick:function(a){return t(a,e.key,n)}}):(0,l.jsx)("span",{className:"".concat(r," cursor-pointer select-none font-semibold ml-2 "),onClick:function(a){return t(a,e.key,n)},children:e.label})})}))})}},54167:function(e,n,t){var a=t(1413),i=t(73038),l=t(54048),o=t(11723),r=(t(72791),t(9494)),s=t(80184);n.Z=function(e){var n=e.type,t=e.onDialogClose,d=e.isOpen,c=e.user,u=e.Payload;return(0,s.jsx)(i.Vq,{isOpen:d,onClose:t,onRequestClose:t,contentClassName:"pb-0 px-0 mt-36 min-w-36",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("p",{className:"text-md mb-6 font-bold ",children:"Please download the Excel file for the data."}),(0,s.jsx)("div",{className:"text-right mt-6",children:(0,s.jsx)(i.zx,{variant:"solid",type:"button",onClick:function(){var e=(0,a.Z)({type:n},u);c&&(e.userId=null===c||void 0===c?void 0:c._id),(0,r.Fv)(o.vh.EXPORT_DATA,e).then((function(e){var n;i.Am.push((0,s.jsx)(i.P_,{type:"success",children:"Exported successfully"}));var a=document.createElement("a");a.href=l.Z.imageBaseUrl+(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.fileName),a.download="file_name.xlsx",document.body.appendChild(a),a.click(),document.body.removeChild(a),t()})).catch((function(e){i.Am.push((0,s.jsxs)(i.P_,{type:"error",children:["Export failed: ",e.message]}))}))},children:"Export/Download File"})})]})})}},60791:function(e,n,t){t.d(n,{Z:function(){return P}});var a=t(29439),i=t(72791),l=t(81694),o=t.n(l),r=t(68585),s=t(73038),d=t(58617),c=t(9494),u=t(57689);function v(e,n){return e.length===n+1}t(80354);var m=t(23532),p=t(60364),h=t(71672),f=t(11723),x=t(97892),b=t.n(x),D=t(52639),S=t(80184),y="h-72",g=1,N=2,j=3,E=4,I=5,C=6,A=7,T=8,R=9,w=function(e){var n=e.className,t=e.content;return(0,S.jsx)("div",{className:o()("text-2xl",n),children:t?(0,S.jsx)(s.Ct,{badgeStyle:{top:"3px",right:"6px"},content:t,children:(0,S.jsx)(d.Uet,{})}):(0,S.jsx)(d.Uet,{})})},P=(0,r.Z)((function(e){var n=e.className,t=(0,i.useState)([]),l=(0,a.Z)(t,2),r=l[0],d=l[1],x=(0,i.useRef)(),P=(0,i.useState)(0),k=(0,a.Z)(P,2),F=k[0],Z=k[1],O=(0,i.useState)(0),_=(0,a.Z)(O,2),L=_[0],z=(_[1],(0,i.useState)(!1)),V=(0,a.Z)(z,2),M=V[0],q=(V[1],(0,i.useState)()),H=(0,a.Z)(q,2),U=H[0],W=(H[1],(0,i.useState)(!1)),Y=(0,a.Z)(W,2),J=Y[0],B=(Y[1],(0,i.useState)(!1)),G=(0,a.Z)(B,2),X=G[0],K=(G[1],(0,u.s0)()),Q=(0,m.Z)().bgTheme,$=(0,h.Z)().larger,ee=((0,p.v9)((function(e){return e.theme.direction})),function(){});(0,i.useEffect)((function(){var e=setInterval(ee,6e4);return function(){return clearInterval(e)}}),[]),(0,i.useEffect)((function(){}),[F,M,L]);var ne=function(e){var n=r.map((function(n){return n.id===e&&(console.log(),(0,c.Fv)(f.vh.UNREAD_NOTIFICATION,{id:e}),function(e,n){switch(e){case g:K("/app/orderManagement/ecom-order/view/".concat(n));break;case N:K("/app/service-order/view/".concat(n));break;case j:K("/app/order-management/cancel-request/order-reply/".concat(n));break;case E:K("/app/patient/edit/".concat(n));break;case I:K("/app/provider/edit/".concat(n));break;case C:K("/app/staff/edit/".concat(n));break;case A:K("/app/users-feedback");break;case T:K("/app/contact-queries");break;case R:K("/app/products/edit/".concat(n));break;default:;}}(null===n||void 0===n?void 0:n.type,null===n||void 0===n?void 0:n.recordId)),n}));d(n)};return(0,S.jsxs)(s.Lt,{renderTitle:(0,S.jsx)(w,{content:U,className:n}),menuClass:"p-0 min-w-[280px] md:min-w-[540px]",placement:$.md?"bottom-end":"bottom-center",onOpen:ee,children:[(0,S.jsx)(s.Lt.Item,{variant:"header",children:(0,S.jsxs)("div",{className:"border-b border-gray-200 dark:border-gray-600 px-4 py-2 flex items-center justify-between",children:[(0,S.jsx)("h6",{children:"Notifications"}),(0,S.jsx)(s.u,{title:"Mark all as read"})]})}),(0,S.jsxs)("div",{ref:x,onScroll:function(){if(x.current){var e=x.current,n=e.scrollTop,t=e.scrollHeight;n+e.clientHeight===t&&Z(F+1)}},className:o()("overflow-y-auto",y),children:[r.length>0&&r.map((function(e,n){return(0,S.jsxs)(s.Lt.Item,{className:" relative flex px-4 py-4 cursor-pointer hover:bg-gray-50 active:bg-gray-100 dark:hover:bg-black dark:hover:bg-opacity-20  ".concat(v(r,n)?"":"border-b border-gray-200 dark:border-gray-600"),onClick:function(){return ne(e.id)},children:[(0,S.jsxs)("div",{className:"ltr:ml-3 rtl:mr-3 ",children:[(0,S.jsxs)("div",{children:[e.title&&(0,S.jsxs)("div",{className:"font-semibold heading-text",children:[e.title," "]}),(0,S.jsx)("p",{children:e.body})]}),(0,S.jsx)("div",{className:"text-xs",children:b()(e.createdAt).format(D.a1)})]}),(0,S.jsx)(s.Ct,{className:"absolute top-4 ltr:right-4 rtl:left-4 mt-1.5",innerClass:"".concat(1===e.isRead?"bg-gray-300":Q," ")})]},e.id)})),X&&(0,S.jsx)("div",{className:o()("flex items-center justify-center",y),children:(0,S.jsx)(s.$j,{size:40})}),J&&(0,S.jsx)("div",{className:o()("flex items-center justify-center",y),children:(0,S.jsxs)("div",{className:"text-center",children:[(0,S.jsx)("img",{className:"mx-auto mb-2 max-w-[150px]",src:"/img/others/no-notification.png",alt:"no-notification"}),(0,S.jsx)("h6",{className:"font-semibold",children:"No notifications!"}),(0,S.jsx)("p",{className:"mt-1",children:"Please Try again later"})]})})]})]})}))},10515:function(e,n,t){t(72791);var a=t(73038),i=t(58617),l=t(48573),o=t.n(l),r=t(80184);n.Z=function(e){var n=e.onChange,t=e.placeholder,l=o()((function(e){null===n||void 0===n||n(e)}),500);return(0,r.jsx)(a.II,{className:"max-w-md md:w-96 mb-4",size:"sm",placeholder:t?"".concat(t):"Filter by NAL, LCode, Referring Physician",prefix:(0,r.jsx)(i.O6C,{className:"text-lg"}),onChange:function(e){l(e.target.value)}})}},9494:function(e,n,t){t.d(n,{EY:function(){return d},Fv:function(){return s},ac:function(){return r}});var a=t(74165),i=t(15861),l=t(91181),o=t(14712);function r(e,n){return o.Z.get(e,{params:n}).then((function(e){return null===e||void 0===e?void 0:e.data}))}function s(e,n){return o.Z.post(e,n).then((function(e){return null===e||void 0===e?void 0:e.data}))}function d(e){return c.apply(this,arguments)}function c(){return(c=(0,i.Z)((0,a.Z)().mark((function e(n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l.Z.fetchData({url:"/search/query",method:"post",data:n}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},68585:function(e,n,t){var a=t(1413),i=(t(72791),t(81694)),l=t.n(i),o=t(80184);n.Z=function(e){return function(n){var t=n.className,i=n.hoverable,r=void 0===i||i;return(0,o.jsx)(e,(0,a.Z)((0,a.Z)({},n),{},{className:l()("header-action-item",r&&"header-action-item-hoverable",t)}))}}},71672:function(e,n,t){var a=t(29439),i=t(72791),l="576",o="640px",r="768px",s="1024px",d="1280px",c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return parseInt(e.replace("px",""))},u={"2xl":c("1536px"),xl:c(d),lg:c(s),md:c(r),sm:c(o),xs:c(l)};n.Z=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"smaller",n=window.innerWidth;return Object.fromEntries(Object.entries(u).map((function(t){var i=(0,a.Z)(t,2),l=i[0],o=i[1];return[l,"larger"===e?n>o:n<o]})))},n=function(){return{windowWidth:window.innerWidth,larger:e("larger"),smaller:e("smaller")}},t=(0,i.useState)(n()),l=(0,a.Z)(t,2),o=l[0],r=l[1],s=function(){var e=n();r(e)};return(0,i.useEffect)((function(){return window.addEventListener("resize",s),function(){return window.removeEventListener("resize",s)}}),[o.windowWidth]),o}},61015:function(e,n,t){t.r(n),t.d(n,{default:function(){return Y}});var a=t(29439),i=t(72791),l=t(1413),o=t(73038),r=t(76053),s=t(10515),d=t(9494),c=t(11723),u=t(763),v=t(80034),m=t(52639),p=t(72426),h=t.n(p),f=t(83776),x=t(57689),b=t(80184),D=function(e){var n=e.setSearch,t=e.filtervalue,a=e.setFilterValue,i=e.setFilterPatientId,p=e.filterPatientId,D=e.selectedDate,S=e.setSelectedDate,y=e.filterPatientDob,g=e.setFilterPatientDob,N=e.filterNad,j=e.setFilterNad,E=(0,u.debounce)((function(e,n){(0,d.ac)(c.vh.LIST_DATA,{type:c.kD.PATIENTS,search:e}).then((function(e){var t;n(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data)}))}),300),I=(0,x.s0)();return(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-5",children:[(0,b.jsx)(s.Z,{onChange:function(e){return n(e)}}),(0,b.jsx)(o.Ph,{autoComplete:"off",size:"sm",className:"mb-4 w-30",placeholder:"Filter by Order Status",options:f.IC,value:t,onChange:function(e){a(e)}}),(0,b.jsx)(o.Ph,{autoComplete:"off",placeholder:"Filter by Patient (Name, Phone, ID)",defaultOptions:!0,cacheOptions:!0,size:"sm",className:"mb-4",value:p,loadOptions:E,componentAs:v.Z,getOptionLabel:function(e){return"".concat(null===e||void 0===e?void 0:e.firstName," ").concat(null!==e&&void 0!==e&&e.lastName?null===e||void 0===e?void 0:e.lastName:""," ").concat(null!==e&&void 0!==e&&e.patientNo?"(".concat(null===e||void 0===e?void 0:e.patientNo,")"):""," ").concat(null!==e&&void 0!==e&&e.dob?"(".concat(h()(null===e||void 0===e?void 0:e.dob).format(m.zT),")"):"")},getOptionValue:function(e){return null===e||void 0===e?void 0:e._id},onChange:function(e){i(e)}}),(0,b.jsx)(o.Mt,{inputtable:!0,clearable:!1,className:"",placeholder:"Filter by Patient DOB ".concat(m.zT),size:"sm",name:"patientDob",inputFormat:m.zT,maxDate:new Date,value:y,onChange:function(e){return g(h()(e).format(m.zT))}}),(0,b.jsx)(o.Mt,{clearable:!1,className:"",placeholder:"Order Start Date",size:"sm",name:"startDate",inputFormat:m.zT,maxDate:null!==D&&void 0!==D&&D.endDate?new Date(null===D||void 0===D?void 0:D.endDate):new Date,value:null===D||void 0===D?void 0:D.startDate,onChange:function(e){return S((0,l.Z)((0,l.Z)({},D),{},{startDate:h()(e).format(m.zT)}))}}),(0,b.jsx)(o.Mt,{clearable:!1,name:"endDate",className:"",placeholder:"Order End Date",size:"sm",inputFormat:m.zT,minDate:null!==D&&void 0!==D&&D.startDate?new Date(null===D||void 0===D?void 0:D.startDate):null,maxDate:new Date,value:null===D||void 0===D?void 0:D.endDate,onChange:function(e){return S((0,l.Z)((0,l.Z)({},D),{},{endDate:h()(e).format(m.zT)}))}}),(0,b.jsx)(o.Mt,{inputtable:!0,clearable:!1,className:"",placeholder:"Filter By NAD",size:"sm",name:"nad",inputFormat:m.zT,value:N,onChange:function(e){return j(h()(e).format(m.zT))}}),(0,b.jsx)(o.zx,{size:"sm",onClick:function(){g(null),a(""),i(""),S({startDate:null,endDate:null}),j(null),I("/app/orderManagement/service-order")},icon:(0,b.jsx)(r.pYJ,{}),children:"Reset"})]})},S=function(e){var n=e.setSearch,t=e.buttonMenu,a=e.buttonClick,i=e.filtervalue,l=e.setFilterValue,r=e.setFilterPatientId,s=e.filterPatientId,d=e.selectedDate,c=e.setSelectedDate,u=e.filterPatientDob,v=e.setFilterPatientDob,m=e.filterNad,p=e.setFilterNad,h=function(e){var n=e.buttonClick,t=e.buttonMenu;return(0,b.jsx)("div",{className:"mb-4 ",children:null===t||void 0===t?void 0:t.map((function(e,t,a){return(0,b.jsx)(o.zx,{size:"sm",variant:"solid",onClick:function(t){return n(t,e.key)},style:{marginLeft:"5px"},icon:e.icon,children:e.label},t)}))})};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"md:flex items-center justify-end",children:(0,b.jsx)(h,{buttonMenu:t,buttonClick:a})}),(0,b.jsx)("div",{className:"items-center lg:flex",children:(0,b.jsx)(D,{selectedDate:d,setSelectedDate:c,setFilterPatientDob:v,filterPatientDob:u,setSearch:n,setFilterValue:l,filtervalue:i,setFilterPatientId:r,filterPatientId:s,setFilterNad:p,filterNad:m})})]})},y=t(40018),g=t(92506),N=t(78820),j=t(62797),E=t(11799),I=t.n(E),C=(t(81778),j.Ry().shape({appointmentDate:j.Z_().required("Required"),appointmentTime:j.Z_().required("Required"),appointmentAddress:j.Z_().required("Required")})),A=function(e){var n=e.onSubmit,t=e.selectedData;return(0,b.jsx)(g.J9,{initialValues:{appointmentDate:null!==(null===t||void 0===t?void 0:t.appointmentDate)?new Date(null===t||void 0===t?void 0:t.appointmentDate):"",appointmentTime:null!==(null===t||void 0===t?void 0:t.appointmentTime)?new Date(null===t||void 0===t?void 0:t.appointmentTime):"",appointmentAddress:null!==(null===t||void 0===t?void 0:t.appointmentAddress)?null===t||void 0===t?void 0:t.appointmentAddress:""},validationSchema:C,onSubmit:n,enableReinitialize:!0,children:function(e){var n=e.errors,t=e.touched,a=e.values,i=e.isSubmitting,l=e.setFieldValue;return(0,b.jsx)(g.l0,{className:"p-5",children:(0,b.jsxs)(o.Yb,{children:[(0,b.jsx)(o.xJ,{label:"Appointment Date",invalid:(null===n||void 0===n?void 0:n.appointmentDate)&&(null===t||void 0===t?void 0:t.appointmentDate),errorMessage:null===n||void 0===n?void 0:n.appointmentDate,children:(0,b.jsx)(o.Mt,{value:null===a||void 0===a?void 0:a.appointmentDate,inputFormat:m.zT,name:"appointmentDate",placeholder:"Select appointment date",onChange:function(e){l("appointmentDate",e)}})}),(0,b.jsx)(o.xJ,{label:"Appointment Time",invalid:(null===n||void 0===n?void 0:n.appointmentTime)&&(null===t||void 0===t?void 0:t.appointmentTime),errorMessage:null===n||void 0===n?void 0:n.appointmentTime,children:(0,b.jsx)(I(),{onChange:function(e){e._isValid&&l("appointmentTime",e)},value:new Date(null===a||void 0===a?void 0:a.appointmentTime),dateFormat:!1,timeFormat:"hh:mm  A",inputProps:{placeholder:"Enter time",style:{width:"100%",borderWidth:"1px",height:"2.75rem",borderRadius:"0.375rem",padding:"0.5rem 0.75rem"}}})}),(0,b.jsx)(o.xJ,{label:"Appointment Address",invalid:(null===n||void 0===n?void 0:n.appointmentAddress)&&(null===t||void 0===t?void 0:t.appointmentAddress),errorMessage:null===n||void 0===n?void 0:n.appointmentAddress,children:(0,b.jsx)(g.gN,{textArea:!0,type:"text",autoComplete:"off",name:"appointmentAddress",placeholder:"Enter appointment address",component:o.II})}),(0,b.jsxs)(y.gi,{className:"-mx-8 px-8 flex items-center justify-between py-4",stickyClass:"border-t bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[(0,b.jsx)("div",{}),(0,b.jsx)("div",{className:"md:flex items-center",children:(0,b.jsx)(o.zx,{size:"sm",variant:"solid",loading:i,type:"submit",icon:(0,b.jsx)(N.JMf,{}),children:"Set Appoinment"})})]})]})})}})},T=t(79739),R=[{label:"Prescription",value:1},{label:"Letter of Medical Necessity",value:2},{label:"Insurance verification",value:3},{label:"Insurance authorization",value:4},{label:"Delivery Receipt",value:5}],w=function(e){var n,t,a,i=e.onSubmit,l=e.selectedData;return(0,b.jsxs)("div",{className:"px-5 py-2.5",children:[(0,b.jsxs)("div",{className:"text-base font-bold mb-4",children:["Selected Patient:"," ",(0,b.jsx)("span",{className:"text-blue-900",children:"".concat(null===l||void 0===l||null===(n=l.patientId)||void 0===n?void 0:n.firstName," ").concat(null===l||void 0===l||null===(t=l.patientId)||void 0===t?void 0:t.lastName," (").concat(null===l||void 0===l||null===(a=l.patientId)||void 0===a?void 0:a.patientNo,")")})]}),R.map((function(e,n){return(0,b.jsxs)("div",{className:"my-2.5 w-7/12 flex justify-between font-bold text-blue-900 text-base",children:[(0,b.jsxs)("div",{children:[n+1,". ","  ",null===e||void 0===e?void 0:e.label]}),(0,b.jsx)(o.u,{title:"Download",visible:!0,children:(0,b.jsx)("img",{src:T.Y.DOWNLOAD_PDF,alt:"donwload Icon",style:{maxWidth:"20px"},className:"cursor-pointer mx-0.5",onClick:function(){return i("onDownload")}})},n)]},n)}))]})},P=j.Ry().shape({insuranceStatus:j.Ry().required("Required"),insuranceAmount:j.Rx().required("Required"),insuranceNotes:j.Z_().required("Required")}),k=function(e){var n=e.onSubmit,t=e.selectedData;return(0,b.jsx)(g.J9,{initialValues:{insuranceStatus:null!==(null===t||void 0===t?void 0:t.insuranceStatus)?m.Em.find((function(e,n){return e.value===(null===t||void 0===t?void 0:t.insuranceStatus)})):"",insuranceAmount:null!==(null===t||void 0===t?void 0:t.insuranceAmount)?null===t||void 0===t?void 0:t.insuranceAmount:"",insuranceNotes:null!==(null===t||void 0===t?void 0:t.insuranceNotes)?null===t||void 0===t?void 0:t.insuranceNotes:""},validationSchema:P,onSubmit:n,enableReinitialize:!0,children:function(e){var n=e.errors,t=e.touched,a=e.values,i=e.isSubmitting,l=e.setFieldValue;return(0,b.jsx)(g.l0,{className:"p-5",children:(0,b.jsxs)(o.Yb,{children:[(0,b.jsx)(o.xJ,{label:"Insurance Status",invalid:(null===n||void 0===n?void 0:n.insuranceStatus)&&(null===t||void 0===t?void 0:t.insuranceStatus),errorMessage:null===n||void 0===n?void 0:n.insuranceStatus,children:(0,b.jsx)(g.gN,{component:o.Ph,autoComplete:"off",placeholder:"Select Status",defaultOptions:!0,cacheOptions:!0,options:m.Em,getOptionLabel:function(e){return null===e||void 0===e?void 0:e.label},getOptionValue:function(e){return null===e||void 0===e?void 0:e.value},onChange:function(e){return l("insuranceStatus",e)},name:"insuranceStatus",value:null===a||void 0===a?void 0:a.insuranceStatus})}),(0,b.jsx)(o.xJ,{label:"Insurance Amount in ($) (If Approved)",invalid:(null===n||void 0===n?void 0:n.insuranceAmount)&&(null===t||void 0===t?void 0:t.insuranceAmount),errorMessage:null===n||void 0===n?void 0:n.insuranceAmount,children:(0,b.jsx)(g.gN,{textArea:!1,type:"number",autoComplete:"off",name:"insuranceAmount",placeholder:"Enter Amount",component:o.II})}),(0,b.jsx)(o.xJ,{label:"Remarks",invalid:(null===n||void 0===n?void 0:n.insuranceNotes)&&(null===t||void 0===t?void 0:t.insuranceNotes),errorMessage:null===n||void 0===n?void 0:n.insuranceNotes,children:(0,b.jsx)(g.gN,{textArea:!0,type:"text",autoComplete:"off",name:"insuranceNotes",placeholder:"Enter Remarks",component:o.II})}),(0,b.jsxs)(y.gi,{className:"-mx-8 px-8 flex items-center justify-between py-4",stickyClass:"border-t bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[(0,b.jsx)("div",{}),(0,b.jsx)("div",{className:"md:flex items-center",children:(0,b.jsx)(o.zx,{size:"sm",variant:"solid",loading:i,icon:(0,b.jsx)(N.JMf,{}),type:"submit",children:"Submit"})})]})]})})}})},F=function(e){var n=e.onSubmit,t=e.selectedData;return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(g.J9,{initialValues:{orderStatus:null===t||void 0===t?void 0:t.orderStatus,id:null===t||void 0===t?void 0:t.id},onSubmit:n,enableReinitialize:!0,children:function(e){e.errors,e.touched;var n=e.values,t=e.isSubmitting,a=e.setFieldValue;return(0,b.jsx)(g.l0,{className:"p-5",children:(0,b.jsxs)(o.Yb,{children:[(0,b.jsx)(o.xJ,{label:"Order Status",children:(0,b.jsx)(g.gN,{component:o.Ph,autoComplete:"off",name:"orderStatus",value:f.IC.find((function(e,t){return e.value===(null===n||void 0===n?void 0:n.orderStatus)})),placeholder:"Select Status",options:f.IC,defaultOptions:!0,onChange:function(e){return a("orderStatus",e)},cacheOptions:!0})}),(0,b.jsxs)(y.gi,{className:"-mx-8 px-8 flex items-center justify-between py-4",stickyClass:"border-t bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[(0,b.jsx)("div",{}),(0,b.jsx)("div",{className:"md:flex items-center",children:(0,b.jsx)(o.zx,{size:"sm",variant:"solid",loading:t,icon:(0,b.jsx)(N.JMf,{}),type:"submit",children:"Submit"})})]})]})})}})})},Z=function(e){var n=e.selectedKey,t=e.selectedData,r=e.closeDialog,s=(0,i.useState)(),u=(0,a.Z)(s,2),v=u[0],p=u[1],h=function(e){if(n===f.Fh.STATUS_CHANGE){var a;e.orderStatus=null===e||void 0===e||null===(a=e.orderStatus)||void 0===a?void 0:a.value;var i=new FormData;i.append("id",null===t||void 0===t?void 0:t._id),i.append("orderStatus",null===e||void 0===e?void 0:e.orderStatus),(0,d.Fv)(c.vh.ADD_EDIT_PRESCRIPTION,i).then((function(e){o.Am.push((0,b.jsx)(o.P_,{type:"success",children:m.D5})),r()}))}var s;(n===f.Fh.CALENDOR&&(0,d.Fv)(c.vh.ADD_EDIT_SERVICE_ORDER,(0,l.Z)((0,l.Z)({},e),{},{id:null===t||void 0===t?void 0:t._id})).then((function(e){o.Am.push((0,b.jsx)(o.P_,{type:"success",children:m.D5})),r()})),n===f.Fh.INSURANCE)&&(e.insuranceStatus=null===e||void 0===e||null===(s=e.insuranceStatus)||void 0===s?void 0:s.value,(0,d.Fv)(c.vh.ADD_EDIT_SERVICE_ORDER,(0,l.Z)((0,l.Z)({},e),{},{id:null===t||void 0===t?void 0:t.id})).then((function(e){o.Am.push((0,b.jsx)(o.P_,{type:"success",children:m.D5})),r()})))};return(0,i.useEffect)((function(){p(f.m0[n])}),[n]),(0,b.jsxs)("div",{style:{minHeight:"250px"},children:[(0,b.jsx)("div",{className:"text-base font-bold\tpl-5",children:v}),n===f.Fh.CALENDOR&&(0,b.jsx)(A,{onSubmit:h,selectedData:t}),n===f.Fh.DOWNLOAD&&(0,b.jsx)(w,{onSubmit:h,selectedData:t}),n===f.Fh.INSURANCE&&(0,b.jsx)(k,{onSubmit:h,selectedData:t}),n===f.Fh.STATUS_CHANGE&&(0,b.jsx)(F,{onSubmit:h,selectedData:t})]})},O=t(97892),_=t.n(O),L=t(56355),z=t(54167),V=t(52452),M=t(47511),q=t(25764),H=t(60791),U=[{label:(0,b.jsx)(L.tU3,{}),key:f.Fh.VIEW,toolTip:"View/Edit",show:function(){return(0,M.ZP)(M.Fm.SERVICEORDER,M.qz.WRITE)}},{label:(0,b.jsx)(L.aBF,{}),key:f.Fh.DOWNLOAD,toolTip:"Download Forms",show:function(){return(0,M.ZP)(M.Fm.SERVICEORDER,M.qz.READ)}},{label:T.Y.EXPORT,key:f.Fh.MEDICAL_NECESSITY,isImage:!0,toolTip:"Medical Necessity",show:function(){return(0,M.ZP)(M.Fm.SERVICEORDER,M.qz.READ)}},{label:T.Y.RECEIPT,key:f.Fh.DELIVERY_RECEIPT,isImage:!0,toolTip:"Delivery Receipt",show:function(){return(0,M.ZP)(M.Fm.SERVICEORDER,M.qz.READ)}},{label:(0,b.jsx)(N.YK6,{style:{fontSize:"1rem"}}),key:f.Fh.DELETE,toolTip:"Delete",show:function(){return(0,M.ZP)(M.Fm.SERVICEORDER,M.qz.DELETE)}}],W=[{label:"Export Excel",key:m.A6.EXPORT,icon:(0,b.jsx)(N.opy,{}),show:function(){return(0,M.ZP)(M.Fm.SERVICEORDER,M.qz.READ)}},{label:"Add Prescription",key:m.A6.ADD,icon:(0,b.jsx)(N.QZL,{})}],Y=function(){var e=(0,x.UO)().id,n=(0,i.useState)([]),t=(0,a.Z)(n,2),l=t[0],r=t[1],s=(0,i.useState)(!0),u=(0,a.Z)(s,2),v=u[0],p=u[1],h=(0,i.useState)(""),D=(0,a.Z)(h,2),g=D[0],N=D[1],j=(0,i.useState)(1),E=(0,a.Z)(j,2),I=E[0],C=E[1],A=(0,i.useState)(0),T=(0,a.Z)(A,2),R=T[0],w=T[1],P=(0,i.useState)(10),k=(0,a.Z)(P,2),F=k[0],O=k[1],L=(0,i.useState)(!1),Y=(0,a.Z)(L,2),J=Y[0],B=Y[1],G=(0,i.useState)(""),X=(0,a.Z)(G,2),K=X[0],Q=X[1],$=(0,i.useState)(""),ee=(0,a.Z)($,2),ne=ee[0],te=ee[1],ae=(0,i.useState)({startDate:"",endDate:""}),ie=(0,a.Z)(ae,2),le=ie[0],oe=ie[1],re=(0,i.useState)(""),se=(0,a.Z)(re,2),de=se[0],ce=se[1],ue=(0,i.useState)(""),ve=(0,a.Z)(ue,2),me=ve[0],pe=ve[1],he=(0,i.useState)(""),fe=(0,a.Z)(he,2),xe=fe[0],be=fe[1],De=(0,i.useState)(""),Se=(0,a.Z)(De,2),ye=Se[0],ge=Se[1],Ne=(0,i.useState)(""),je=(0,a.Z)(Ne,2),Ee=je[0],Ie=je[1],Ce=(0,i.useState)(!1),Ae=(0,a.Z)(Ce,2),Te=Ae[0],Re=Ae[1],we=(0,i.useState)(!1),Pe=(0,a.Z)(we,2),ke=Pe[0],Fe=Pe[1],Ze=(0,x.s0)();(0,i.useEffect)((function(){e&&(0,d.ac)(c.vh.LIST_DATA,{type:c.kD.PATIENTS,id:e}).then((function(e){var n;return ce(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data)}))}),[]),(0,i.useEffect)((function(){var e={limit:F,search:g,patientId:de&&(null===de||void 0===de?void 0:de._id),skip:F*(I-1)};Ie(e),me&&""!==me&&(e.patientDob=me),ne&&null!==ne&&void 0!==ne&&ne.value&&(e.status=null===ne||void 0===ne?void 0:ne.value),null!==le&&void 0!==le&&le.startDate&&null!==le&&void 0!==le&&le.endDate&&(e.startDate=null===le||void 0===le?void 0:le.startDate,e.endDate=null===le||void 0===le?void 0:le.endDate),xe&&""!==xe&&(e.nad=xe),(0,d.ac)(c.vh.GET_SERVICE_ORDER,e).then((function(e){var n,t;r(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data),w(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.count)})).finally((function(){return p(!1)}))}),[g,I,F,ne,de,Te,le,me,xe]);var Oe=function(e,n,t){e.preventDefault(),n===f.Fh.VIEW?Ze("/app/service-order/edit/".concat(null===t||void 0===t?void 0:t._id)):n===f.Fh.DELIVERY_RECEIPT?Ze("/app/orderManagement/delivery-receipt/".concat(null===t||void 0===t?void 0:t._id)):n===f.Fh.MEDICAL_NECESSITY?Ze("/app/orderManagement/medical-necessity/".concat(null===t||void 0===t?void 0:t._id)):(B(!0),Q(n),ge(t))},_e=function(){Q(""),B(!1),Re(!Te),ge(""),Fe(!1)},Le=function(e){var n=e.status,t=e.selectedRow,a=f.IC.find((function(e){return(null===e||void 0===e?void 0:e.value)===n}));return(0,b.jsx)("div",{className:"flex justify-center",onClick:function(){Q(f.Fh.STATUS_CHANGE),B(!0),ge(t)},children:(0,b.jsx)(o.Vp,{className:"bg-".concat([null===a||void 0===a?void 0:a.color],"-100 text-gray-600 rounded border-0 cursor-pointer"),children:null===a||void 0===a?void 0:a.label})})},ze=[{Header:"Presc. Date",Cell:function(e){var n=e.row.original;return(0,b.jsx)("div",{className:"flex items-center w-35",children:_()(null===n||void 0===n?void 0:n.createdAt).format(m.a1)})}},{Header:"Patient Details",Cell:function(e){var n,t,a,i=e.row.original;return(0,b.jsxs)("div",{className:"w-40",children:[(0,b.jsx)("p",{children:"".concat(null===i||void 0===i||null===(n=i.patientId)||void 0===n?void 0:n.lastName,", ").concat(null===i||void 0===i||null===(t=i.patientId)||void 0===t?void 0:t.firstName)}),(0,b.jsx)("span",{className:"text-gray-600 text-xs font-semibold",children:null===i||void 0===i||null===(a=i.patientId)||void 0===a?void 0:a.patientNo})]})}},{Header:"NAD",Cell:function(e){var n=e.row.original;return"".concat(_()(null===n||void 0===n?void 0:n.nextAppointmentDate).format(m.zT)||"-")}},{Header:"NAL",Cell:function(e){var n,t=e.row.original;return"".concat((null===t||void 0===t||null===(n=t.appointmentLocationId)||void 0===n?void 0:n.name)||"-")}},{Header:"LCodes",accessor:"",Cell:function(e){var n,t=e.row.original;return null===t||void 0===t||null===(n=t.prescriptions)||void 0===n?void 0:n.map((function(e,n){var t;return(0,b.jsx)("div",{className:"w-40",children:"".concat(null===e||void 0===e||null===(t=e.lCode)||void 0===t?void 0:t.code," - ").concat(null===e||void 0===e?void 0:e.quantity," qty.")},n)}))}},{Header:"Referring Physician",Cell:function(e){var n,t,a=e.row.original;return"".concat(null!==a&&void 0!==a&&null!==(n=a.physicianId)&&void 0!==n&&n.name?null===a||void 0===a||null===(t=a.physicianId)||void 0===t?void 0:t.name:"")}},{Header:"Insurance",accessor:"",Cell:function(e){var n,t,a=e.row.original;return(0,b.jsx)("div",{className:"flex items-center",children:(null===a||void 0===a||null===(n=a.patientId)||void 0===n||null===(t=n.primaryInsurance)||void 0===t?void 0:t.name)||"Self Pay"})}},{Header:"Presc. Status",accessor:"",Cell:function(e){var n=e.row.original;return(0,b.jsx)(Le,{status:null===n||void 0===n?void 0:n.orderStatus,selectedRow:n})}},{Header:"Actions",id:"action",accessor:function(e){return e},Cell:function(e){return(0,b.jsx)(V.Z,{row:e.row.original,onActionHandle:Oe,actionsMenu:U})}}];return(0,b.jsxs)(b.Fragment,{children:[e&&de&&(0,b.jsxs)("h3",{children:["Of ",null===de||void 0===de?void 0:de.firstName," ",null===de||void 0===de?void 0:de.lastName]}),(0,b.jsx)(S,{buttonMenu:(0,M.ZP)(M.Fm.SERVICEORDER,M.qz.WRITE)?W:W.slice(0,W.length-1),buttonClick:function(n,t){if(t===m.A6.ADD){var a="/app/service-order/add";e&&de?Ze(a,{state:{patientData:de}}):Ze(a)}t===m.A6.EXPORT&&Fe(!0)},setSearch:N,filtervalue:ne,setFilterValue:te,setFilterPatientId:ce,filterPatientId:de,selectedDate:le,setSelectedDate:oe,setFilterPatientDob:pe,filterPatientDob:me,setFilterNad:be,filterNad:xe}),(0,b.jsx)(y.lG,{className:"h-full",bodyClass:"h-full",children:(0,b.jsx)(y.wQ,{isCursor:!1,columns:ze,data:l,loading:v,skeletonAvatarColumns:[0],skeletonAvatarProps:{width:28,height:28},pagingData:{pageIndex:I,pageSize:F,total:R},onPaginationChange:function(e){return C(e)},onSelectChange:function(e){return O(e)}})}),K===f.Fh.DELETE&&(0,b.jsx)(q.Z,{isOpen:J,onConfirmClick:function(){(0,d.Fv)(c.vh.BLOCK_DELETE_DATA,{id:null===ye||void 0===ye?void 0:ye._id,type:c.kD.PRESCRIPTIONS,status:0}).then((function(e){o.Am.push((0,b.jsx)(H.Z,{type:"success",children:m.O7})),_e()})).catch((function(e){var n,t;o.Am.push((0,b.jsx)(H.Z,{type:"error",children:null===e||void 0===e||null===(n=e.response)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.message}))}))},header:m.BI.HEADER,des:m.BI.DELETE,onDialogClose:_e,isWarning:m.BI.WARNING,buttonLabel:"Delete"}),K!==f.Fh.DELETE&&(0,b.jsx)(o.Vq,{isOpen:J,onClose:_e,onRequestClose:_e,contentClassName:"pb-0 px-0 mt-30 min-w-36",children:(0,b.jsx)(Z,{selectedKey:K,selectedData:ye,closeDialog:_e})}),(0,b.jsx)(z.Z,{Payload:Ee,user:de,type:"1",isOpen:ke,onDialogClose:_e})]})}},83776:function(e,n,t){t.d(n,{AH:function(){return I},Fh:function(){return T},IC:function(){return j},MS:function(){return C},m0:function(){return R},mf:function(){return E},qe:function(){return w},xG:function(){return A}});var a=t(73038),i=(t(62797),t(9494)),l=t(48573),o=t.n(l),r=t(11723),s=t(80034),d=t(52639),c=t(97892),u=t.n(c),v=function(e,n){(0,i.ac)(r.vh.LIST_DATA,{type:r.kD.PHYSICIANS,search:e}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data.map((function(e){return{label:"".concat(null===e||void 0===e?void 0:e.name),value:null===e||void 0===e?void 0:e._id}}));n(a)}))},m=function(e,n){(0,i.ac)(r.vh.LIST_DATA,{type:r.kD.LOCATIONS,search:e}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data.map((function(e){return{label:"".concat(null===e||void 0===e?void 0:e.name),value:null===e||void 0===e?void 0:e._id}}));n(a)}))},p=o()(v,300),h=o()(v,300),f=o()((function(e,n){(0,i.ac)(r.vh.LIST_DATA,{type:r.kD.CODES,search:e,codeType:d.FF.Lcode}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data.map((function(e){return{label:null===e||void 0===e?void 0:e.code,value:null===e||void 0===e?void 0:e._id}}));n(a)}))}),300),x=o()((function(e,n){(0,i.ac)(r.vh.LIST_DATA,{type:r.kD.CODES,search:e,codeType:d.FF.Icd}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data.map((function(e){return{label:null===e||void 0===e?void 0:e.code,value:null===e||void 0===e?void 0:e._id}}));n(a)}))}),300),b=o()(m,300),D=o()(m,300),S=o()((function(e,n){(0,i.ac)(r.vh.LIST_DATA,{type:r.kD.PATIENTS,search:e}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data.map((function(e){return{label:"".concat(null===e||void 0===e?void 0:e.firstName," ").concat(null===e||void 0===e?void 0:e.lastName," - ").concat(u()(null===e||void 0===e?void 0:e.dob).format(d.zT)," (").concat(null===e||void 0===e?void 0:e.patientNo,")"),value:null===e||void 0===e?void 0:e._id,data:e}}));n(a)}))}),300),y=o()((function(e,n){(0,i.ac)(r.vh.LIST_DATA,{type:r.kD.DEVICE_TYPES,search:e}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data.map((function(e){return{label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e._id}}));n(a)}))}),300),g=o()((function(e,n){(0,i.ac)(r.vh.LIST_DATA,{type:r.kD.INSURANCES,search:e}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data.map((function(e){return{label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e._id}}));n(a)}))}),300),N=o()((function(e,n){(0,i.ac)(r.vh.LIST_DATA,{type:r.kD.INSURANCES,search:e}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data.map((function(e){return{label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e._id}}));n(a)}))}),300),j=[{label:"Referral Sent",value:1,color:"red"},{label:"Intake Completed",value:2,color:"indigo"},{label:"Insurance Completed",value:3,color:"blue"},{label:"Order Fulfilment in Process",value:4,color:"emerald"},{label:"Order Fulfilment Completed",value:5,color:"cyan"},{label:"Delivery Ready",value:6,color:"orange"},{label:"Delivered",value:7,color:"green"},{label:"DR Sent to PPS",value:8,color:"purple"},{label:"Billed",value:9,color:"orange"},{label:"RNR",value:10,color:"orange"},{label:"Denied",value:11,color:"red"}],E=[{label:"Self Pay",value:1},{label:"Insurance",value:2}],I=[{name:"patientId",label:"Select Patient (Search with name)",component:"asyncSelect",option:S,placeholder:"Select Patient"},{name:"nextAppointmentDate",label:"Next Appointment Date",component:"datepicker"},{name:"locationId",label:"Select Prescription Location (Search with name)",component:"asyncSelect",option:b,placeholder:"Select Location"},{name:"appointmentLocationId",label:"Next Appointment Location (Search with name)",component:"asyncSelect",option:D,placeholder:"Search/Select with Name"},{name:"physicianId",label:"Referring Physician (Search with name)",component:"asyncSelect",option:p,placeholder:"Search Physician"},{name:"renderingPhysicianId",label:"Rendering Physician (Search with name)",component:"asyncSelect",option:h,placeholder:"Search/Select with Name"},{name:"prescriptionDocument",label:"Upload Prescription",component:"PdfUpload"},{name:"physicianNotes",label:"Physician Notes",type:"switch",component:"switch"}],C=[{name:"primaryInsurance",apiType:"insurance",label:"Primary Insurance",option:g,component:"asyncSelect",placeholder:"Select primary insurance"},{name:"primaryInsuranceNo",label:"Primary Insurance No.",type:"text",component:a.II,placeholder:"Enter primary insurance no.",isBasic:!0},{name:"secondaryInsurance",apiType:"insurance",label:"Secondary Insurance",option:N,component:"asyncSelect",placeholder:"Select secondary insurance"},{name:"secondaryInsuranceNo",label:"Seconday Insurance No.",type:"text",component:a.II,placeholder:"Enter secondary insurance no.",isBasic:!0},{name:"insuranceDocument",label:"Upload Insurance Verification",component:"PdfUpload"},{name:"notes",label:"Notes",type:"text",component:a.II,isBasic:!0,placeholder:"Enter notes",textArea:!0}],A=[{name:"deviceType",label:"Device Type",type:"select",key:"deviceType",option:y,placeholder:"Select",component:s.Z,isMulti:!1},{name:"lCode",label:"LCode",type:"select",key:"lCode",option:f,placeholder:"Select",component:s.Z,isMulti:!1},{name:"icdCode",label:"ICD Code",type:"select",key:"icdCode",option:x,placeholder:"Select",component:s.Z,isMulti:!0},{name:"quantity",label:"LCode Quantity",type:"number",key:"quantity",placeholder:"Enter Quantity",component:a.II}],T={DELETE:"delete",EXPORT:"export",VIEW:"view",CALENDOR:"calendor",DOWNLOAD:"download",INSURANCE:"insurance",STATUS_CHANGE:"statusChange",DELIVERY_RECEIPT:"deliveryReceipt",MEDICAL_NECESSITY:"medicalNecessity"},R={calendor:"Appointment",download:"Download Package",insurance:"Insurance",statusChange:"Update Order Status"},w=[{label:"Left",value:1},{label:"Right",value:2},{label:"Spine",value:3},{label:"Bilateral",value:4}]}}]);
//# sourceMappingURL=1154.a1f320b8.chunk.js.map