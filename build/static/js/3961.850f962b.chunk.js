"use strict";(self.webpackChunknasp=self.webpackChunknasp||[]).push([[3961],{25764:function(e,n,t){t(72791);var i=t(16146),l=t(80184);n.Z=function(e){var n=e.header,t=e.des,o=e.onDialogClose,a=e.isWarning,r=e.onConfirmClick,s=e.isOpen,c=e.buttonLabel;return(0,l.jsx)(i.Vq,{isOpen:s,onClose:o,onRequestClose:o,contentClassName:"pb-0 px-0 mt-36 min-w-36",children:(0,l.jsxs)("div",{className:"px-5 pb-5",children:[(0,l.jsx)("h5",{className:"mb-4",children:n}),(0,l.jsx)("p",{children:t}),a&&(0,l.jsx)("p",{className:"text-red-700",children:a}),(0,l.jsxs)("div",{className:"text-right mt-6",children:[(0,l.jsx)(i.zx,{className:"ltr:mr-2 rtl:ml-2",variant:"plain",onClick:o,children:"Cancel"}),(0,l.jsx)(i.zx,{variant:"solid",onClick:r,children:c})]})]})})}},52452:function(e,n,t){var i=t(23532),l=t(16146),o=t(80184);n.Z=function(e){var n=e.row,t=e.onActionHandle,a=e.actionsMenu,r=(0,i.Z)().textTheme;return(0,o.jsx)("div",{className:"flex items-center justify-between",children:null===a||void 0===a?void 0:a.map((function(e,i){var a,s;if(null===(a=null===e||void 0===e||null===(s=e.show)||void 0===s?void 0:s.call(e))||void 0===a||a)return(0,o.jsx)(l.u,{title:null===e||void 0===e?void 0:e.toolTip,visible:!(null===e||void 0===e||!e.toolTip),children:null!==e&&void 0!==e&&e.isImage?(0,o.jsx)("img",{src:e.label,alt:"view Icon",style:{maxWidth:"20px"},className:"cursor-pointer mx-0.5",onClick:function(i){return t(i,e.key,n)}}):(0,o.jsx)("span",{className:"".concat(r," cursor-pointer select-none font-semibold ml-2 "),onClick:function(i){return t(i,e.key,n)},children:e.label})})}))})}},31673:function(e,n,t){t(72791);var i=t(52639),l=t(16146),o=t(80184);n.Z=function(e){var n,t,a=e.dataObj,r=e.setSelectedData,s=e.setActiveConfirm,c=e.setOpenModal,u=null===a||void 0===a||null===(n=a.row)||void 0===n||null===(t=n.original)||void 0===t?void 0:t._id,d=i.uN.find((function(e,n){var t,i;return e.identifier===(null===a||void 0===a||null===(t=a.row)||void 0===t||null===(i=t.original)||void 0===i?void 0:i.status)}));return(0,o.jsx)(l.XZ,{checked:null===d||void 0===d?void 0:d.value,onChange:function(e){return function(e,n,t){var i="";1===n&&(i=2),2===n&&(i=1),r({id:t,action:i}),s(!0),c(!0)}(0,null===d||void 0===d?void 0:d.identifier,u)}})}},93156:function(e,n,t){var i=t(4942),l=t(1413),o=t(72791),a=t(16146),r=t(10515),s=t(76053),c=t(9494),u=t(11723),d=t(763),v=t(80034),f=t(52639),h=t(80184),p=function(e){var n=e.buttonMenu,t=e.buttonClick;return(0,h.jsx)("div",{className:"mb-4",children:null===n||void 0===n?void 0:n.map((function(e,n,i){return(0,h.jsx)(a.zx,{size:"sm",variant:"solid",onClick:function(n){return t(n,e.key)},style:{marginLeft:"5px"},icon:e.icon,children:e.label})}))})},m=function(e){var n=e.setSearch,t=e.FilterMenu,p=e.setFilterValue,m=e.filterValue,x=e.asyncApiType,b=e.searchPlaceholder,C=(0,d.debounce)((function(e,n){(0,c.ac)(1===x?u.vh.GET_USERS:u.vh.GET_CATEGORIES,{search:e}).then((function(e){var t;n(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data)}))}),300);return(0,h.jsxs)("div",{className:"md:flex gap-4 w-full",children:[(0,h.jsx)(r.Z,{placeholder:b,onChange:function(e){return n(e)}}),null===t||void 0===t?void 0:t.map((function(e,t){return(0,h.jsxs)(o.Fragment,{children:["select"===e.component&&(0,h.jsx)(a.Ph,{autoComplete:"off",size:"sm",className:e.className,placeholder:e.placeholder,options:e.options,value:m[null===e||void 0===e?void 0:e.filterKey],onChange:function(n){p((0,l.Z)((0,l.Z)({},m),{},(0,i.Z)({},null===e||void 0===e?void 0:e.filterKey,n)))}}),"resetButton"===e.component&&(0,h.jsx)(a.zx,{size:"sm",className:e.className,onClick:function(){p(null===e||void 0===e?void 0:e.filterKey),n("")},icon:(0,h.jsx)(s.pYJ,{}),children:e.label}),"asyncSelect"===e.component&&(0,h.jsx)(a.Ph,{autoComplete:"off",placeholder:e.placeholder,defaultOptions:!0,cacheOptions:!0,size:"sm",className:e.className,value:null===m||void 0===m?void 0:m[null===e||void 0===e?void 0:e.filterKey],loadOptions:C,componentAs:v.Z,getOptionLabel:function(n){return"".concat(null===n||void 0===n?void 0:n[e.label]," ").concat(null!==e&&void 0!==e&&e.label1?null===n||void 0===n?void 0:n[e.label1]:"")},getOptionValue:function(e){return null===e||void 0===e?void 0:e.id},onChange:function(n){p((0,l.Z)((0,l.Z)({},m),{},(0,i.Z)({},null===e||void 0===e?void 0:e.filterKey,n)))}}),"datePicker"===e.component&&(0,h.jsx)(a.Mt,{inputtable:!0,clearable:!0,selected:m[null===e||void 0===e?void 0:e.filterKey],onChange:function(n){p((0,l.Z)((0,l.Z)({},m),{},(0,i.Z)({},null===e||void 0===e?void 0:e.filterKey,n)))},size:"sm",placeholder:"Patient DOB (MM/DD/YYYY)",name:"patientDob",className:e.className,placeholderText:e.placeholder,dateFormat:f.zT}),"input"===e.component&&(0,h.jsx)(a.II,{size:"sm",className:e.className,placeholder:e.placeholder,value:m[null===e||void 0===e?void 0:e.filterKey],onChange:function(n){p((0,l.Z)((0,l.Z)({},m),{},(0,i.Z)({},null===e||void 0===e?void 0:e.filterKey,n.target.value)))}})]},t)}))]})};n.Z=function(e){var n=e.buttonMenu,t=e.FilterMenu,i=e.setSearch,l=e.buttonClick,o=e.setFilterValue,a=e.filterValue,r=e.asyncApiType,s=e.searchPlaceholder;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"md:flex items-center justify-end",children:(0,h.jsx)(p,{buttonMenu:n,buttonClick:l})}),(0,h.jsx)("div",{className:"items-center lg:flex",children:(0,h.jsx)(m,{searchPlaceholder:s,setSearch:i,FilterMenu:t,setFilterValue:o,filterValue:a,asyncApiType:r})})]})}},10515:function(e,n,t){t(72791);var i=t(16146),l=t(58617),o=t(48573),a=t.n(o),r=t(80184);n.Z=function(e){var n=e.onChange,t=e.placeholder,o=a()((function(e){null===n||void 0===n||n(e)}),500);return(0,r.jsx)(i.II,{className:"max-w-md md:w-96 mb-4",size:"sm",placeholder:t?"".concat(t):"Filter by NAL, LCode, Referring Physician",prefix:(0,r.jsx)(l.O6C,{className:"text-lg"}),onChange:function(e){o(e.target.value)}})}},9494:function(e,n,t){t.d(n,{EY:function(){return c},Fv:function(){return s},ac:function(){return r}});var i=t(74165),l=t(15861),o=t(91181),a=t(14712);function r(e,n){return a.Z.get(e,{params:n}).then((function(e){return null===e||void 0===e?void 0:e.data}))}function s(e,n){return a.Z.post(e,n).then((function(e){return null===e||void 0===e?void 0:e.data}))}function c(e){return u.apply(this,arguments)}function u(){return(u=(0,l.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.Z.fetchData({url:"/search/query",method:"post",data:n}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},93961:function(e,n,t){t.r(n);var i=t(29439),l=t(72791),o=t(57689),a=t(9494),r=t(11723),s=t(16146),c=t(40018),u=t(58617),d=t(93156),v=t(52452),f=t(25764),h=t(31673),p=t(47511),m=t(76053),x=t(52639),b=t(80184),C={header:x.BI.HEADER,des:x.BI.DELETE,warning:x.BI.WARNING,buttonLabel:"Delete"},g=[{label:"Add Stock",key:x.A6.ADD,icon:(0,b.jsx)(u.HQD,{})}],j=[{component:"input",placeholder:"Search",className:"mb-4 w-40",filterKey:"search"},{component:"resetButton",label:"Reset",icon:(0,b.jsx)(m.pYJ,{}),className:"mb-4",filterKey:{search:""}}];n.default=function(){var e=(0,l.useState)([]),n=(0,i.Z)(e,2),t=n[0],u=n[1],m=(0,l.useState)(!0),y=(0,i.Z)(m,2),Z=y[0],N=y[1],k=(0,l.useState)(""),S=(0,i.Z)(k,2),A=S[0],D=S[1],E=(0,l.useState)(!1),T=(0,i.Z)(E,2),F=T[0],w=T[1],O=(0,l.useState)(1),I=(0,i.Z)(O,2),L=I[0],z=I[1],K=(0,l.useState)(0),M=(0,i.Z)(K,2),P=M[0],R=M[1],V=(0,l.useState)(10),Y=(0,i.Z)(V,2),B=Y[0],H=Y[1],_=(0,l.useState)(""),G=(0,i.Z)(_,2),W=G[0],q=G[1],J=(0,l.useState)(!1),Q=(0,i.Z)(J,2),U=Q[0],X=Q[1],$=(0,l.useState)(!1),ee=(0,i.Z)($,2),ne=ee[0],te=ee[1],ie=(0,o.s0)(),le=(0,l.useState)({}),oe=(0,i.Z)(le,2),ae=oe[0],re=oe[1];(0,l.useEffect)((function(){N(!0),(0,a.ac)(r.vh.LIST_DATA,{type:r.kD.INVENTORY,limit:B,search:A,skip:B*(L-1)}).then((function(e){var n,t;u(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data),R(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.count)})).finally((function(){return N(!1)}))}),[A,L,B,F]);var se=[{Header:"Stock Entry Type",accessor:"stockType"},{Header:"Location",accessor:"location"},{Header:"Posting Date",accessor:"postingDate"},{Header:"Created By",accessor:function(e){var n;return e.createdBy?null===(n=e.createdBy)||void 0===n?void 0:n.name:"-"}},{Header:"Active",Cell:function(e){return(0,b.jsx)(h.Z,{dataObj:e,setSelectedData:q,setActiveConfirm:te,setOpenModal:X})}},{Header:"Actions",id:"action",accessor:function(e){return e},Cell:function(e){return(0,b.jsx)(v.Z,{row:e.row.original,onActionHandle:ce})}}],ce=function(e,n,t){n===x.A6.DELETE&&(q({id:null===t||void 0===t?void 0:t._id}),X(!0)),n===x.A6.EDIT&&ie("/app/stockEntry/edit/".concat(null===t||void 0===t?void 0:t._id))},ue=function(){q(""),X(!1),te(!1)};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(d.Z,{buttonMenu:(0,p.ZP)(p.Fm.STOCKENTRY,p.qz.WRITE)?g:g.slice(0,g.length-1),FilterMenu:j,setSearch:D,buttonClick:function(e,n){n===x.A6.ADD&&(console.log("navigate"),ie("/app/stockEntry/add"))},setFilterValue:re,filterValue:ae}),(0,b.jsx)(c.lG,{className:"h-full",bodyClass:"h-full",children:(0,b.jsx)(c.wQ,{isCursor:!1,columns:(0,p._P)(se,p.Fm.STOCKENTRY,1),data:t,loading:Z,skeletonAvatarColumns:[0],skeletonAvatarProps:{width:28,height:28},pagingData:{pageIndex:L,pageSize:B,total:P},onPaginationChange:function(e){return z(e)},onSelectChange:function(e){return H(e)}})}),(0,b.jsx)(f.Z,{isOpen:U,onConfirmClick:function(){var e,n={type:r.kD.INVENTORY,id:null===W||void 0===W?void 0:W.id};ne?(e=x.D5,n.status=+(null===W||void 0===W?void 0:W.action)):(e=x.O7,n.status=0),(0,a.Fv)(r.vh.BLOCK_DELETE_DATA,n).then((function(n){s.Am.push((0,b.jsx)(s.P_,{type:"success",children:e})),w((function(e){return!e})),ue()}))},header:C.header,des:ne?null===x.uF||void 0===x.uF?void 0:x.uF.des:C.des,onDialogClose:ue,isWarning:!ne&&C.warning,buttonLabel:ne?null===x.uF||void 0===x.uF?void 0:x.uF.buttonLabel:C.buttonLabel})]})}}}]);
//# sourceMappingURL=3961.850f962b.chunk.js.map