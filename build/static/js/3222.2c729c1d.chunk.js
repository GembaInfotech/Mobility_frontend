"use strict";(self.webpackChunknasp=self.webpackChunknasp||[]).push([[3222],{25764:(e,l,n)=>{n.d(l,{Z:()=>t});n(72791);var i=n(73038),a=n(80184);const t=e=>{let{header:l,des:n,onDialogClose:t,isWarning:o,onConfirmClick:s,isOpen:d,buttonLabel:r}=e;return(0,a.jsx)(i.Vq,{isOpen:d,onClose:t,onRequestClose:t,contentClassName:"pb-0 px-0 mt-36 min-w-36",children:(0,a.jsxs)("div",{className:"px-5 pb-5",children:[(0,a.jsx)("h5",{className:"mb-4",children:l}),(0,a.jsx)("p",{children:n}),o&&(0,a.jsx)("p",{className:"text-red-700",children:o}),(0,a.jsxs)("div",{className:"text-right mt-6",children:[(0,a.jsx)(i.zx,{className:"ltr:mr-2 rtl:ml-2",variant:"plain",onClick:t,children:"Cancel"}),(0,a.jsx)(i.zx,{variant:"solid",onClick:s,children:r})]})]})})}},52452:(e,l,n)=>{n.d(l,{Z:()=>o});var i=n(23532),a=n(73038),t=n(80184);const o=e=>{let{row:l,onActionHandle:n,actionsMenu:o}=e;const{textTheme:s}=(0,i.Z)();return(0,t.jsx)("div",{className:"flex items-center justify-between",children:null===o||void 0===o?void 0:o.map(((e,i)=>{var o,d;if(null===(o=null===e||void 0===e||null===(d=e.show)||void 0===d?void 0:d.call(e))||void 0===o||o)return(0,t.jsx)(a.u,{title:null===e||void 0===e?void 0:e.toolTip,visible:!(null===e||void 0===e||!e.toolTip),children:null!==e&&void 0!==e&&e.isImage?(0,t.jsx)("img",{src:e.label,alt:"view Icon",style:{maxWidth:"20px"},className:"cursor-pointer mx-0.5",onClick:i=>n(i,e.key,l)}):(0,t.jsx)("span",{className:`${s} cursor-pointer select-none font-semibold ml-2 `,onClick:i=>n(i,e.key,l),children:e.label})})}))})}},31673:(e,l,n)=>{n.d(l,{Z:()=>o});n(72791);var i=n(52639),a=n(73038),t=n(80184);const o=e=>{var l,n;let{dataObj:o,setSelectedData:s,setActiveConfirm:d,setOpenModal:r}=e;const c=null===o||void 0===o||null===(l=o.row)||void 0===l||null===(n=l.original)||void 0===n?void 0:n._id,u=i.uN.find(((e,l)=>{var n,i;return e.identifier===(null===o||void 0===o||null===(n=o.row)||void 0===n||null===(i=n.original)||void 0===i?void 0:i.status)}));return(0,t.jsx)(a.XZ,{checked:null===u||void 0===u?void 0:u.value,onChange:e=>((e,l,n)=>{let i="";1===l&&(i=2),2===l&&(i=1),s({id:n,action:i}),d(!0),r(!0)})(0,null===u||void 0===u?void 0:u.identifier,c)})}},93156:(e,l,n)=>{n.d(l,{Z:()=>p});var i=n(72791),a=n(73038),t=n(10515),o=n(76053),s=n(9494),d=n(11723),r=n(763),c=n(80034),u=n(52639),v=n(80184);const h=e=>{let{buttonMenu:l,buttonClick:n}=e;return(0,v.jsx)("div",{className:"mb-4",children:null===l||void 0===l?void 0:l.map(((e,l,i)=>(0,v.jsx)(a.zx,{size:"sm",variant:"solid",onClick:l=>n(l,e.key),style:{marginLeft:"5px"},icon:e.icon,children:e.label})))})},m=e=>{let{setSearch:l,FilterMenu:n,setFilterValue:h,filterValue:m,asyncApiType:p,searchPlaceholder:x}=e;const C=(0,r.debounce)(((e,l)=>{(0,s.ac)(1===p?d.vh.GET_USERS:d.vh.GET_CATEGORIES,{search:e}).then((e=>{var n;l(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data)}))}),300);return(0,v.jsxs)("div",{className:"md:flex gap-4 w-full",children:[(0,v.jsx)(t.Z,{placeholder:x,onChange:e=>l(e)}),null===n||void 0===n?void 0:n.map(((e,n)=>(0,v.jsxs)(i.Fragment,{children:["select"===e.component&&(0,v.jsx)(a.Ph,{autoComplete:"off",size:"sm",className:e.className,placeholder:e.placeholder,options:e.options,value:m[null===e||void 0===e?void 0:e.filterKey],onChange:l=>{h({...m,[null===e||void 0===e?void 0:e.filterKey]:l})}}),"resetButton"===e.component&&(0,v.jsx)(a.zx,{size:"sm",className:e.className,onClick:()=>{h(null===e||void 0===e?void 0:e.filterKey),l("")},icon:(0,v.jsx)(o.pYJ,{}),children:e.label}),"asyncSelect"===e.component&&(0,v.jsx)(a.Ph,{autoComplete:"off",placeholder:e.placeholder,defaultOptions:!0,cacheOptions:!0,size:"sm",className:e.className,value:null===m||void 0===m?void 0:m[null===e||void 0===e?void 0:e.filterKey],loadOptions:C,componentAs:c.Z,getOptionLabel:l=>`${null===l||void 0===l?void 0:l[e.label]} ${null!==e&&void 0!==e&&e.label1?null===l||void 0===l?void 0:l[e.label1]:""}`,getOptionValue:e=>null===e||void 0===e?void 0:e.id,onChange:l=>{h({...m,[null===e||void 0===e?void 0:e.filterKey]:l})}}),"datePicker"===e.component&&(0,v.jsx)(a.Mt,{inputtable:!0,clearable:!0,selected:m[null===e||void 0===e?void 0:e.filterKey],onChange:l=>{h({...m,[null===e||void 0===e?void 0:e.filterKey]:l})},size:"sm",placeholder:"Patient DOB (MM/DD/YYYY)",name:"patientDob",className:e.className,placeholderText:e.placeholder,dateFormat:u.zT}),"input"===e.component&&(0,v.jsx)(a.II,{size:"sm",className:e.className,placeholder:e.placeholder,value:m[null===e||void 0===e?void 0:e.filterKey],onChange:l=>{h({...m,[null===e||void 0===e?void 0:e.filterKey]:l.target.value})}})]},n)))]})},p=e=>{let{buttonMenu:l,FilterMenu:n,setSearch:i,buttonClick:a,setFilterValue:t,filterValue:o,asyncApiType:s,searchPlaceholder:d}=e;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"md:flex items-center justify-end",children:(0,v.jsx)(h,{buttonMenu:l,buttonClick:a})}),(0,v.jsx)("div",{className:"items-center lg:flex",children:(0,v.jsx)(m,{searchPlaceholder:d,setSearch:i,FilterMenu:n,setFilterValue:t,filterValue:o,asyncApiType:s})})]})}},10515:(e,l,n)=>{n.d(l,{Z:()=>d});n(72791);var i=n(73038),a=n(58617),t=n(48573),o=n.n(t),s=n(80184);const d=e=>{let{onChange:l,placeholder:n}=e;const t=o()((function(e){null===l||void 0===l||l(e)}),500);return(0,s.jsx)(i.II,{className:"max-w-md md:w-96 mb-4",size:"sm",placeholder:n?`${n}`:"Filter by NAL, LCode, Referring Physician",prefix:(0,s.jsx)(a.O6C,{className:"text-lg"}),onChange:e=>{t(e.target.value)}})}},9494:(e,l,n)=>{n.d(l,{EY:()=>s,Fv:()=>o,ac:()=>t});var i=n(91181),a=n(14712);function t(e,l){return a.Z.get(e,{params:l}).then((e=>null===e||void 0===e?void 0:e.data))}function o(e,l){return a.Z.post(e,l).then((e=>null===e||void 0===e?void 0:e.data))}async function s(e){return i.Z.fetchData({url:"/search/query",method:"post",data:e})}},13222:(e,l,n)=>{n.r(l),n.d(l,{default:()=>S});var i=n(72791),a=n(9494),t=n(11723),o=n(40018),s=n(73038),d=n(58617),r=n(92506),c=n(81724),u=n(78820),v=n(80184);const h=e=>{let{editData:l,onCancel:n,onSave:i,isLoading:a}=e;return(0,v.jsxs)("div",{className:"text-right w-full",children:[(0,v.jsx)(s.zx,{className:"mr-2",onClick:n,disabled:a,icon:(0,v.jsx)(u.SV5,{}),children:"Cancel"}),(0,v.jsx)(s.zx,{variant:"solid",type:"submit",onClick:i,disabled:a,icon:(0,v.jsx)(u.JMf,{}),children:null!==l&&void 0!==l&&l.id?"Update":"Save"})]})},m=c.Ry().shape({name:c.Z_().required("Required")}),p={name:""},x=e=>{let{editData:l,show:n,onClose:d,refreshPage:c}=e;const u=(0,i.useRef)(),[x,C]=(0,i.useState)(!1);return(0,v.jsx)(s.dy,{isOpen:n,onClose:d,onRequestClose:d,closable:!1,bodyClass:"p-0",title:null!==l&&void 0!==l&&l.id?"Edit Location":"Add Location",footer:(0,v.jsx)(h,{onCancel:d,onSave:()=>{var e;return null===u||void 0===u||null===(e=u.current)||void 0===e?void 0:e.submitForm()},isLoading:x,editData:l}),children:(0,v.jsx)(o.lG,{children:(0,v.jsx)(r.J9,{innerRef:u,initialValues:l||p,validationSchema:m,onSubmit:e=>{let{name:l,id:n}=e;C(!0);const i={name:l,modelType:t.kD.LOCATIONS};n&&(i.id=n),(0,a.Fv)(t.vh.ADD_EDIT_DATA,i).then((()=>{d(),c(),s.Am.push((0,v.jsx)(s.P_,{type:"success",children:"Location saved!"}))})).finally((()=>C(!1)))},enableReinitialize:!0,children:e=>{let{errors:l,touched:n,setFieldValue:i,values:a}=e;return(0,v.jsx)(r.l0,{className:"p-5",children:(0,v.jsx)(s.Yb,{children:(0,v.jsx)(s.xJ,{label:"Location",invalid:(null===l||void 0===l?void 0:l.name)&&(null===n||void 0===n?void 0:n.name),errorMessage:null===l||void 0===l?void 0:l.name,children:(0,v.jsx)(r.gN,{type:"text",autoComplete:"off",name:"name",placeholder:"Enter Name",component:s.II})})})})}})})})};var C=n(52452),f=n(93156),j=n(25764),b=n(52639),g=n(31673),y=n(47511);const A=[{label:"Edit",key:b.A6.EDIT,show:()=>(0,y.ZP)(y.Fm.LOCATIONS,y.qz.WRITE)},{label:(0,v.jsx)(u.YK6,{style:{fontSize:"1.2rem"}}),key:b.A6.DELETE,toolTip:"Delete",show:()=>(0,y.ZP)(y.Fm.LOCATIONS,y.qz.DELETE)}],N=(0,y.ZP)(y.Fm.LOCATIONS,y.qz.WRITE)?[{label:"Add Location",key:b.A6.ADD,icon:(0,v.jsx)(d.HQD,{})}]:[],D={header:b.BI.HEADER,des:b.BI.DELETE,buttonLabel:"Delete"},S=()=>{const[e,l]=(0,i.useState)([]),[n,d]=(0,i.useState)(!1),[r,c]=(0,i.useState)(1),[u,h]=(0,i.useState)(0),[m,p]=(0,i.useState)(10),[S,T]=(0,i.useState)(""),[k,E]=(0,i.useState)(!1),[O,L]=(0,i.useState)(!1),[I,F]=(0,i.useState)(""),[w,z]=(0,i.useState)(!1),[Z,P]=(0,i.useState)(!1);(0,i.useEffect)((()=>{d(!0),(0,a.ac)(t.vh.LIST_DATA,{type:t.kD.LOCATIONS,limit:m,search:S,skip:m*(r-1)}).then((e=>{var n,i;l([]),l(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data),h(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.count)})).finally((()=>d(!1)))}),[S,r,m,O]);const M=(e,l,n)=>{l===b.A6.EDIT&&(F({id:null===n||void 0===n?void 0:n._id,name:null===n||void 0===n?void 0:n.name}),E(!0)),l===b.A6.DELETE&&(F({id:null===n||void 0===n?void 0:n._id}),z(!0))},R=[{Header:"name",accessor:"name"},{Header:"Active",Cell:e=>(0,v.jsx)(g.Z,{dataObj:e,setSelectedData:F,setActiveConfirm:P,setOpenModal:z})},{Header:"Actions",id:"action",accessor:e=>e,Cell:e=>(0,v.jsx)(C.Z,{row:e.row.original,onActionHandle:M,actionsMenu:A})}],_=()=>{F(""),z(!1),P(!1)};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(f.Z,{buttonMenu:N,setSearch:T,buttonClick:(e,l)=>{l===b.A6.ADD&&E(!0)}}),(0,v.jsx)(o.lG,{className:"h-full",bodyClass:"h-full",children:(0,v.jsx)(o.wQ,{columns:(0,y._P)(R,y.Fm.LOCATIONS,1),isCursor:!1,data:e,loading:n,skeletonAvatarColumns:[0],skeletonAvatarProps:{width:28,height:28},pagingData:{pageIndex:r,pageSize:m,total:u},onPaginationChange:e=>c(e),onSelectChange:e=>p(e)})}),(0,v.jsx)(x,{show:k,onClose:()=>{F(""),E(!1)},refreshPage:()=>L((e=>!e)),editData:I}),(0,v.jsx)(j.Z,{isOpen:w,onConfirmClick:()=>{let e;const l={type:t.kD.LOCATIONS,id:null===I||void 0===I?void 0:I.id};Z?(e=b.D5,l.status=+(null===I||void 0===I?void 0:I.action)):(e=b.O7,l.status=0),(0,a.Fv)(t.vh.BLOCK_DELETE_DATA,l).then((l=>{s.Am.push((0,v.jsx)(s.P_,{type:"success",children:e})),L((e=>!e)),_()}))},header:D.header,des:Z?null===b.uF||void 0===b.uF?void 0:b.uF.des:D.des,onDialogClose:_,isWarning:!Z&&b.BI.WARNING,buttonLabel:Z?null===b.uF||void 0===b.uF?void 0:b.uF.buttonLabel:D.buttonLabel})]})}}}]);
//# sourceMappingURL=3222.2c729c1d.chunk.js.map