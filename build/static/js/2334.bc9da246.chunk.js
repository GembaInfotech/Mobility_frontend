"use strict";(self.webpackChunknasp=self.webpackChunknasp||[]).push([[2334],{9494:(e,n,a)=>{a.d(n,{EY:()=>r,Fv:()=>d,ac:()=>i});var o=a(91181),l=a(14712);function i(e,n){return l.Z.get(e,{params:n}).then((e=>null===e||void 0===e?void 0:e.data))}function d(e,n){return l.Z.post(e,n).then((e=>null===e||void 0===e?void 0:e.data))}async function r(e){return o.Z.fetchData({url:"/search/query",method:"post",data:e})}},42334:(e,n,a)=>{a.r(n),a.d(n,{default:()=>E});var o=a(72791),l=a(73038),i=a(92506);const d=[{name:"firstName",label:"First Name",type:"text",component:l.II,placeholder:"Enter first name",isBasic:!0},{name:"lastName",label:"Last Name",type:"text",component:l.II,placeholder:"Enter last name",isBasic:!0},{name:"phoneNumber",countryCode:"countryCode",label:"Mobile No.",component:"phoneNumber",placeholder:"Enter mobile no."},{name:"dob",label:"DOB",component:"datepicker"},{name:"naspacNo",label:"NASPAC Case No.",type:"text",component:l.II,isBasic:!0,placeholder:"Enter NASPAC No."}],r=[{name:"primaryInsurance",apiType:"insurance",label:"Primary Insurance",component:"asyncSelect",placeholder:"Select primary insurance"},{name:"primaryInsuranceNo",label:"Primary Insurance No.",type:"text",component:l.II,placeholder:"Enter primary insurance no.",isBasic:!0},{name:"secondaryInsurance",apiType:"insurance",label:"Secondary Insurance",component:"asyncSelect",placeholder:"Select secondary insurance"},{name:"secondaryInsuranceNo",label:"Seconday Insurance No.",type:"text",component:l.II,placeholder:"Enter secondary insurance no.",isBasic:!0}],t=(l.II,[{label:"Male",value:1},{label:"Female",value:2},{label:"Others",value:3}]),s=[{label:"LTC",value:1},{label:"Subacute",value:2}];var u=a(75737),c=a.n(u),v=(a(70902),a(9494)),m=a(11723),p=a(48573),h=a.n(p),y=a(80034),f=a(40018),N=a(52639),b=a(47511),I=a(80184);const x=e=>{let{id:n,field:a,setFieldValue:o,values:d,errors:r,touched:u}=e;const p=h()(((e,n)=>{"state"===a.name&&(0,v.ac)(m.vh.GET_CODE,{type:4,search:e}).then((e=>{var a;const o=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data.map((e=>({label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e._id})));n(o)})),"deviceType"===a.name&&(0,v.ac)(m.vh.GET_CODE,{type:2,search:e}).then((e=>{var a;const o=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data.map((e=>({label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e._id})));n(o)})),"insurance"===a.apiType&&(0,v.ac)(m.vh.LIST_DATA,{type:m.kD.INSURANCES,search:e}).then((e=>{var a;const o=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data.map((e=>({label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e._id})));n(o)}))}),300);return(0,I.jsxs)(I.Fragment,{children:["datepicker"===a.component&&(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(l.Mt,{inputtable:!0,selected:new Date(null===d||void 0===d?void 0:d[a.name]),name:a.name,inputFormat:N.zT,defaultValue:new Date(null===d||void 0===d?void 0:d[a.name]),value:new Date(null===d||void 0===d?void 0:d[a.name]),onChange:e=>o(a.name,e)})}),"radio"===a.component&&(0,I.jsx)(I.Fragment,{children:t.map(((e,n)=>(0,I.jsx)(l.Y8,{className:"mr-4",name:"gender",value:e.value,onChange:e=>o(a.name,e),checked:e.value===(null===d||void 0===d?void 0:d[a.name]),children:e.label})))}),"patientRadio"===a.component&&(0,I.jsx)(I.Fragment,{children:s.map(((e,n)=>(0,I.jsx)(l.Y8,{className:"mr-4 mt-3",name:"simpleRadioExample1",value:e.value,onChange:e=>o(a.name,e),checked:e.value===(null===d||void 0===d?void 0:d[a.name]),children:e.label})))}),"phoneNumber"===a.component&&(0,I.jsx)(c(),{inputStyle:{width:"369px",padding:"11px 14px 11px 60px"},enableSearch:!0,country:"us",countryCodeEditable:!0,value:`${null===d||void 0===d?void 0:d[a.name]}`,onChange:(e,n)=>{o(a.name,e),o(a.countryCode,null===n||void 0===n?void 0:n.dialCode)}}),"upload"===a.component&&(0,I.jsxs)(l.BZ,{className:"mb-4",children:[(0,I.jsx)(l.II,{value:d[a.name]}),(0,I.jsx)(l.gq,{uploadLimit:1,showList:!1,accept:["image/jpeg","image/png"],name:a.name,onChange:e=>{let n=new FormData;for(let a=0;a<(null===e||void 0===e?void 0:e.length);a++)n.append("image",e[a]);(0,v.Fv)(m.vh.UPLOAD_IMAGE,n).then((e=>{var n,l;let i=[];i=null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.length?[...i,...null===e||void 0===e?void 0:e.data]:[...i,null===e||void 0===e?void 0:e.data],o(a.name,null===(l=i[0])||void 0===l?void 0:l.original)}))}})]}),"asyncSelect"===a.component&&(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(i.gN,{closeMenuOnSelect:!0,component:l.Ph,autoComplete:"off",placeholder:a.placeholder,defaultOptions:!0,cacheOptions:!0,loadOptions:p,componentAs:y.Z,name:a.name,value:null===d||void 0===d?void 0:d[a.name],onChange:e=>{o(a.name,e)}})}),"password"===a.component&&!n&&(0,I.jsx)(i.gN,{autoComplete:"off",name:"password",placeholder:"Password",component:f.WU}),"ssn"===a.component&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(i.gN,{autoComplete:"off",name:"ssn",placeholder:"SSN",maxlength:9,component:l.II,onChange:e=>o(a.name,(0,b.bc)(e.target.value)),value:null===d||void 0===d?void 0:d[a.name]}),console.log(null===d||void 0===d?void 0:d[a.name])]})]})};var g=a(57689),j=a(81724),C=a(72426),S=a.n(C);const Z=j.Ry().shape({firstName:j.Z_().required("Required"),lastName:j.Z_().required("Required"),dob:j.Z_().required("Required"),naspacNo:j.Z_().required("Required"),phoneNumber:j.Z_().required("Required"),primaryInsuranceNo:j.Z_(),primaryInsurance:j.Ry(),secondaryInsurance:j.Ry(),secondaryInsuranceNo:j.Z_()}),A={firstName:"",lastName:"",dob:S()().subtract(18,"years").format(),naspacNo:"",phoneNumber:"",countryCode:"+1",primaryInsurance:"",primaryInsuranceNo:"",secondaryInsurance:"",secondaryInsuranceNo:""},E=()=>{const{id:e}=(0,g.UO)(),[n,a]=(0,o.useState)({}),[t,s]=(0,o.useState)(!0),u=(0,g.s0)();(0,o.useEffect)((()=>{e?(0,v.ac)(m.vh.LIST_DATA,{type:m.kD.PATIENTS,id:e}).then((e=>{var n,o,l,i,d;const r=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data;a({firstName:null===r||void 0===r?void 0:r.firstName,lastName:null===r||void 0===r?void 0:r.lastName,dob:null===r||void 0===r?void 0:r.dob,countryCode:null!==(null===r||void 0===r?void 0:r.countryCode)?null===r||void 0===r?void 0:r.countryCode:"+1",phoneNumber:(null===r||void 0===r?void 0:r.countryCode)+(null===r||void 0===r?void 0:r.phoneNumber),naspacNo:null===r||void 0===r?void 0:r.naspacNo,primaryInsurance:{label:null===r||void 0===r||null===(o=r.primaryInsurance)||void 0===o?void 0:o.name,value:null===r||void 0===r||null===(l=r.primaryInsurance)||void 0===l?void 0:l._id},secondaryInsurance:{label:null===r||void 0===r||null===(i=r.secondaryInsurance)||void 0===i?void 0:i.name,value:null===r||void 0===r||null===(d=r.secondaryInsurance)||void 0===d?void 0:d._id},primaryInsuranceNo:null===r||void 0===r?void 0:r.primaryInsuranceNo,secondaryInsuranceNo:null===r||void 0===r?void 0:r.secondaryInsuranceNo})})).finally((()=>{s(!1)})):s(!1)}),[e]);const c=(0,i.TA)({initialValues:e?n:A,enableReinitialize:!0,validationSchema:Z,onSubmit:n=>{var a,o,i,d;(e&&(n.id=e),n.phoneNumber=null===n||void 0===n||null===(a=n.phoneNumber)||void 0===a?void 0:a.replace(null===n||void 0===n?void 0:n.countryCode,""),""===n.phoneNumber&&delete n.phoneNumber,n.primaryInsurance)&&(n.primaryInsurance=null===n||void 0===n||null===(i=n.primaryInsurance)||void 0===i?void 0:i.value);n.secondaryInsurance&&(n.secondaryInsurance=null===n||void 0===n||null===(d=n.secondaryInsurance)||void 0===d?void 0:d.value);""===n.primaryInsuranceNo&&delete n.primaryInsuranceNo,""===n.secondaryInsuranceNo&&delete n.secondaryInsuranceNo,""===n.primaryInsurance&&delete n.primaryInsurance,""===n.secondaryInsurance&&delete n.secondaryInsurance,null!==n&&void 0!==n&&null!==(o=n.countryCode)&&void 0!==o&&o.includes("+")||(n.countryCode=`+${n.countryCode}`),(0,v.Fv)(m.vh.ADD_EDIT_PATIENT,{...n}).then((n=>{l.Am.push((0,I.jsx)(l.P_,{type:"success",children:e?N.D5:N.Te})),u(-1)}))}}),{errors:p,touched:h,values:y,handleSubmit:f,getFieldProps:b,setFieldValue:j,isSubmitting:C}=c;return(0,I.jsx)(i.Hy,{value:c,children:(0,I.jsxs)(i.l0,{className:"p-1",onSubmit:f,autoComplete:"off",noValidate:!0,children:[(0,I.jsxs)("div",{className:"flex mb-3 justify-between w-3/4",children:[(0,I.jsx)("h3",{children:e?"Edit Patient":"Add Patient"}),(0,I.jsxs)("div",{className:"flex",children:[(0,I.jsx)(l.zx,{size:"sm",variant:"solid",onClick:()=>u(-1),type:"button",children:"Back / Cancel"}),(0,I.jsx)(l.zx,{size:"sm",variant:"solid",style:{marginLeft:"5px"},loading:C,type:"submit",children:e?"Update":"Save"})]})]}),(0,I.jsxs)("div",{children:[t&&(0,I.jsx)("div",{className:"flex justify-center",children:(0,I.jsx)(l.$j,{size:"3.25rem"})}),!t&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(l.Zb,{className:"mt-2.5 w-3/4 ",children:(0,I.jsxs)(l.Yb,{className:" md:w-full lg:w-1/2",children:[(0,I.jsx)("h5",{className:"mb-4",children:"Personal Information"}),d.map(((n,a,o)=>(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(l.xJ,{label:"password"===n.component&&e?null:null===n||void 0===n?void 0:n.label,className:"ml-3 ",invalid:(null===p||void 0===p?void 0:p[null===n||void 0===n?void 0:n.name])&&(null===h||void 0===h?void 0:h[null===n||void 0===n?void 0:n.name]),errorMessage:null===p||void 0===p?void 0:p[null===n||void 0===n?void 0:n.name],children:n.isBasic?(0,I.jsx)(i.gN,{textArea:!(null===n||void 0===n||!n.textArea),type:null===n||void 0===n?void 0:n.type,autoComplete:"off",name:null===n||void 0===n?void 0:n.name,placeholder:null===n||void 0===n?void 0:n.placeholder,component:null===n||void 0===n?void 0:n.component}):(0,I.jsx)(x,{id:e,errors:p,field:n,setFieldValue:j,values:y})},a)})))]})}),(0,I.jsx)(l.Zb,{className:"mt-4 w-3/4 ",children:(0,I.jsxs)(l.Yb,{className:" md:w-full lg:w-1/2",children:[(0,I.jsx)("h5",{className:"mb-4",children:"Insurance Information"}),r.map(((n,a,o)=>(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(l.xJ,{label:null===n||void 0===n?void 0:n.label,className:"ml-3",invalid:(null===p||void 0===p?void 0:p[null===n||void 0===n?void 0:n.name])&&(null===h||void 0===h?void 0:h[null===n||void 0===n?void 0:n.name]),errorMessage:null===p||void 0===p?void 0:p[null===n||void 0===n?void 0:n.name],children:n.isBasic?(0,I.jsx)(i.gN,{textArea:!(null===n||void 0===n||!n.textArea),type:null===n||void 0===n?void 0:n.type,autoComplete:"off",name:null===n||void 0===n?void 0:n.name,placeholder:null===n||void 0===n?void 0:n.placeholder,component:null===n||void 0===n?void 0:n.component}):(0,I.jsx)(x,{id:e,errors:p,field:n,setFieldValue:j,values:y})},a)})))]})})]})]})]})})}},80034:(e,n,a)=>{a.d(n,{Z:()=>m});var o=a(87462),l=a(72791),i=a(69880),d=a(8003),r=a(4942),t=a(1413),s=a(29439),u=a(45987),c=a(74999),v=["defaultOptions","cacheOptions","loadOptions","options","isLoading","onInputChange","filterOption"];a(54164),a(51672);const m=(0,l.forwardRef)((function(e,n){var a=function(e){var n=e.defaultOptions,a=void 0!==n&&n,o=e.cacheOptions,i=void 0!==o&&o,d=e.loadOptions;e.options;var m=e.isLoading,p=void 0!==m&&m,h=e.onInputChange,y=e.filterOption,f=void 0===y?null:y,N=(0,u.Z)(e,v),b=N.inputValue,I=(0,l.useRef)(void 0),x=(0,l.useRef)(!1),g=(0,l.useState)(Array.isArray(a)?a:void 0),j=(0,s.Z)(g,2),C=j[0],S=j[1],Z=(0,l.useState)("undefined"!==typeof b?b:""),A=(0,s.Z)(Z,2),E=A[0],w=A[1],F=(0,l.useState)(!0===a),_=(0,s.Z)(F,2),O=_[0],T=_[1],D=(0,l.useState)(void 0),R=(0,s.Z)(D,2),k=R[0],P=R[1],q=(0,l.useState)([]),L=(0,s.Z)(q,2),B=L[0],V=L[1],z=(0,l.useState)(!1),M=(0,s.Z)(z,2),U=M[0],Y=M[1],G=(0,l.useState)({}),$=(0,s.Z)(G,2),J=$[0],H=$[1],W=(0,l.useState)(void 0),K=(0,s.Z)(W,2),Q=K[0],X=K[1],ee=(0,l.useState)(void 0),ne=(0,s.Z)(ee,2),ae=ne[0],oe=ne[1];i!==ae&&(H({}),oe(i)),a!==Q&&(S(Array.isArray(a)?a:void 0),X(a)),(0,l.useEffect)((function(){return x.current=!0,function(){x.current=!1}}),[]);var le=(0,l.useCallback)((function(e,n){if(!d)return n();var a=d(e,n);a&&"function"===typeof a.then&&a.then(n,(function(){return n()}))}),[d]);(0,l.useEffect)((function(){!0===a&&le(E,(function(e){x.current&&(S(e||[]),T(!!I.current))}))}),[]);var ie=(0,l.useCallback)((function(e,n){var a=(0,c.L)(e,n,h);if(!a)return I.current=void 0,w(""),P(""),V([]),T(!1),void Y(!1);if(i&&J[a])w(a),P(a),V(J[a]),T(!1),Y(!1);else{var o=I.current={};w(a),T(!0),Y(!k),le(a,(function(e){x&&o===I.current&&(I.current=void 0,T(!1),P(a),V(e||[]),Y(!1),H(e?(0,t.Z)((0,t.Z)({},J),{},(0,r.Z)({},a,e)):J))}))}}),[i,le,k,J,h]),de=U?[]:E&&k?B:C||[];return(0,t.Z)((0,t.Z)({},N),{},{options:de,isLoading:O||p,onInputChange:ie,filterOption:f})}(e),m=(0,d.u)(a);return l.createElement(i.S,(0,o.Z)({ref:n},m))}))}}]);
//# sourceMappingURL=2334.bc9da246.chunk.js.map