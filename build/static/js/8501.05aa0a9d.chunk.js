"use strict";(self.webpackChunknasp=self.webpackChunknasp||[]).push([[8501],{9494:function(e,n,t){t.d(n,{EY:function(){return c},Fv:function(){return l},ac:function(){return u}});var a=t(74165),r=t(15861),i=t(91181),s=t(14712);function u(e,n){return s.Z.get(e,{params:n}).then((function(e){return null===e||void 0===e?void 0:e.data}))}function l(e,n){return s.Z.post(e,n).then((function(e){return null===e||void 0===e?void 0:e.data}))}function c(e){return o.apply(this,arguments)}function o(){return(o=(0,r.Z)((0,a.Z)().mark((function e(n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.Z.fetchData({url:"/search/query",method:"post",data:n}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},38501:function(e,n,t){t.r(n);var a=t(29439),r=t(72791),i=t(40018),s=t(16146),u=t(92506),l=t(62797),c=t(9494),o=t(11723),d=t(57689),p=t(80184),m=l.Ry().shape({name:l.Z_().required("Required")}),f={name:""};n.default=function(){var e=(0,r.useRef)(),n=(0,r.useState)(!1),t=(0,a.Z)(n,2),l=t[0],h=t[1],v=(0,r.useState)(null),x=(0,a.Z)(v,2),j=x[0],y=x[1],b=(0,r.useState)(null),g=(0,a.Z)(b,2),C=g[0],Z=g[1],N=(0,d.UO)().id,S=(0,d.s0)();(0,r.useEffect)((function(){N&&(0,c.ac)(o.vh.LIST_DATA,{type:o.kD.COMPANY,id:N}).then((function(e){var n,t=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data;t&&y(t)}))}),[N]);return(0,p.jsx)(i.lG,{children:(0,p.jsx)(u.J9,{innerRef:e,initialValues:j||f,validationSchema:m,onSubmit:function(e,n){var t=e.name,a=n.setSubmitting;h(!0);var r=new FormData;r.append("name",t),N&&r.append("id",N),r.append("modelType",o.kD.COMPANY),C&&r.append("image",C),(0,c.Fv)(o.vh.ADD_EDIT_COMPANY,r,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){S(-1),s.Am.push((0,p.jsx)(s.P_,{type:"success",children:"Company saved!"}))})).catch((function(e){a(!1),console.error("Error saving company:",e)})).finally((function(){return h(!1)}))},enableReinitialize:!0,children:function(e){var n=e.errors,t=e.touched,a=e.isSubmitting;return(0,p.jsxs)(u.l0,{className:"p-5",children:[(0,p.jsxs)("div",{className:"flex mb-3 justify-end w-3/4",children:[(0,p.jsx)(s.zx,{size:"sm",variant:"solid",onClick:function(){return S(-1)},type:"button",children:"Cancel"}),(0,p.jsx)(s.zx,{size:"sm",variant:"solid",style:{marginLeft:"5px"},loading:a,type:"submit",children:N?"Update":"Save"})]}),l?(0,p.jsx)("div",{className:"flex justify-center",children:(0,p.jsx)(s.$j,{size:"3.25rem"})}):(0,p.jsx)(s.Zb,{className:"mt-2.5 w-3/4",children:(0,p.jsxs)(s.Yb,{children:[(0,p.jsx)(s.xJ,{label:"Name",invalid:(null===n||void 0===n?void 0:n.name)&&(null===t||void 0===t?void 0:t.name),errorMessage:null===n||void 0===n?void 0:n.name,children:(0,p.jsx)(u.gN,{type:"text",autoComplete:"off",name:"name",placeholder:"Enter name",component:s.II})}),(0,p.jsx)(s.xJ,{label:"Upload Image",children:(0,p.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){return Z(e.target.files[0])}})}),C&&(0,p.jsx)("img",{src:URL.createObjectURL(C),alt:"Selected",className:"w-24 h-24 object-cover rounded border mt-2"})]})})]})}})})}}}]);
//# sourceMappingURL=8501.05aa0a9d.chunk.js.map