"use strict";(self.webpackChunknasp=self.webpackChunknasp||[]).push([[2334],{9494:function(e,n,a){a.d(n,{EY:function(){return d},Fv:function(){return u},ac:function(){return r}});var o=a(74165),l=a(15861),i=a(91181),t=a(14712);function r(e,n){return t.Z.get(e,{params:n}).then((function(e){return null===e||void 0===e?void 0:e.data}))}function u(e,n){return t.Z.post(e,n).then((function(e){return null===e||void 0===e?void 0:e.data}))}function d(e){return c.apply(this,arguments)}function c(){return(c=(0,l.Z)((0,o.Z)().mark((function e(n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.Z.fetchData({url:"/search/query",method:"post",data:n}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},42334:function(e,n,a){a.r(n),a.d(n,{default:function(){return D}});var o=a(1413),l=a(29439),i=a(72791),t=a(16146),r=a(92506),u=localStorage.getItem("selectedHospitalId"),d="67c3ec77851f03d96270ca85"===u?"NASPAC Case No.":"67c3fb8308a4d79e36ebf939"===u?"PPS Case No.":"Case No.",c=[{name:"firstName",label:"First Name",type:"text",component:t.II,placeholder:"Enter first name",isBasic:!0},{name:"lastName",label:"Last Name",type:"text",component:t.II,placeholder:"Enter last name",isBasic:!0},{name:"phoneNumber",countryCode:"countryCode",label:"Mobile No.",component:"phoneNumber",placeholder:"Enter mobile no."},{name:"dob",label:"DOB",component:"datepicker"},{name:"naspacNo",label:"".concat(d),type:"text",component:t.II,isBasic:!0,placeholder:"".concat(d)}],s=[{name:"primaryInsurance",apiType:"insurance",label:"Primary Insurance",component:"asyncSelect",placeholder:"Select primary insurance"},{name:"primaryInsuranceNo",label:"Primary Insurance No.",type:"text",component:t.II,placeholder:"Enter primary insurance no.",isBasic:!0},{name:"secondaryInsurance",apiType:"insurance",label:"Secondary Insurance",component:"asyncSelect",placeholder:"Select secondary insurance"},{name:"secondaryInsuranceNo",label:"Seconday Insurance No.",type:"text",component:t.II,placeholder:"Enter secondary insurance no.",isBasic:!0}],v=(t.II,[{label:"Male",value:1},{label:"Female",value:2},{label:"Others",value:3}]),m=[{label:"LTC",value:1},{label:"Subacute",value:2}],p=a(93433),f=a(75737),h=a.n(f),y=(a(70902),a(9494)),I=a(11723),b=a(48573),N=a.n(b),x=a(80034),g=a(40018),j=a(52639),C=a(47511),S=a(80184),Z=function(e){var n=e.id,a=e.field,o=e.setFieldValue,l=e.values,i=(e.errors,e.touched,localStorage.getItem("selectedHospitalId")),u=N()((function(e,n){"state"===a.name&&(0,y.ac)(I.vh.GET_CODE,{type:4,search:e}).then((function(e){var a,o=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data.map((function(e){return{label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e._id}}));n(o)})),"deviceType"===a.name&&(0,y.ac)(I.vh.GET_CODE,{type:2,search:e}).then((function(e){var a,o=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data.map((function(e){return{label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e._id}}));n(o)})),"insurance"===a.apiType&&(0,y.ac)(I.vh.LIST_DATA,{type:I.kD.INSURANCES,search:e,companyId:i}).then((function(e){var a,o=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data.map((function(e){return{label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e._id}}));n(o)}))}),300);return(0,S.jsxs)(S.Fragment,{children:["datepicker"===a.component&&(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(t.Mt,{inputtable:!0,selected:new Date(null===l||void 0===l?void 0:l[a.name]),name:a.name,inputFormat:j.zT,defaultValue:new Date(null===l||void 0===l?void 0:l[a.name]),value:new Date(null===l||void 0===l?void 0:l[a.name]),onChange:function(e){return o(a.name,e)}})}),"radio"===a.component&&(0,S.jsx)(S.Fragment,{children:v.map((function(e,n){return(0,S.jsx)(t.Y8,{className:"mr-4",name:"gender",value:e.value,onChange:function(e){return o(a.name,e)},checked:e.value===(null===l||void 0===l?void 0:l[a.name]),children:e.label})}))}),"patientRadio"===a.component&&(0,S.jsx)(S.Fragment,{children:m.map((function(e,n){return(0,S.jsx)(t.Y8,{className:"mr-4 mt-3",name:"simpleRadioExample1",value:e.value,onChange:function(e){return o(a.name,e)},checked:e.value===(null===l||void 0===l?void 0:l[a.name]),children:e.label})}))}),"phoneNumber"===a.component&&(0,S.jsx)(h(),{inputStyle:{width:"369px",padding:"11px 14px 11px 60px"},enableSearch:!0,country:"us",countryCodeEditable:!0,value:"".concat(null===l||void 0===l?void 0:l[a.name]),onChange:function(e,n){o(a.name,e),o(a.countryCode,null===n||void 0===n?void 0:n.dialCode)}}),"upload"===a.component&&(0,S.jsxs)(t.BZ,{className:"mb-4",children:[(0,S.jsx)(t.II,{value:l[a.name]}),(0,S.jsx)(t.gq,{uploadLimit:1,showList:!1,accept:["image/jpeg","image/png"],name:a.name,onChange:function(e){for(var n=new FormData,l=0;l<(null===e||void 0===e?void 0:e.length);l++)n.append("image",e[l]);(0,y.Fv)(I.vh.UPLOAD_IMAGE,n).then((function(e){var n,l,i=[];i=null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.length?[].concat((0,p.Z)(i),(0,p.Z)(null===e||void 0===e?void 0:e.data)):[].concat((0,p.Z)(i),[null===e||void 0===e?void 0:e.data]),o(a.name,null===(l=i[0])||void 0===l?void 0:l.original)}))}})]}),"asyncSelect"===a.component&&(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(r.gN,{closeMenuOnSelect:!0,component:t.Ph,autoComplete:"off",placeholder:a.placeholder,defaultOptions:!0,cacheOptions:!0,loadOptions:u,componentAs:x.Z,name:a.name,value:null===l||void 0===l?void 0:l[a.name],onChange:function(e){o(a.name,e)}})}),"password"===a.component&&!n&&(0,S.jsx)(r.gN,{autoComplete:"off",name:"password",placeholder:"Password",component:g.WU}),"ssn"===a.component&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(r.gN,{autoComplete:"off",name:"ssn",placeholder:"SSN",maxlength:9,component:t.II,onChange:function(e){return o(a.name,(0,C.bc)(e.target.value))},value:null===l||void 0===l?void 0:l[a.name]}),console.log(null===l||void 0===l?void 0:l[a.name])]})]})},A=a(57689),w=a(62797),E=a(60364),F=a(72426),O=a.n(F),_=w.Ry().shape({firstName:w.Z_().required("Required"),lastName:w.Z_().required("Required"),dob:w.Z_().required("Required"),naspacNo:w.Z_().required("Required"),phoneNumber:w.Z_().required("Required"),primaryInsuranceNo:w.Z_(),primaryInsurance:w.Ry(),secondaryInsurance:w.Ry(),secondaryInsuranceNo:w.Z_()}),T={firstName:"",lastName:"",dob:O()().subtract(18,"years").format(),naspacNo:"",phoneNumber:"",countryCode:"+1",primaryInsurance:"",primaryInsuranceNo:"",secondaryInsurance:"",secondaryInsuranceNo:""},D=function(){var e=localStorage.getItem("selectedHospitalId"),n=(0,i.useState)([]),a=(0,l.Z)(n,2),u=a[0];a[1],(0,E.v9)((function(e){return e.auth.user}));console.log("companyOptionshdbfhrbf",u);var d=(0,A.UO)().id,v=(0,i.useState)({}),m=(0,l.Z)(v,2),p=m[0],f=m[1],h=(0,i.useState)(!0),b=(0,l.Z)(h,2),N=b[0],x=b[1],g=(0,A.s0)();(0,i.useEffect)((function(){d?(0,y.ac)(I.vh.LIST_DATA,{type:I.kD.PATIENTS,companyId:e,id:d}).then((function(e){var n,a,o,l,i,t=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data;f({firstName:null===t||void 0===t?void 0:t.firstName,lastName:null===t||void 0===t?void 0:t.lastName,dob:null===t||void 0===t?void 0:t.dob,countryCode:null!==(null===t||void 0===t?void 0:t.countryCode)?null===t||void 0===t?void 0:t.countryCode:"+1",phoneNumber:(null===t||void 0===t?void 0:t.countryCode)+(null===t||void 0===t?void 0:t.phoneNumber),naspacNo:null===t||void 0===t?void 0:t.naspacNo,primaryInsurance:{label:null===t||void 0===t||null===(a=t.primaryInsurance)||void 0===a?void 0:a.name,value:null===t||void 0===t||null===(o=t.primaryInsurance)||void 0===o?void 0:o._id},secondaryInsurance:{label:null===t||void 0===t||null===(l=t.secondaryInsurance)||void 0===l?void 0:l.name,value:null===t||void 0===t||null===(i=t.secondaryInsurance)||void 0===i?void 0:i._id},primaryInsuranceNo:null===t||void 0===t?void 0:t.primaryInsuranceNo,secondaryInsuranceNo:null===t||void 0===t?void 0:t.secondaryInsuranceNo})})).finally((function(){x(!1)})):x(!1)}),[d]);var C=(0,r.TA)({initialValues:d?p:T,enableReinitialize:!0,validationSchema:_,onSubmit:function(n,a){var l,i,r,u,c=a.setSubmitting;(d&&(n.id=d),n.phoneNumber=null===n||void 0===n||null===(l=n.phoneNumber)||void 0===l?void 0:l.replace(null===n||void 0===n?void 0:n.countryCode,""),""===n.phoneNumber&&delete n.phoneNumber,n.primaryInsurance)&&(n.primaryInsurance=null===n||void 0===n||null===(r=n.primaryInsurance)||void 0===r?void 0:r.value);n.secondaryInsurance&&(n.secondaryInsurance=null===n||void 0===n||null===(u=n.secondaryInsurance)||void 0===u?void 0:u.value);""===n.primaryInsuranceNo&&delete n.primaryInsuranceNo,""===n.secondaryInsuranceNo&&delete n.secondaryInsuranceNo,""===n.primaryInsurance&&delete n.primaryInsurance,""===n.secondaryInsurance&&delete n.secondaryInsurance,null!==n&&void 0!==n&&null!==(i=n.countryCode)&&void 0!==i&&i.includes("+")||(n.countryCode="+".concat(n.countryCode)),n.companyId=e,(0,y.Fv)(I.vh.ADD_EDIT_PATIENT,(0,o.Z)({},n)).then((function(e){t.Am.push((0,S.jsx)(t.P_,{type:"success",children:d?j.D5:j.Te})),g(-1)})).catch((function(){c(!1)}))}}),w=C.errors,F=C.touched,O=C.values,D=C.handleSubmit,k=(C.getFieldProps,C.setFieldValue),P=C.isSubmitting;return(0,S.jsx)(r.Hy,{value:C,children:(0,S.jsxs)(r.l0,{className:"p-1",onSubmit:D,autoComplete:"off",noValidate:!0,children:[(0,S.jsxs)("div",{className:"flex mb-3 justify-between w-3/4",children:[(0,S.jsx)("h3",{children:d?"Edit Patient":"Add Patient"}),(0,S.jsxs)("div",{className:"flex",children:[(0,S.jsx)(t.zx,{size:"sm",variant:"solid",onClick:function(){return g(-1)},type:"button",children:"Back / Cancel"}),(0,S.jsx)(t.zx,{size:"sm",variant:"solid",style:{marginLeft:"5px"},loading:P,type:"submit",children:d?"Update":"Save"})]})]}),(0,S.jsxs)("div",{children:[N&&(0,S.jsx)("div",{className:"flex justify-center",children:(0,S.jsx)(t.$j,{size:"3.25rem"})}),!N&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(t.Zb,{className:"mt-2.5 w-3/4 ",children:(0,S.jsxs)(t.Yb,{className:" md:w-full lg:w-1/2",children:[(0,S.jsx)("h5",{className:"mb-4",children:"Personal Information"}),c.map((function(e,n,a){return(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(t.xJ,{label:"password"===e.component&&d?null:null===e||void 0===e?void 0:e.label,className:"ml-3 ",invalid:(null===w||void 0===w?void 0:w[null===e||void 0===e?void 0:e.name])&&(null===F||void 0===F?void 0:F[null===e||void 0===e?void 0:e.name]),errorMessage:null===w||void 0===w?void 0:w[null===e||void 0===e?void 0:e.name],children:e.isBasic?(0,S.jsx)(r.gN,{textArea:!(null===e||void 0===e||!e.textArea),type:null===e||void 0===e?void 0:e.type,autoComplete:"off",name:null===e||void 0===e?void 0:e.name,placeholder:null===e||void 0===e?void 0:e.placeholder,component:null===e||void 0===e?void 0:e.component}):(0,S.jsx)(Z,{id:d,errors:w,field:e,setFieldValue:k,values:O})},n)})}))]})}),(0,S.jsx)(t.Zb,{className:"mt-4 w-3/4 ",children:(0,S.jsxs)(t.Yb,{className:" md:w-full lg:w-1/2",children:[(0,S.jsx)("h5",{className:"mb-4",children:"Insurance Information"}),s.map((function(e,n,a){return(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(t.xJ,{label:null===e||void 0===e?void 0:e.label,className:"ml-3",invalid:(null===w||void 0===w?void 0:w[null===e||void 0===e?void 0:e.name])&&(null===F||void 0===F?void 0:F[null===e||void 0===e?void 0:e.name]),errorMessage:null===w||void 0===w?void 0:w[null===e||void 0===e?void 0:e.name],children:e.isBasic?(0,S.jsx)(r.gN,{textArea:!(null===e||void 0===e||!e.textArea),type:null===e||void 0===e?void 0:e.type,autoComplete:"off",name:null===e||void 0===e?void 0:e.name,placeholder:null===e||void 0===e?void 0:e.placeholder,component:null===e||void 0===e?void 0:e.component}):(0,S.jsx)(Z,{id:d,errors:w,field:e,setFieldValue:k,values:O})},n)})}))]})})]})]})]})})}},80034:function(e,n,a){a.d(n,{Z:function(){return m}});var o=a(87462),l=a(72791),i=a(4934),t=a(8003),r=a(4942),u=a(1413),d=a(29439),c=a(45987),s=a(74999),v=["defaultOptions","cacheOptions","loadOptions","options","isLoading","onInputChange","filterOption"];a(54164),a(51672);var m=(0,l.forwardRef)((function(e,n){var a=function(e){var n=e.defaultOptions,a=void 0!==n&&n,o=e.cacheOptions,i=void 0!==o&&o,t=e.loadOptions;e.options;var m=e.isLoading,p=void 0!==m&&m,f=e.onInputChange,h=e.filterOption,y=void 0===h?null:h,I=(0,c.Z)(e,v),b=I.inputValue,N=(0,l.useRef)(void 0),x=(0,l.useRef)(!1),g=(0,l.useState)(Array.isArray(a)?a:void 0),j=(0,d.Z)(g,2),C=j[0],S=j[1],Z=(0,l.useState)("undefined"!==typeof b?b:""),A=(0,d.Z)(Z,2),w=A[0],E=A[1],F=(0,l.useState)(!0===a),O=(0,d.Z)(F,2),_=O[0],T=O[1],D=(0,l.useState)(void 0),k=(0,d.Z)(D,2),P=k[0],R=k[1],q=(0,l.useState)([]),L=(0,d.Z)(q,2),B=L[0],V=L[1],z=(0,l.useState)(!1),M=(0,d.Z)(z,2),U=M[0],Y=M[1],H=(0,l.useState)({}),G=(0,d.Z)(H,2),J=G[0],W=G[1],$=(0,l.useState)(void 0),K=(0,d.Z)($,2),Q=K[0],X=K[1],ee=(0,l.useState)(void 0),ne=(0,d.Z)(ee,2),ae=ne[0],oe=ne[1];i!==ae&&(W({}),oe(i)),a!==Q&&(S(Array.isArray(a)?a:void 0),X(a)),(0,l.useEffect)((function(){return x.current=!0,function(){x.current=!1}}),[]);var le=(0,l.useCallback)((function(e,n){if(!t)return n();var a=t(e,n);a&&"function"===typeof a.then&&a.then(n,(function(){return n()}))}),[t]);(0,l.useEffect)((function(){!0===a&&le(w,(function(e){x.current&&(S(e||[]),T(!!N.current))}))}),[]);var ie=(0,l.useCallback)((function(e,n){var a=(0,s.L)(e,n,f);if(!a)return N.current=void 0,E(""),R(""),V([]),T(!1),void Y(!1);if(i&&J[a])E(a),R(a),V(J[a]),T(!1),Y(!1);else{var o=N.current={};E(a),T(!0),Y(!P),le(a,(function(e){x&&o===N.current&&(N.current=void 0,T(!1),R(a),V(e||[]),Y(!1),W(e?(0,u.Z)((0,u.Z)({},J),{},(0,r.Z)({},a,e)):J))}))}}),[i,le,P,J,f]),te=U?[]:w&&P?B:C||[];return(0,u.Z)((0,u.Z)({},I),{},{options:te,isLoading:_||p,onInputChange:ie,filterOption:y})}(e),m=(0,t.u)(a);return l.createElement(i.S,(0,o.Z)({ref:n},m))}))}}]);
//# sourceMappingURL=2334.28bf5208.chunk.js.map