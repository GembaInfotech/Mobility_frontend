"use strict";(self.webpackChunknasp=self.webpackChunknasp||[]).push([[8154],{79739:function(e,n,t){t.d(n,{Y:function(){return l}});var l={VIEW_IMAGE:"/img/prescription.png",REPLY:"/img/reply.png",STATUS:"/img/status.png",EXPORT:"/img/fileExport.svg",RECEIPT:"/img/receipt.svg",DOWNLOAD_PDF:"/img/download.png"}},18154:function(e,n,t){t.r(n);var l=t(29439),i=t(40018),a=t(72791),o=t(97892),s=t.n(o),r=t(9494),u=t(11723),d=t(16146),c=t(52452),v=t(78820),m=t(25764),p=t(93156),f=t(58617),h=t(57689),E=t(54048),g=t(52639),A=t(79739),b=t(31673),N=t(27091),D=t(54167),T=t(76053),C=t(47511),I=t(80184),x=[{label:"Edit",key:g.A6.EDIT,show:function(){return(0,C.ZP)(C.Fm.PATIENT,C.qz.WRITE)}},{label:(0,I.jsx)(v.YK6,{style:{fontSize:"1.1rem"}}),key:g.A6.DELETE,show:function(){return(0,C.ZP)(C.Fm.PATIENT,C.qz.DELETE)},toolTip:"Delete"},{label:A.Y.VIEW_IMAGE,key:g.A6.NAVIGATE,isImage:!0,toolTip:"View Prescriptions",show:function(){return(0,C.ZP)(C.Fm.SERVICEORDER,C.qz.READ)}}],w={header:g.BI.HEADER,des:g.BI.DELETE,warning:g.BI.WARNING,buttonLabel:"Delete"},S=[{label:"Add Patient",key:g.A6.ADD,icon:(0,I.jsx)(f.HQD,{})}],P=[{component:"select",options:g.W_,className:"mb-4 w-40",placeholder:"Status",filterKey:"status"},{component:"datePicker",placeholder:"DOB",className:"mb-4 w-64",filterKey:"dob"},{component:"input",placeholder:"Mobile Number",className:"mb-4 w-40",filterKey:"mobile"},{component:"resetButton",label:"Reset",icon:(0,I.jsx)(T.pYJ,{}),className:"mb-4",filterKey:{status:"",dob:null,search:""}}];n.default=function(){var e=localStorage.getItem("selectedHospitalId"),n=(0,a.useState)(""),t=(0,l.Z)(n,2),o=t[0],v=t[1],f=(0,a.useState)(!0),A=(0,l.Z)(f,2),T=A[0],Z=A[1],j=(0,a.useState)([]),y=(0,l.Z)(j,2),F=y[0],k=y[1],O=(0,a.useState)(""),R=(0,l.Z)(O,2),M=R[0],L=R[1],Y=(0,a.useState)(!1),H=(0,l.Z)(Y,2),_=H[0],z=H[1],B=(0,a.useState)(1),V=(0,l.Z)(B,2),W=V[0],q=V[1],G=(0,a.useState)(0),K=(0,l.Z)(G,2),U=K[0],X=K[1],Q=(0,a.useState)(10),J=(0,l.Z)(Q,2),$=J[0],ee=J[1],ne=(0,a.useState)(""),te=(0,l.Z)(ne,2),le=te[0],ie=te[1],ae=(0,a.useState)(!1),oe=(0,l.Z)(ae,2),se=oe[0],re=oe[1],ue=(0,a.useState)(!1),de=(0,l.Z)(ue,2),ce=de[0],ve=de[1],me=(0,a.useState)(""),pe=(0,l.Z)(me,2),fe=pe[0],he=pe[1],Ee=(0,a.useState)(!1),ge=(0,l.Z)(Ee,2),Ae=ge[0],be=ge[1],Ne=(0,h.s0)(),De=(0,a.useState)({status:""}),Te=(0,l.Z)(De,2),Ce=Te[0],Ie=Te[1],xe=function(e){var n,t,l=e.row;return(0,I.jsxs)("div",{className:"flex items-center",children:[null!==(null===l||void 0===l?void 0:l.imageUrlThumbnail)&&null!==l&&void 0!==l&&l.imageUrlThumbnail?(0,I.jsx)(d.qE,{size:28,shape:"circle",className:"mr-2",src:"".concat(E.Z.imageBaseUrl).concat(null===l||void 0===l?void 0:l.imageUrlThumbnail)}):(0,I.jsx)(d.qE,{size:28,shape:"circle",className:"mr-2",children:null===l||void 0===l||null===(n=l.firstName)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.toUpperCase()}),(0,I.jsx)("div",{className:"w-32",children:"".concat(null!==l&&void 0!==l&&l.firstName||null!==l&&void 0!==l&&l.lastName?"".concat(null!==l&&void 0!==l&&l.lastName?null===l||void 0===l?void 0:l.lastName:"",", ").concat(null!==l&&void 0!==l&&l.firstName?null===l||void 0===l?void 0:l.firstName:""," "):"-")})]})};(0,a.useEffect)((function(){var n,t;(0,r.ac)(u.vh.LIST_DATA,{type:u.kD.PATIENTS,limit:$,search:M,companyId:null!==(n=null===o||void 0===o?void 0:o._id)&&void 0!==n?n:e,status:null!==Ce&&void 0!==Ce&&Ce.status?null===Ce||void 0===Ce||null===(t=Ce.status)||void 0===t?void 0:t.value:null,patientDob:null!==Ce&&void 0!==Ce&&Ce.dob?s()(Ce.dob).format("MM/DD/YYYY"):null,mobile:null!==Ce&&void 0!==Ce&&Ce.mobile?Ce.mobile:null,skip:$*(W-1)}).then((function(e){var n,t;k(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data),X(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.count)})).finally((function(){return Z(!1)}))}),[e,M,W,$,_,Ce,o]);var we=function(e,n,t){n===g.A6.DELETE&&(ie({id:null===t||void 0===t?void 0:t._id}),re(!0)),n===g.A6.EDIT&&Ne("/app/patient/edit/".concat(null===t||void 0===t?void 0:t._id)),n===g.A6.NAVIGATE&&Ne("/app/orderManagement/service-order/".concat(null===t||void 0===t?void 0:t._id))},Se=function(){ie(""),re(!1),ve(!1),be(!1),he("")},Pe=[{Header:"Patient ID",Cell:function(e){var n=e.row.original;return null===(null===n||void 0===n?void 0:n.patientNo)?"-":null===n||void 0===n?void 0:n.patientNo}},{Header:"Patient Name",Cell:function(e){var n=e.row.original;return(0,I.jsx)(xe,{row:n})}},{Header:"Mobile",Cell:function(e){var n=e.row.original;return(0,I.jsx)("div",{className:"flex items-center whitespace-nowrap",children:(0,I.jsx)("p",{children:"".concat(null===n||void 0===n?void 0:n.countryCode," ").concat((0,C.Oz)(null===n||void 0===n?void 0:n.phoneNumber))})})}},{Header:"DOB",Cell:function(e){var n=e.row.original;return(0,I.jsx)("div",{className:"flex items-center ",children:s()(null===n||void 0===n?void 0:n.dob).format("MM/DD/YYYY")})}},{Header:"NASPAC Case No.",Cell:function(e){var n=e.row.original;return(0,I.jsx)("div",{className:"flex items-center ",children:null!==n&&void 0!==n&&n.naspacNo?null===n||void 0===n?void 0:n.naspacNo:"-"})}},{Header:"Registered On",Cell:function(e){var n=e.row.original;return(0,I.jsx)("div",{className:"flex items-center ",children:s()(null===n||void 0===n?void 0:n.createdAt).format(g.a1)})}},{Header:"Active",Cell:function(e){return(0,I.jsx)(b.Z,{dataObj:e,setSelectedData:ie,setActiveConfirm:ve,setOpenModal:re})}},{Header:"Actions",id:"action",accessor:function(e){return e},Cell:function(e){return(0,I.jsx)(c.Z,{row:e.row.original,onActionHandle:we,actionsMenu:x})}}];return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(p.Z,{buttonMenu:(0,C.ZP)(C.Fm.PATIENT,C.qz.WRITE)?S:S.slice(0,S.length-1),FilterMenu:P,setFilterCompanyId:v,filterCompanyId:o,setSearch:L,buttonClick:function(e,n){n===g.A6.ADD&&Ne("/app/patient/add"),n===g.A6.EXPORT&&be(!0)},setFilterValue:Ie,filterValue:Ce,searchPlaceholder:"Search with Code, Name, Email, Mobile"}),(0,I.jsx)(i.lG,{className:"h-full",bodyClass:"h-full",children:(0,I.jsx)(i.wQ,{isCursor:!1,columns:(0,C.wX)(Pe,C.Fm.PATIENT),data:F,loading:T,skeletonAvatarColumns:[0],skeletonAvatarProps:{width:28,height:28},pagingData:{pageIndex:W,pageSize:$,total:U},onPaginationChange:function(e){return q(e)},onSelectChange:function(e){return ee(e)}})}),(0,I.jsx)(m.Z,{isOpen:se,onConfirmClick:function(){var e,n={type:u.kD.PATIENTS,id:null===le||void 0===le?void 0:le.id};ce?(e=g.D5,n.status=+(null===le||void 0===le?void 0:le.action)):(e=g.O7,n.status=0),(0,r.Fv)(u.vh.BLOCK_DELETE_DATA,n).then((function(n){d.Am.push((0,I.jsx)(d.P_,{type:"success",children:e})),z((function(e){return!e})),Se()}))},header:w.header,des:ce?null===g.uF||void 0===g.uF?void 0:g.uF.des:w.des,onDialogClose:Se,isWarning:!ce&&w.warning,buttonLabel:ce?null===g.uF||void 0===g.uF?void 0:g.uF.buttonLabel:w.buttonLabel}),(0,I.jsx)(N.Z,{isOpen:!!fe,onDialogClose:Se,selectedId:fe,setRefresh:z}),(0,I.jsx)(D.Z,{type:"3",isOpen:Ae,onDialogClose:Se})]})}}}]);
//# sourceMappingURL=8154.d0c1893d.chunk.js.map