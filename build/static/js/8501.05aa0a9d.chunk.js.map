{"version":3,"file":"static/js/8501.05aa0a9d.chunk.js","mappings":"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","sources":["services/CommonService.js","views/company/addEdit/index.js"],"sourcesContent":["import ApiService from \"./ApiService\"\r\nimport BaseService from \"./BaseService\";\r\n\r\nexport function getApi(endpoint, params) {\r\n  return BaseService.get(endpoint, { params }).then((res) => res?.data);\r\n}\r\n\r\nexport function postApi(endpoint, payload) {    \r\n  return BaseService.post(endpoint, payload).then((res) => res?.data);\r\n}\r\n\r\nexport async function apiGetNotificationCount () {\r\n    return ApiService.fetchData({\r\n        url: '/notification/count',\r\n        method: 'get'\r\n    })\r\n}\r\n\r\nexport async function apiGetNotificationList () {\r\n    return ApiService.fetchData({\r\n        url: '/notification/list',\r\n        method: 'get'\r\n    })\r\n}\r\n\r\nexport async function apiGetSearchResult (data) {\r\n    return ApiService.fetchData({\r\n        url: '/search/query',\r\n        method: 'post',\r\n        data\r\n    })\r\n}","import React, { useEffect, useRef, useState } from 'react';\r\nimport { AdaptableCard } from 'components/shared';\r\nimport {\r\n  Button,\r\n  Input,\r\n  FormItem,\r\n  FormContainer,\r\n  toast,\r\n  Notification,\r\n  Card,\r\n  Spinner,\r\n} from 'components/ui';\r\nimport { Formik, Form, Field } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport { getApi, postApi } from 'services/CommonService';\r\nimport { APIS, LIST_DATA_API_TYPE } from 'constants/api.constant';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\n\r\nconst SignupSchema = Yup.object().shape({\r\n  name: Yup.string().required('Required'),\r\n});\r\n\r\nconst initialValues = {\r\n  name: '',\r\n};\r\n\r\nconst AddEditAdmins = () => {\r\n  const formRef = useRef();\r\n  const [loading, setLoading] = useState(false);\r\n  const [editData, setEditData] = useState(null);\r\n  const [selectedImage, setSelectedImage] = useState(null);\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      getApi(APIS.LIST_DATA, {\r\n        type: LIST_DATA_API_TYPE.COMPANY,\r\n        id,\r\n      }).then((res) => {\r\n        const response = res?.data?.data;\r\n        if (response) {\r\n          setEditData(response);\r\n        }\r\n      });\r\n    }\r\n  }, [id]);\r\n\r\n  const onSubmit = ({ name }, { setSubmitting }) => {\r\n    setLoading(true);\r\n    const formData = new FormData();\r\n    formData.append('name', name);\r\n    if (id) formData.append('id', id);\r\n    formData.append('modelType', LIST_DATA_API_TYPE.COMPANY);\r\n\r\n    if (selectedImage) {\r\n      formData.append('image', selectedImage); // Ensure your backend expects \"image\"\r\n    }\r\n\r\n    postApi(APIS.ADD_EDIT_COMPANY, formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n      },\r\n    })\r\n      .then(() => {\r\n        navigate(-1);\r\n        toast.push(<Notification type=\"success\">Company saved!</Notification>);\r\n      })\r\n      .catch((error) => {\r\n        setSubmitting(false);\r\n        console.error('Error saving company:', error);\r\n      })\r\n      .finally(() => setLoading(false));\r\n  };\r\n\r\n  return (\r\n    <AdaptableCard>\r\n      <Formik\r\n        innerRef={formRef}\r\n        initialValues={editData || initialValues}\r\n        validationSchema={SignupSchema}\r\n        onSubmit={onSubmit}\r\n        enableReinitialize\r\n      >\r\n        {({ errors, touched, isSubmitting }) => (\r\n          <Form className=\"p-5\">\r\n            <div className=\"flex mb-3 justify-end w-3/4\">\r\n              <Button size=\"sm\" variant=\"solid\" onClick={() => navigate(-1)} type=\"button\">\r\n                Cancel\r\n              </Button>\r\n              <Button\r\n                size=\"sm\"\r\n                variant=\"solid\"\r\n                style={{ marginLeft: '5px' }}\r\n                loading={isSubmitting}\r\n                type=\"submit\"\r\n              >\r\n                {id ? 'Update' : 'Save'}\r\n              </Button>\r\n            </div>\r\n\r\n            {loading ? (\r\n              <div className=\"flex justify-center\">\r\n                <Spinner size=\"3.25rem\" />\r\n              </div>\r\n            ) : (\r\n              <Card className=\"mt-2.5 w-3/4\">\r\n                <FormContainer>\r\n                  <FormItem\r\n                    label=\"Name\"\r\n                    invalid={errors?.name && touched?.name}\r\n                    errorMessage={errors?.name}\r\n                  >\r\n                    <Field\r\n                      type=\"text\"\r\n                      autoComplete=\"off\"\r\n                      name=\"name\"\r\n                      placeholder=\"Enter name\"\r\n                      component={Input}\r\n                    />\r\n                  </FormItem>\r\n\r\n                  <FormItem label=\"Upload Image\">\r\n                    <input\r\n                      type=\"file\"\r\n                      accept=\"image/*\"\r\n                      onChange={(e) => setSelectedImage(e.target.files[0])}\r\n                    />\r\n                  </FormItem>\r\n\r\n                  {selectedImage && (\r\n                    <img\r\n                      src={URL.createObjectURL(selectedImage)}\r\n                      alt=\"Selected\"\r\n                      className=\"w-24 h-24 object-cover rounded border mt-2\"\r\n                    />\r\n                  )}\r\n                </FormContainer>\r\n              </Card>\r\n            )}\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </AdaptableCard>\r\n  );\r\n};\r\n\r\nexport default AddEditAdmins;\r\n"],"names":["getApi","endpoint","params","BaseService","then","res","data","postApi","payload","apiGetSearchResult","ApiService","url","method","SignupSchema","Yup","shape","name","required","initialValues","formRef","useRef","useState","loading","setLoading","editData","setEditData","selectedImage","setSelectedImage","id","useParams","navigate","useNavigate","useEffect","APIS","type","LIST_DATA_API_TYPE","response","innerRef","validationSchema","onSubmit","setSubmitting","formData","FormData","append","headers","toast","catch","error","console","finally","enableReinitialize","errors","touched","isSubmitting","className","size","variant","onClick","style","marginLeft","label","invalid","errorMessage","autoComplete","placeholder","component","Input","accept","onChange","e","target","files","src","URL","createObjectURL","alt"],"sourceRoot":""}