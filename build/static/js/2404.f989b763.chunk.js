"use strict";(self.webpackChunknasp=self.webpackChunknasp||[]).push([[2404],{25764:function(e,n,l){l(72791);var i=l(16146),o=l(80184);n.Z=function(e){var n=e.header,l=e.des,t=e.onDialogClose,a=e.isWarning,s=e.onConfirmClick,r=e.isOpen,d=e.buttonLabel;return(0,o.jsx)(i.Vq,{isOpen:r,onClose:t,onRequestClose:t,contentClassName:"pb-0 px-0 mt-36 min-w-36",children:(0,o.jsxs)("div",{className:"px-5 pb-5",children:[(0,o.jsx)("h5",{className:"mb-4",children:n}),(0,o.jsx)("p",{children:l}),a&&(0,o.jsx)("p",{className:"text-red-700",children:a}),(0,o.jsxs)("div",{className:"text-right mt-6",children:[(0,o.jsx)(i.zx,{className:"ltr:mr-2 rtl:ml-2",variant:"plain",onClick:t,children:"Cancel"}),(0,o.jsx)(i.zx,{variant:"solid",onClick:s,children:d})]})]})})}},52452:function(e,n,l){var i=l(23532),o=l(16146),t=l(80184);n.Z=function(e){var n=e.row,l=e.onActionHandle,a=e.actionsMenu,s=(0,i.Z)().textTheme;return(0,t.jsx)("div",{className:"flex items-center justify-between",children:null===a||void 0===a?void 0:a.map((function(e,i){var a,r;if(null===(a=null===e||void 0===e||null===(r=e.show)||void 0===r?void 0:r.call(e))||void 0===a||a)return(0,t.jsx)(o.u,{title:null===e||void 0===e?void 0:e.toolTip,visible:!(null===e||void 0===e||!e.toolTip),children:null!==e&&void 0!==e&&e.isImage?(0,t.jsx)("img",{src:e.label,alt:"view Icon",style:{maxWidth:"20px"},className:"cursor-pointer mx-0.5",onClick:function(i){return l(i,e.key,n)}}):(0,t.jsx)("span",{className:"".concat(s," cursor-pointer select-none font-semibold ml-2 "),onClick:function(i){return l(i,e.key,n)},children:e.label})})}))})}},31673:function(e,n,l){l(72791);var i=l(52639),o=l(16146),t=l(80184);n.Z=function(e){var n,l,a=e.dataObj,s=e.setSelectedData,r=e.setActiveConfirm,d=e.setOpenModal,c=null===a||void 0===a||null===(n=a.row)||void 0===n||null===(l=n.original)||void 0===l?void 0:l._id,u=i.uN.find((function(e,n){var l,i;return e.identifier===(null===a||void 0===a||null===(l=a.row)||void 0===l||null===(i=l.original)||void 0===i?void 0:i.status)}));return(0,t.jsx)(o.XZ,{checked:null===u||void 0===u?void 0:u.value,onChange:function(e){return function(e,n,l){var i="";1===n&&(i=2),2===n&&(i=1),s({id:l,action:i}),r(!0),d(!0)}(0,null===u||void 0===u?void 0:u.identifier,c)}})}},53247:function(e,n,l){l(72791);var i=l(16146),o=l(80184);n.Z=function(e){var n,l=e.uploadLoading,t=e.header,a=e.des,s=e.onDialogClose,r=e.isWarning,d=e.onConfirmClick,c=e.isOpen,u=e.buttonLabel,v=e.setUploadFile,p=e.uploadFile;return(0,o.jsx)(i.Vq,{isOpen:c,onClose:s,onRequestClose:s,contentClassName:"pb-0 px-0 mt-36 min-w-36",children:(0,o.jsxs)("div",{className:"px-5 pb-5",children:[(0,o.jsx)("h5",{className:"mb-4",children:t}),(0,o.jsx)("p",{children:a}),r&&(0,o.jsx)("p",{className:"text-red-700",children:r}),(0,o.jsxs)(i.BZ,{className:"mb-4",children:[(0,o.jsx)(i.II,{value:null===p||void 0===p||null===(n=p[0])||void 0===n?void 0:n.name}),(0,o.jsx)(i.gq,{uploadLimit:1,showList:!1,accept:[".xlsx, .xls, .csv"],name:"uploadFile",onChange:function(e){v(e)}})]}),(0,o.jsxs)("div",{className:"text-right mt-6",children:[(0,o.jsx)(i.zx,{className:"ltr:mr-2 rtl:ml-2",variant:"plain",onClick:s,children:"Cancel"}),(0,o.jsx)(i.zx,{variant:"solid",onClick:d,loading:l,disabled:!p,children:u})]})]})})}},93156:function(e,n,l){var i=l(4942),o=l(1413),t=l(72791),a=l(16146),s=l(10515),r=l(76053),d=l(9494),c=l(11723),u=l(763),v=l(80034),p=l(52639),f=l(80184),h=function(e){var n=e.buttonMenu,l=e.buttonClick;return(0,f.jsx)("div",{className:"mb-4",children:null===n||void 0===n?void 0:n.map((function(e,n,i){return(0,f.jsx)(a.zx,{size:"sm",variant:"solid",onClick:function(n){return l(n,e.key)},style:{marginLeft:"5px"},icon:e.icon,children:e.label})}))})},m=function(e){var n=e.setSearch,l=e.FilterMenu,h=e.setFilterValue,m=e.filterValue,x=e.asyncApiType,C=e.searchPlaceholder,b=(0,u.debounce)((function(e,n){(0,d.ac)(1===x?c.vh.GET_USERS:c.vh.GET_CATEGORIES,{search:e}).then((function(e){var l;n(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.data)}))}),300);return(0,f.jsxs)("div",{className:"md:flex gap-4 w-full",children:[n&&(0,f.jsx)(s.Z,{placeholder:C,onChange:function(e){return n(e)}}),null===l||void 0===l?void 0:l.map((function(e,l){return(0,f.jsxs)(t.Fragment,{children:["select"===e.component&&(0,f.jsx)(a.Ph,{autoComplete:"off",size:"sm",className:e.className,placeholder:e.placeholder,options:e.options,value:m[null===e||void 0===e?void 0:e.filterKey],onChange:function(n){h((0,o.Z)((0,o.Z)({},m),{},(0,i.Z)({},null===e||void 0===e?void 0:e.filterKey,n)))}}),"resetButton"===e.component&&(0,f.jsx)(a.zx,{size:"sm",className:e.className,onClick:function(){h(null===e||void 0===e?void 0:e.filterKey),n("")},icon:(0,f.jsx)(r.pYJ,{}),children:e.label}),"asyncSelect"===e.component&&(0,f.jsx)(a.Ph,{autoComplete:"off",placeholder:e.placeholder,defaultOptions:!0,cacheOptions:!0,size:"sm",className:e.className,value:null===m||void 0===m?void 0:m[null===e||void 0===e?void 0:e.filterKey],loadOptions:b,componentAs:v.Z,getOptionLabel:function(n){return"".concat(null===n||void 0===n?void 0:n[e.label]," ").concat(null!==e&&void 0!==e&&e.label1?null===n||void 0===n?void 0:n[e.label1]:"")},getOptionValue:function(e){return null===e||void 0===e?void 0:e.id},onChange:function(n){h((0,o.Z)((0,o.Z)({},m),{},(0,i.Z)({},null===e||void 0===e?void 0:e.filterKey,n)))}}),"datePicker"===e.component&&(0,f.jsx)(a.Mt,{inputtable:!0,clearable:!0,selected:m[null===e||void 0===e?void 0:e.filterKey],onChange:function(n){h((0,o.Z)((0,o.Z)({},m),{},(0,i.Z)({},null===e||void 0===e?void 0:e.filterKey,n)))},size:"sm",placeholder:"Patient DOB (MM/DD/YYYY)",name:"patientDob",className:e.className,placeholderText:e.placeholder,dateFormat:p.zT}),"input"===e.component&&(0,f.jsx)(a.II,{size:"sm",className:e.className,placeholder:e.placeholder,value:m[null===e||void 0===e?void 0:e.filterKey],onChange:function(n){h((0,o.Z)((0,o.Z)({},m),{},(0,i.Z)({},null===e||void 0===e?void 0:e.filterKey,n.target.value)))}})]},l)}))]})};n.Z=function(e){var n=e.buttonMenu,l=e.FilterMenu,i=e.setSearch,o=e.buttonClick,t=e.setFilterValue,a=e.filterValue,s=e.asyncApiType,r=e.searchPlaceholder;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"md:flex items-center justify-end",children:(0,f.jsx)(h,{buttonMenu:n,buttonClick:o})}),(0,f.jsx)("div",{className:"items-center lg:flex",children:(0,f.jsx)(m,{searchPlaceholder:r,setSearch:i,FilterMenu:l,setFilterValue:t,filterValue:a,asyncApiType:s})})]})}},10515:function(e,n,l){l(72791);var i=l(16146),o=l(58617),t=l(48573),a=l.n(t),s=l(80184);n.Z=function(e){var n=e.onChange,l=e.placeholder,t=a()((function(e){null===n||void 0===n||n(e)}),500);return(0,s.jsx)(i.II,{className:"max-w-md md:w-96 mb-4",size:"sm",placeholder:l?"".concat(l):"Filter by NAL, LCode, Referring Physician",prefix:(0,s.jsx)(o.O6C,{className:"text-lg"}),onChange:function(e){t(e.target.value)}})}},9494:function(e,n,l){l.d(n,{EY:function(){return d},Fv:function(){return r},ac:function(){return s}});var i=l(74165),o=l(15861),t=l(91181),a=l(14712);function s(e,n){return a.Z.get(e,{params:n}).then((function(e){return null===e||void 0===e?void 0:e.data}))}function r(e,n){return a.Z.post(e,n).then((function(e){return null===e||void 0===e?void 0:e.data}))}function d(e){return c.apply(this,arguments)}function c(){return(c=(0,o.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.Z.fetchData({url:"/search/query",method:"post",data:n}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},72404:function(e,n,l){l.r(n),l.d(n,{default:function(){return P}});var i=l(1413),o=l(29439),t=l(72791),a=l(9494),s=l(11723),r=l(40018),d=l(16146),c=l(58617),u=l(92506),v=l(62797),p=l(78820),f=l(80184),h=[{label:"LCodes",value:1},{label:"ICD",value:2}],m=function(e){var n=e.editData,l=e.onCancel,i=e.onSave,o=e.isLoading;return(0,f.jsxs)("div",{className:"text-right w-full",children:[(0,f.jsx)(d.zx,{className:"mr-2",onClick:l,disabled:o,icon:(0,f.jsx)(p.SV5,{}),children:"Cancel"}),(0,f.jsx)(d.zx,{variant:"solid",type:"submit",onClick:i,disabled:o,icon:(0,f.jsx)(p.JMf,{}),children:null!==n&&void 0!==n&&n.id?"Update":"Save"})]})},x=v.Ry().shape({code:v.Z_().required("Required"),type:v.Ry().required("Required")}),C={code:"",description:"",type:""},b=function(e){var n=e.editData,l=e.show,i=e.onClose,c=e.refreshPage,v=(0,t.useRef)(),p=(0,t.useState)(!1),b=(0,o.Z)(p,2),j=b[0],y=b[1];return(0,f.jsx)(d.dy,{isOpen:l,onClose:i,onRequestClose:i,closable:!1,bodyClass:"p-0",title:null!==n&&void 0!==n&&n.id?"Edit Code":"Add Code",footer:(0,f.jsx)(m,{onCancel:i,onSave:function(){var e;return null===v||void 0===v||null===(e=v.current)||void 0===e?void 0:e.submitForm()},isLoading:j,editData:n}),children:(0,f.jsx)(r.lG,{children:(0,f.jsx)(u.J9,{innerRef:v,initialValues:n||C,validationSchema:x,onSubmit:function(e){var n,l=e.code,o=e.id,t=e.description,r=e.type;y(!0);var u={code:l,description:t,type:null===r||void 0===r||null===(n=r.value)||void 0===n?void 0:n.toString(),modelType:s.kD.CODES};o&&(u.id=o),(0,a.Fv)(s.vh.ADD_EDIT_DATA,u).then((function(){i(),c(),d.Am.push((0,f.jsx)(d.P_,{type:"success",children:"Code saved!"}))})).finally((function(){return y(!1)}))},enableReinitialize:!0,children:function(e){var n=e.errors,l=e.touched,i=e.setFieldValue,o=e.values;return(0,f.jsx)(u.l0,{className:"p-5",children:(0,f.jsxs)(d.Yb,{children:[(0,f.jsx)(d.xJ,{label:"Type",invalid:(null===n||void 0===n?void 0:n.type)&&(null===l||void 0===l?void 0:l.type),errorMessage:null===n||void 0===n?void 0:n.type,children:(0,f.jsx)(d.Ph,{autoComplete:"off",size:"sm",name:"type",className:"mb-1 w-full",placeholder:"Select Type",options:h,value:o.type,onChange:function(e){i("type",e)}})}),(0,f.jsx)(d.xJ,{label:"Code",invalid:(null===n||void 0===n?void 0:n.code)&&(null===l||void 0===l?void 0:l.code),errorMessage:null===n||void 0===n?void 0:n.code,children:(0,f.jsx)(u.gN,{type:"text",autoComplete:"off",name:"code",placeholder:"Enter Code ",component:d.II})}),(0,f.jsx)(d.xJ,{label:"Description",children:(0,f.jsx)(u.gN,{type:"text",autoComplete:"off",name:"description",placeholder:"Enter Description ",component:d.II})})]})})}})})})},j=l(52452),y=l(93156),g=l(25764),Z=l(76053),D=l(54048),S=l(52639),N=l(53247),E=l(31673),T=l(47511),k=[{label:"Edit",key:S.A6.EDIT,show:function(){return(0,T.ZP)(T.Fm.CODES,T.qz.WRITE)}},{label:(0,f.jsx)(p.YK6,{style:{fontSize:"1.2rem"}}),key:S.A6.DELETE,toolTip:"Delete",show:function(){return(0,T.ZP)(T.Fm.CODES,T.qz.DELETE)}}],A=[{label:"Add Code",key:S.A6.ADD,icon:(0,f.jsx)(c.HQD,{})}],F=[{component:"select",options:[{label:"Lcodes",value:1},{label:"icd",value:2}],className:"mb-4 w-40\t",placeholder:"Code Type",filterKey:"codeType"},{component:"resetButton",label:"Reset",icon:(0,f.jsx)(Z.pYJ,{}),className:"mb-4",filterKey:{codeType:""}}],O={header:S.BI.HEADER,des:S.BI.DELETE,buttonLabel:"Delete"},w="Import",L="Choose File to upload",I="Upload",z="Uploading",P=function e(){var n=(0,t.useState)([]),l=(0,o.Z)(n,2),c=l[0],u=l[1],v=(0,t.useState)(!1),p=(0,o.Z)(v,2),h=p[0],m=p[1],x=(0,t.useState)(1),C=(0,o.Z)(x,2),Z=C[0],P=C[1],R=(0,t.useState)(0),M=(0,o.Z)(R,2),_=M[0],q=M[1],V=(0,t.useState)(10),K=(0,o.Z)(V,2),B=K[0],H=K[1],U=(0,t.useState)(""),Y=(0,o.Z)(U,2),W=Y[0],J=Y[1],G=(0,t.useState)(!1),Q=(0,o.Z)(G,2),X=Q[0],$=Q[1],ee=(0,t.useState)(!1),ne=(0,o.Z)(ee,2),le=ne[0],ie=ne[1],oe=(0,t.useState)(""),te=(0,o.Z)(oe,2),ae=te[0],se=te[1],re=(0,t.useState)(!1),de=(0,o.Z)(re,2),ce=de[0],ue=de[1],ve=(0,t.useState)(!1),pe=(0,o.Z)(ve,2),fe=pe[0],he=pe[1],me=(0,t.useState)(),xe=(0,o.Z)(me,2),Ce=xe[0],be=xe[1],je=(0,t.useState)(""),ye=(0,o.Z)(je,2),ge=ye[0],Ze=ye[1],De=(0,t.useState)({codeType:""}),Se=(0,o.Z)(De,2),Ne=Se[0],Ee=Se[1],Te=(0,t.useState)(!1),ke=(0,o.Z)(Te,2),Ae=ke[0],Fe=ke[1],Oe=(0,t.useState)(!1),we=(0,o.Z)(Oe,2),Le=we[0],Ie=we[1];(0,t.useEffect)((function(){m(!0);var n,l={type:s.kD.CODES,limit:B,search:W,skip:B*(Z-1)};""!==(null===Ne||void 0===Ne?void 0:Ne.codeType)&&(l.codeType=null===Ne||void 0===Ne||null===(n=Ne.codeType)||void 0===n?void 0:n.value);(0,a.ac)(s.vh.LIST_DATA,(0,i.Z)({},l)).then((function(e){var n,l,i;console.log("ressss",e),Ze(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.lcodeSampleFile),u([]),u(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.data),q(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.count)})).finally((function(){return m(!1)})),console.log("ressssppp",e)}),[W,Z,B,le,Ne]);var ze=function(e,n,l){var i;n===S.A6.EDIT&&(se({id:null===l||void 0===l?void 0:l._id,code:null===l||void 0===l?void 0:l.code,description:null===l||void 0===l?void 0:l.description,type:(i=null===l||void 0===l?void 0:l.type,1===i?{label:"Lcodes",value:1}:{label:"icd",value:2})}),$(!0)),n===S.A6.DELETE&&(se({id:null===l||void 0===l?void 0:l._id}),ue(!0))},Pe=[{Header:"Code",accessor:"code"},{Header:"Description",Cell:function(e){var n,l=null===e||void 0===e||null===(n=e.row)||void 0===n?void 0:n.original;return null!==l&&void 0!==l&&l.description?null===l||void 0===l?void 0:l.description:"-"}},{Header:"Type",accessor:"type",Cell:function(e){return 1===e.row.original.type?"Lcodes":"icd"}},{Header:"Active",Cell:function(e){return(0,f.jsx)(E.Z,{dataObj:e,setSelectedData:se,setActiveConfirm:Fe,setOpenModal:ue})}},{Header:"Actions",id:"action",accessor:function(e){return e},Cell:function(e){return(0,f.jsx)(j.Z,{row:e.row.original,onActionHandle:ze,actionsMenu:k})}}],Re=function(){se(""),ue(!1),Fe(!1)},Me=function(){Ie(!1),be("")};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(y.Z,{buttonMenu:(0,T.ZP)(T.Fm.CODES,T.qz.WRITE)?A:A.slice(0,A.length-1),FilterMenu:F,setSearch:J,buttonClick:function(e,n){if(n===S.A6.ADD&&$(!0),n===S.A6.IMPORT&&Ie(!0),n===S.A6.DOWNLOAD){var l="".concat(null===D.Z||void 0===D.Z?void 0:D.Z.imageBaseUrl).concat(ge),i=document.createElement("a");i.href=l,i.download="example-file.txt",i.click(),window.URL.revokeObjectURL(l)}},setFilterValue:Ee,filterValue:Ne}),(0,f.jsx)(r.lG,{className:"h-full",bodyClass:"h-full",children:(0,f.jsx)(r.wQ,{columns:(0,T._P)(Pe,T.Fm.CODES,1),isCursor:!1,data:c,loading:h,skeletonAvatarColumns:[0],skeletonAvatarProps:{width:28,height:28},pagingData:{pageIndex:Z,pageSize:B,total:_},onPaginationChange:function(e){return P(e)},onSelectChange:function(e){return H(e)}})}),(0,f.jsx)(b,{show:X,onClose:function(){se(""),$(!1)},refreshPage:function(){return ie((function(e){return!e}))},editData:ae}),(0,f.jsx)(g.Z,{isOpen:ce,onConfirmClick:function(){var e,n={type:s.kD.CODES,id:null===ae||void 0===ae?void 0:ae.id};Ae?(e=S.D5,n.status=+(null===ae||void 0===ae?void 0:ae.action)):(e=S.O7,n.status=0),(0,a.Fv)(s.vh.BLOCK_DELETE_DATA,n).then((function(n){d.Am.push((0,f.jsx)(d.P_,{type:"success",children:e})),ie((function(e){return!e})),Re()}))},header:O.header,des:Ae?null===S.uF||void 0===S.uF?void 0:S.uF.des:S.BI.DELETE,onDialogClose:Re,isWarning:!Ae&&S.BI.WARNING,buttonLabel:Ae?null===S.uF||void 0===S.uF?void 0:S.uF.buttonLabel:O.buttonLabel}),(0,f.jsx)(N.Z,{uploadLoading:fe,setUploadFile:be,isOpen:Le,header:w,des:L,onDialogClose:Me,onConfirmClick:function(){he(!0);for(var e=new FormData,n=0;n<(null===Ce||void 0===Ce?void 0:Ce.length);n++)e.append("file",Ce[n]);(0,a.Fv)(s.vh.IMPORT_CODE,e).then((function(e){ie((function(e){return!e})),he(!1),d.Am.push((0,f.jsx)(d.P_,{type:"success",children:S.pX})),Me()}))},buttonLabel:fe?z:I,uploadFile:Ce})]})}}}]);
//# sourceMappingURL=2404.f989b763.chunk.js.map