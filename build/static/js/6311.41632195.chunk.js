(self.webpackChunknasp=self.webpackChunknasp||[]).push([[6311],{25764:function(e,t,n){"use strict";n(72791);var i=n(16146),o=n(80184);t.Z=function(e){var t=e.header,n=e.des,a=e.onDialogClose,r=e.isWarning,l=e.onConfirmClick,s=e.isOpen,u=e.buttonLabel;return(0,o.jsx)(i.Vq,{isOpen:s,onClose:a,onRequestClose:a,contentClassName:"pb-0 px-0 mt-36 min-w-36",children:(0,o.jsxs)("div",{className:"px-5 pb-5",children:[(0,o.jsx)("h5",{className:"mb-4",children:t}),(0,o.jsx)("p",{children:n}),r&&(0,o.jsx)("p",{className:"text-red-700",children:r}),(0,o.jsxs)("div",{className:"text-right mt-6",children:[(0,o.jsx)(i.zx,{className:"ltr:mr-2 rtl:ml-2",variant:"plain",onClick:a,children:"Cancel"}),(0,o.jsx)(i.zx,{variant:"solid",onClick:l,children:u})]})]})})}},52452:function(e,t,n){"use strict";var i=n(23532),o=n(16146),a=n(80184);t.Z=function(e){var t=e.row,n=e.onActionHandle,r=e.actionsMenu,l=(0,i.Z)().textTheme;return(0,a.jsx)("div",{className:"flex items-center justify-between",children:null===r||void 0===r?void 0:r.map((function(e,i){var r,s;if(null===(r=null===e||void 0===e||null===(s=e.show)||void 0===s?void 0:s.call(e))||void 0===r||r)return(0,a.jsx)(o.u,{title:null===e||void 0===e?void 0:e.toolTip,visible:!(null===e||void 0===e||!e.toolTip),children:null!==e&&void 0!==e&&e.isImage?(0,a.jsx)("img",{src:e.label,alt:"view Icon",style:{maxWidth:"20px"},className:"cursor-pointer mx-0.5",onClick:function(i){return n(i,e.key,t)}}):(0,a.jsx)("span",{className:"".concat(l," cursor-pointer select-none font-semibold ml-2 "),onClick:function(i){return n(i,e.key,t)},children:e.label})})}))})}},31673:function(e,t,n){"use strict";n(72791);var i=n(52639),o=n(16146),a=n(80184);t.Z=function(e){var t,n,r=e.dataObj,l=e.setSelectedData,s=e.setActiveConfirm,u=e.setOpenModal,c=null===r||void 0===r||null===(t=r.row)||void 0===t||null===(n=t.original)||void 0===n?void 0:n._id,d=i.uN.find((function(e,t){var n,i;return e.identifier===(null===r||void 0===r||null===(n=r.row)||void 0===n||null===(i=n.original)||void 0===i?void 0:i.status)}));return(0,a.jsx)(o.XZ,{checked:null===d||void 0===d?void 0:d.value,onChange:function(e){return function(e,t,n){var i="";1===t&&(i=2),2===t&&(i=1),l({id:n,action:i}),s(!0),u(!0)}(0,null===d||void 0===d?void 0:d.identifier,c)}})}},93156:function(e,t,n){"use strict";var i=n(4942),o=n(1413),a=n(74165),r=n(15861),l=n(29439),s=n(72791),u=n(16146),c=n(10515),d=n(76053),f=n(9494),v=n(11723),h=n(763),m=n(80034),p=n(52639),x=n(60364),g=n(80184),C=function(e){var t=e.buttonMenu,n=e.buttonClick;return(0,g.jsx)("div",{className:"mb-4",children:null===t||void 0===t?void 0:t.map((function(e,t,i){return(0,g.jsx)(u.zx,{size:"sm",variant:"solid",onClick:function(t){return n(t,e.key)},style:{marginLeft:"5px"},icon:e.icon,children:e.label})}))})},y=function(e){var t=e.setSearch,n=e.FilterMenu,C=e.setFilterValue,y=e.filterValue,D=e.asyncApiType,S=e.searchPlaceholder,b=e.setFilterCompanyId,Z=e.filterCompanyId,$=(0,x.v9)((function(e){return e.auth.user})),j=(localStorage.getItem("selectedHospitalId"),(0,s.useState)([])),T=(0,l.Z)(j,2),O=T[0],A=T[1];(0,s.useEffect)((function(){var e=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var t,n,i,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null===$||void 0===$||!$.companyId){e.next=7;break}return e.next=4,(0,f.ac)(v.vh.LIST_DATA,{companyIds:JSON.stringify($.companyId),type:v.kD.COMPANY});case 4:o=e.sent,e.next=10;break;case 7:return e.next=9,(0,f.ac)(v.vh.LIST_DATA,{type:v.kD.COMPANY});case 9:o=e.sent;case 10:console.log(null===(t=o)||void 0===t?void 0:t.data),A((null===(n=o)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.data)||[]),console.log(O),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error("Error loading company list:",e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();e()}),[$]);var N=(0,h.debounce)((function(e,t){(0,f.ac)(1===D?v.vh.GET_USERS:v.vh.GET_CATEGORIES,{search:e}).then((function(e){var n;t(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data)}))}),300);return(0,g.jsxs)("div",{className:"md:flex gap-4 w-full",children:[t&&(0,g.jsx)(c.Z,{placeholder:S,onChange:function(e){return t(e)}}),null===n||void 0===n?void 0:n.map((function(e,n){return(0,g.jsxs)(s.Fragment,{children:["select"===e.component&&(0,g.jsx)(u.Ph,{autoComplete:"off",placeholder:"Company",defaultOptions:!0,cacheOptions:!0,size:"sm",className:"mb-2",value:Z,options:O,getOptionLabel:function(e){return"".concat((null===e||void 0===e?void 0:e.name)||"")},getOptionValue:function(e){return null===e||void 0===e?void 0:e._id},onChange:function(e){b(e),C("")}}),"select"===e.component&&(0,g.jsx)(u.Ph,{autoComplete:"off",size:"sm",className:e.className,placeholder:e.placeholder,options:e.options,value:y[null===e||void 0===e?void 0:e.filterKey],onChange:function(t){C((0,o.Z)((0,o.Z)({},y),{},(0,i.Z)({},null===e||void 0===e?void 0:e.filterKey,t)))}}),"resetButton"===e.component&&(0,g.jsx)(u.zx,{size:"sm",className:e.className,onClick:function(){C(null===e||void 0===e?void 0:e.filterKey),b(null),t("")},icon:(0,g.jsx)(d.pYJ,{}),children:e.label}),"asyncSelect"===e.component&&(0,g.jsx)(u.Ph,{autoComplete:"off",placeholder:e.placeholder,defaultOptions:!0,cacheOptions:!0,size:"sm",className:e.className,value:null===y||void 0===y?void 0:y[null===e||void 0===e?void 0:e.filterKey],loadOptions:N,componentAs:m.Z,getOptionLabel:function(t){return"".concat(null===t||void 0===t?void 0:t[e.label]," ").concat(null!==e&&void 0!==e&&e.label1?null===t||void 0===t?void 0:t[e.label1]:"")},getOptionValue:function(e){return null===e||void 0===e?void 0:e.id},onChange:function(t){C((0,o.Z)((0,o.Z)({},y),{},(0,i.Z)({},null===e||void 0===e?void 0:e.filterKey,t)))}}),"datePicker"===e.component&&(0,g.jsx)(u.Mt,{inputtable:!0,clearable:!0,selected:y[null===e||void 0===e?void 0:e.filterKey],onChange:function(t){C((0,o.Z)((0,o.Z)({},y),{},(0,i.Z)({},null===e||void 0===e?void 0:e.filterKey,t)))},size:"sm",placeholder:"Patient DOB (MM/DD/YYYY)",name:"patientDob",className:e.className,placeholderText:e.placeholder,dateFormat:p.zT}),"input"===e.component&&(0,g.jsx)(u.II,{size:"sm",className:e.className,placeholder:e.placeholder,value:y[null===e||void 0===e?void 0:e.filterKey],onChange:function(t){C((0,o.Z)((0,o.Z)({},y),{},(0,i.Z)({},null===e||void 0===e?void 0:e.filterKey,t.target.value)))}})]},n)}))]})};t.Z=function(e){var t=e.buttonMenu,n=e.FilterMenu,i=e.setSearch,o=e.buttonClick,a=e.setFilterValue,r=e.filterValue,l=e.asyncApiType,s=e.searchPlaceholder,u=e.setFilterCompanyId,c=e.filterCompanyId;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"md:flex items-center justify-end",children:(0,g.jsx)(C,{buttonMenu:t,buttonClick:o})}),(0,g.jsx)("div",{className:"items-center lg:flex",children:(0,g.jsx)(y,{searchPlaceholder:s,setSearch:i,FilterMenu:n,setFilterValue:a,filterValue:r,asyncApiType:l,setFilterCompanyId:u,filterCompanyId:c})})]})}},10515:function(e,t,n){"use strict";n(72791);var i=n(16146),o=n(58617),a=n(48573),r=n.n(a),l=n(80184);t.Z=function(e){var t=e.onChange,n=e.placeholder,a=r()((function(e){null===t||void 0===t||t(e)}),500);return(0,l.jsx)(i.II,{className:"max-w-md md:w-96 mb-4",size:"sm",placeholder:n?"".concat(n):"Filter by NAL, LCode, Referring Physician",prefix:(0,l.jsx)(o.O6C,{className:"text-lg"}),onChange:function(e){a(e.target.value)}})}},9494:function(e,t,n){"use strict";n.d(t,{EY:function(){return u},Fv:function(){return s},ac:function(){return l}});var i=n(74165),o=n(15861),a=n(91181),r=n(14712);function l(e,t){return r.Z.get(e,{params:t}).then((function(e){return null===e||void 0===e?void 0:e.data}))}function s(e,t){return r.Z.post(e,t).then((function(e){return null===e||void 0===e?void 0:e.data}))}function u(e){return c.apply(this,arguments)}function c(){return(c=(0,o.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.Z.fetchData({url:"/search/query",method:"post",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},86311:function(e,t,n){"use strict";n.r(t);var i=n(29439),o=n(40018),a=n(72791),r=n(16146),l=n(23532),s=n(11087),u=n(57689),c=n(97892),d=n.n(c),f=n(9494),v=n(11723),h=n(58617),m=n(52452),p=n(25764),x=n(78820),g=n(93156),C=n(52639),y=n(31673),D=n(47511),S=n(83027),b=n.n(S),Z=n(12712),$=n.n(Z),j=n(80184),T=[{label:"Edit",key:C.A6.EDIT,show:function(){return(0,D.ZP)(D.Fm.SUBUSERS,D.qz.WRITE)}},{label:(0,j.jsx)(x.YK6,{style:{fontSize:"1.2rem"}}),key:C.A6.DELETE,toolTip:"Delete",show:function(){return(0,D.ZP)(D.Fm.SUBUSERS,D.qz.DELETE)}}],O={header:C.BI.HEADER,des:C.BI.DELETE,buttonLabel:"Delete"},A=(0,D.ZP)(D.Fm.SUBUSERS,D.qz.WRITE)?[{label:"Add Sub Admin",key:C.A6.ADD,icon:(0,j.jsx)(h.HQD,{})}]:[],N=[],E=function(e){var t,n,i=e.row,o=(0,l.Z)().textTheme;return(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)(r.qE,{size:28,shape:"circle",children:null===i||void 0===i||null===(t=i.name)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.toUpperCase()}),(0,j.jsx)(s.rU,{className:"hover:".concat(o," ml-2 rtl:mr-2 font-semibold"),children:(null===i||void 0===i?void 0:i.name)||"-"})]})};t.default=function(){var e=(0,a.useState)(!0),t=(0,i.Z)(e,2),n=t[0],l=t[1],s=(0,a.useState)([]),c=(0,i.Z)(s,2),h=c[0],x=c[1],S=(0,a.useState)(!1),Z=(0,i.Z)(S,2),I=Z[0],k=Z[1],z=(0,a.useState)(""),w=(0,i.Z)(z,2),M=w[0],F=w[1],L=(0,a.useState)(1),U=(0,i.Z)(L,2),Y=U[0],H=U[1],P=(0,a.useState)(0),_=(0,i.Z)(P,2),R=_[0],B=_[1],K=(0,a.useState)(10),V=(0,i.Z)(K,2),q=V[0],W=V[1],G=(0,a.useState)(""),J=(0,i.Z)(G,2),Q=J[0],X=J[1],ee=(0,a.useState)(!1),te=(0,i.Z)(ee,2),ne=te[0],ie=te[1],oe=(0,a.useState)(!1),ae=(0,i.Z)(oe,2),re=ae[0],le=ae[1],se=(0,u.s0)();d().extend(b()),d().extend($()),(0,a.useEffect)((function(){(0,f.ac)(v.vh.LIST_DATA,{type:v.kD.ADMINS,limit:q,search:M,skip:q*(Y-1)}).then((function(e){var t,n;x(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data),B(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.count)})).finally((function(){return l(!1)}))}),[I,M,Y,q]);var ue=function(e,t,n){t===C.A6.EDIT&&se("/app/sub-user/edit/".concat(null===n||void 0===n?void 0:n._id)),t===C.A6.DELETE&&(X({id:null===n||void 0===n?void 0:n._id}),ie(!0))},ce=function(){X(""),ie(!1)},de=[{Header:"Name",accessor:"name",Cell:function(e){var t=e.row.original;return(0,j.jsx)(E,{row:t})}},{Header:"Email",accessor:"email"},{Header:"Is Super Admin?",accessor:"superAdmin",Cell:function(e){var t=e.row.original;return null!==t&&void 0!==t&&t.superAdmin?"True":"False"}},{Header:"Date added",accessor:"createdAt",Cell:function(e){var t=e.row.original;return(0,j.jsx)("div",{className:"flex items-center",children:d().utc(null===t||void 0===t?void 0:t.createdAt).tz("America/New_York").format(C.a1)})}},{Header:"Active",Cell:function(e){return(0,j.jsx)(y.Z,{dataObj:e,setSelectedData:X,setActiveConfirm:le,setOpenModal:ie})}},{Header:"Actions",id:"action",accessor:function(e){return e},Cell:function(e){return(0,j.jsx)(m.Z,{row:e.row.original,onActionHandle:ue,actionsMenu:T})}}],fe={header:C.BI.HEADER,des:C.BI.DELETE,warning:C.BI.WARNING,buttonLabel:"Delete"};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(g.Z,{buttonMenu:A,FilterMenu:N,setSearch:F,buttonClick:function(e,t){t===C.A6.ADD&&se("/app/sub-user/add")}}),(0,j.jsx)(o.lG,{className:"h-full",bodyClass:"h-full",children:(0,j.jsx)(o.wQ,{isCursor:!1,columns:(0,D._P)(de,D.Fm.SUBUSERS,1),data:h,loading:n,skeletonAvatarColumns:[0],skeletonAvatarProps:{width:28,height:28},pagingData:{pageIndex:Y,pageSize:q,total:R},onPaginationChange:function(e){return H(e)},onSelectChange:function(e){return W(e)}})}),(0,j.jsx)(p.Z,{isOpen:ne,onConfirmClick:function(){var e,t={type:v.kD.ADMINS,id:null===Q||void 0===Q?void 0:Q.id};re?(e=C.D5,t.status=+(null===Q||void 0===Q?void 0:Q.action)):(e=C.O7,t.status=0),(0,f.Fv)(v.vh.BLOCK_DELETE_DATA,t).then((function(t){r.Am.push((0,j.jsx)(r.P_,{type:"success",children:e})),k((function(e){return!e})),ce()}))},header:O.header,des:re?null===C.uF||void 0===C.uF?void 0:C.uF.des:fe.des,onDialogClose:ce,isWarning:!re&&fe.warning,buttonLabel:re?null===C.uF||void 0===C.uF?void 0:C.uF.buttonLabel:fe.buttonLabel})]})}},12712:function(e){e.exports=function(){"use strict";var e={year:0,month:1,day:2,hour:3,minute:4,second:5},t={};return function(n,i,o){var a,r=function(e,n,i){void 0===i&&(i={});var o=new Date(e),a=function(e,n){void 0===n&&(n={});var i=n.timeZoneName||"short",o=e+"|"+i,a=t[o];return a||(a=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:i}),t[o]=a),a}(n,i);return a.formatToParts(o)},l=function(t,n){for(var i=r(t,n),a=[],l=0;l<i.length;l+=1){var s=i[l],u=s.type,c=s.value,d=e[u];d>=0&&(a[d]=parseInt(c,10))}var f=a[3],v=24===f?0:f,h=a[0]+"-"+a[1]+"-"+a[2]+" "+v+":"+a[4]+":"+a[5]+":000",m=+t;return(o.utc(h).valueOf()-(m-=m%1e3))/6e4},s=i.prototype;s.tz=function(e,t){void 0===e&&(e=a);var n=this.utcOffset(),i=this.toDate(),r=i.toLocaleString("en-US",{timeZone:e}),l=Math.round((i-new Date(r))/1e3/60),s=o(r).$set("millisecond",this.$ms).utcOffset(15*-Math.round(i.getTimezoneOffset()/15)-l,!0);if(t){var u=s.utcOffset();s=s.add(n-u,"minute")}return s.$x.$timezone=e,s},s.offsetName=function(e){var t=this.$x.$timezone||o.tz.guess(),n=r(this.valueOf(),t,{timeZoneName:e}).find((function(e){return"timezonename"===e.type.toLowerCase()}));return n&&n.value};var u=s.startOf;s.startOf=function(e,t){if(!this.$x||!this.$x.$timezone)return u.call(this,e,t);var n=o(this.format("YYYY-MM-DD HH:mm:ss:SSS"));return u.call(n,e,t).tz(this.$x.$timezone,!0)},o.tz=function(e,t,n){var i=n&&t,r=n||t||a,s=l(+o(),r);if("string"!=typeof e)return o(e).tz(r);var u=function(e,t,n){var i=e-60*t*1e3,o=l(i,n);if(t===o)return[i,t];var a=l(i-=60*(o-t)*1e3,n);return o===a?[i,o]:[e-60*Math.min(o,a)*1e3,Math.max(o,a)]}(o.utc(e,i).valueOf(),s,r),c=u[0],d=u[1],f=o(c).utcOffset(d);return f.$x.$timezone=r,f},o.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},o.tz.setDefault=function(e){a=e}}}()},83027:function(e){e.exports=function(){"use strict";var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(i,o,a){var r=o.prototype;a.utc=function(e){return new o({date:e,utc:!0,args:arguments})},r.utc=function(t){var n=a(this.toDate(),{locale:this.$L,utc:!0});return t?n.add(this.utcOffset(),e):n},r.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var l=r.parse;r.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),l.call(this,e)};var s=r.init;r.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else s.call(this)};var u=r.utcOffset;r.utcOffset=function(i,o){var a=this.$utils().u;if(a(i))return this.$u?0:a(this.$offset)?u.call(this):this.$offset;if("string"==typeof i&&(i=function(e){void 0===e&&(e="");var i=e.match(t);if(!i)return null;var o=(""+i[0]).match(n)||["-",0,0],a=o[0],r=60*+o[1]+ +o[2];return 0===r?0:"+"===a?r:-r}(i),null===i))return this;var r=Math.abs(i)<=16?60*i:i,l=this;if(o)return l.$offset=r,l.$u=0===i,l;if(0!==i){var s=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(l=this.local().add(r+s,e)).$offset=r,l.$x.$localOffset=s}else l=this.utc();return l};var c=r.format;r.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return c.call(this,t)},r.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},r.isUTC=function(){return!!this.$u},r.toISOString=function(){return this.toDate().toISOString()},r.toString=function(){return this.toDate().toUTCString()};var d=r.toDate;r.toDate=function(e){return"s"===e&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():d.call(this)};var f=r.diff;r.diff=function(e,t,n){if(e&&this.$u===e.$u)return f.call(this,e,t,n);var i=this.local(),o=a(e).local();return f.call(i,o,t,n)}}}()}}]);
//# sourceMappingURL=6311.41632195.chunk.js.map