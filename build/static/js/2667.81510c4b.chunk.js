"use strict";(self.webpackChunknasp=self.webpackChunknasp||[]).push([[2667],{79739:function(e,n,i){i.d(n,{Y:function(){return l}});var l={VIEW_IMAGE:"/img/prescription.png",REPLY:"/img/reply.png",STATUS:"/img/status.png",EXPORT:"/img/fileExport.svg",RECEIPT:"/img/receipt.svg",DOWNLOAD_PDF:"/img/download.png"}},25764:function(e,n,i){i(72791);var l=i(73038),t=i(80184);n.Z=function(e){var n=e.header,i=e.des,o=e.onDialogClose,a=e.isWarning,s=e.onConfirmClick,r=e.isOpen,c=e.buttonLabel;return(0,t.jsx)(l.Vq,{isOpen:r,onClose:o,onRequestClose:o,contentClassName:"pb-0 px-0 mt-36 min-w-36",children:(0,t.jsxs)("div",{className:"px-5 pb-5",children:[(0,t.jsx)("h5",{className:"mb-4",children:n}),(0,t.jsx)("p",{children:i}),a&&(0,t.jsx)("p",{className:"text-red-700",children:a}),(0,t.jsxs)("div",{className:"text-right mt-6",children:[(0,t.jsx)(l.zx,{className:"ltr:mr-2 rtl:ml-2",variant:"plain",onClick:o,children:"Cancel"}),(0,t.jsx)(l.zx,{variant:"solid",onClick:s,children:c})]})]})})}},52452:function(e,n,i){var l=i(23532),t=i(73038),o=i(80184);n.Z=function(e){var n=e.row,i=e.onActionHandle,a=e.actionsMenu,s=(0,l.Z)().textTheme;return(0,o.jsx)("div",{className:"flex items-center justify-between",children:null===a||void 0===a?void 0:a.map((function(e,l){var a,r;if(null===(a=null===e||void 0===e||null===(r=e.show)||void 0===r?void 0:r.call(e))||void 0===a||a)return(0,o.jsx)(t.u,{title:null===e||void 0===e?void 0:e.toolTip,visible:!(null===e||void 0===e||!e.toolTip),children:null!==e&&void 0!==e&&e.isImage?(0,o.jsx)("img",{src:e.label,alt:"view Icon",style:{maxWidth:"20px"},className:"cursor-pointer mx-0.5",onClick:function(l){return i(l,e.key,n)}}):(0,o.jsx)("span",{className:"".concat(s," cursor-pointer select-none font-semibold ml-2 "),onClick:function(l){return i(l,e.key,n)},children:e.label})})}))})}},31673:function(e,n,i){i(72791);var l=i(52639),t=i(73038),o=i(80184);n.Z=function(e){var n,i,a=e.dataObj,s=e.setSelectedData,r=e.setActiveConfirm,c=e.setOpenModal,d=null===a||void 0===a||null===(n=a.row)||void 0===n||null===(i=n.original)||void 0===i?void 0:i._id,u=l.uN.find((function(e,n){var i,l;return e.identifier===(null===a||void 0===a||null===(i=a.row)||void 0===i||null===(l=i.original)||void 0===l?void 0:l.status)}));return(0,o.jsx)(t.XZ,{checked:null===u||void 0===u?void 0:u.value,onChange:function(e){return function(e,n,i){var l="";1===n&&(l=2),2===n&&(l=1),s({id:i,action:l}),r(!0),c(!0)}(0,null===u||void 0===u?void 0:u.identifier,d)}})}},54167:function(e,n,i){var l=i(1413),t=i(73038),o=i(54048),a=i(11723),s=(i(72791),i(9494)),r=i(80184);n.Z=function(e){var n=e.type,i=e.onDialogClose,c=e.isOpen,d=e.user,u=e.Payload;return(0,r.jsx)(t.Vq,{isOpen:c,onClose:i,onRequestClose:i,contentClassName:"pb-0 px-0 mt-36 min-w-36",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("p",{className:"text-md mb-6 font-bold ",children:"Please download the Excel file for the data."}),(0,r.jsx)("div",{className:"text-right mt-6",children:(0,r.jsx)(t.zx,{variant:"solid",type:"button",onClick:function(){var e=(0,l.Z)({type:n},u);d&&(e.userId=null===d||void 0===d?void 0:d._id),(0,s.Fv)(a.vh.EXPORT_DATA,e).then((function(e){var n;t.Am.push((0,r.jsx)(t.P_,{type:"success",children:"Exported successfully"}));var l=document.createElement("a");l.href=o.Z.imageBaseUrl+(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.fileName),l.download="file_name.xlsx",document.body.appendChild(l),l.click(),document.body.removeChild(l),i()})).catch((function(e){t.Am.push((0,r.jsxs)(t.P_,{type:"error",children:["Export failed: ",e.message]}))}))},children:"Export/Download File"})})]})})}},93156:function(e,n,i){var l=i(4942),t=i(1413),o=i(72791),a=i(73038),s=i(10515),r=i(76053),c=i(9494),d=i(11723),u=i(763),v=i(80034),m=i(52639),f=i(80184),p=function(e){var n=e.buttonMenu,i=e.buttonClick;return(0,f.jsx)("div",{className:"mb-4",children:null===n||void 0===n?void 0:n.map((function(e,n,l){return(0,f.jsx)(a.zx,{size:"sm",variant:"solid",onClick:function(n){return i(n,e.key)},style:{marginLeft:"5px"},icon:e.icon,children:e.label})}))})},h=function(e){var n=e.setSearch,i=e.FilterMenu,p=e.setFilterValue,h=e.filterValue,x=e.asyncApiType,b=e.searchPlaceholder,g=(0,u.debounce)((function(e,n){(0,c.ac)(1===x?d.vh.GET_USERS:d.vh.GET_CATEGORIES,{search:e}).then((function(e){var i;n(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.data)}))}),300);return(0,f.jsxs)("div",{className:"md:flex gap-4 w-full",children:[(0,f.jsx)(s.Z,{placeholder:b,onChange:function(e){return n(e)}}),null===i||void 0===i?void 0:i.map((function(e,i){return(0,f.jsxs)(o.Fragment,{children:["select"===e.component&&(0,f.jsx)(a.Ph,{autoComplete:"off",size:"sm",className:e.className,placeholder:e.placeholder,options:e.options,value:h[null===e||void 0===e?void 0:e.filterKey],onChange:function(n){p((0,t.Z)((0,t.Z)({},h),{},(0,l.Z)({},null===e||void 0===e?void 0:e.filterKey,n)))}}),"resetButton"===e.component&&(0,f.jsx)(a.zx,{size:"sm",className:e.className,onClick:function(){p(null===e||void 0===e?void 0:e.filterKey),n("")},icon:(0,f.jsx)(r.pYJ,{}),children:e.label}),"asyncSelect"===e.component&&(0,f.jsx)(a.Ph,{autoComplete:"off",placeholder:e.placeholder,defaultOptions:!0,cacheOptions:!0,size:"sm",className:e.className,value:null===h||void 0===h?void 0:h[null===e||void 0===e?void 0:e.filterKey],loadOptions:g,componentAs:v.Z,getOptionLabel:function(n){return"".concat(null===n||void 0===n?void 0:n[e.label]," ").concat(null!==e&&void 0!==e&&e.label1?null===n||void 0===n?void 0:n[e.label1]:"")},getOptionValue:function(e){return null===e||void 0===e?void 0:e.id},onChange:function(n){p((0,t.Z)((0,t.Z)({},h),{},(0,l.Z)({},null===e||void 0===e?void 0:e.filterKey,n)))}}),"datePicker"===e.component&&(0,f.jsx)(a.Mt,{inputtable:!0,clearable:!0,selected:h[null===e||void 0===e?void 0:e.filterKey],onChange:function(n){p((0,t.Z)((0,t.Z)({},h),{},(0,l.Z)({},null===e||void 0===e?void 0:e.filterKey,n)))},size:"sm",placeholder:"Patient DOB (MM/DD/YYYY)",name:"patientDob",className:e.className,placeholderText:e.placeholder,dateFormat:m.zT}),"input"===e.component&&(0,f.jsx)(a.II,{size:"sm",className:e.className,placeholder:e.placeholder,value:h[null===e||void 0===e?void 0:e.filterKey],onChange:function(n){p((0,t.Z)((0,t.Z)({},h),{},(0,l.Z)({},null===e||void 0===e?void 0:e.filterKey,n.target.value)))}})]},i)}))]})};n.Z=function(e){var n=e.buttonMenu,i=e.FilterMenu,l=e.setSearch,t=e.buttonClick,o=e.setFilterValue,a=e.filterValue,s=e.asyncApiType,r=e.searchPlaceholder;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"md:flex items-center justify-end",children:(0,f.jsx)(p,{buttonMenu:n,buttonClick:t})}),(0,f.jsx)("div",{className:"items-center lg:flex",children:(0,f.jsx)(h,{searchPlaceholder:r,setSearch:l,FilterMenu:i,setFilterValue:o,filterValue:a,asyncApiType:s})})]})}},10515:function(e,n,i){i(72791);var l=i(73038),t=i(58617),o=i(48573),a=i.n(o),s=i(80184);n.Z=function(e){var n=e.onChange,i=e.placeholder,o=a()((function(e){null===n||void 0===n||n(e)}),500);return(0,s.jsx)(l.II,{className:"max-w-md md:w-96 mb-4",size:"sm",placeholder:i?"".concat(i):"Filter by NAL, LCode, Referring Physician",prefix:(0,s.jsx)(t.O6C,{className:"text-lg"}),onChange:function(e){o(e.target.value)}})}},9494:function(e,n,i){i.d(n,{EY:function(){return c},Fv:function(){return r},ac:function(){return s}});var l=i(74165),t=i(15861),o=i(91181),a=i(14712);function s(e,n){return a.Z.get(e,{params:n}).then((function(e){return null===e||void 0===e?void 0:e.data}))}function r(e,n){return a.Z.post(e,n).then((function(e){return null===e||void 0===e?void 0:e.data}))}function c(e){return d.apply(this,arguments)}function d(){return(d=(0,t.Z)((0,l.Z)().mark((function e(n){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.Z.fetchData({url:"/search/query",method:"post",data:n}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},2667:function(e,n,i){i.r(n),i.d(n,{default:function(){return F}});var l=i(29439),t=i(40018),o=i(72791),a=i(97892),s=i.n(a),r=i(9494),c=i(11723),d=i(73038),u=i(52452),v=i(78820),m=i(25764),f=i(93156),p=i(58617),h=i(57689),x=i(54048),b=i(52639),g=i(79739),N=i(31673),j=i(62797),C=i(92506),E=i(80184),w=[{label:"Password",identifier:"password"},{label:"Confirm Password",identifier:"confirmPassword"}],y=j.Ry().shape({password:j.Z_().required("Please enter a password").min(8,"Password must have at least 8 characters"),confirmPassword:j.Z_().oneOf([j.iH("password"),null],"Your passwords do not match").required("Please enter confirm password")}),A={password:"",confirmPassword:""},Z=function(e){var n=e.selectedId,i=e.onDialogClose,l=e.isOpen,o=e.setRefresh;return(0,E.jsx)(d.Vq,{isOpen:l,onClose:i,onRequestClose:i,contentClassName:"pb-0 px-0 mt-36 min-w-36",children:(0,E.jsxs)("div",{className:"px-5 pb-5",children:[(0,E.jsx)("h5",{className:"mb-4",children:"Reset Password"}),(0,E.jsx)(C.J9,{initialValues:A,validationSchema:y,onSubmit:function(e){(0,r.Fv)(c.vh.USER_PASSWORD_RESET,{id:n,password:null===e||void 0===e?void 0:e.password}).then((function(e){d.Am.push((0,E.jsx)(d.P_,{type:"success",children:b.D5})),o((function(e){return!e})),i()}))},children:function(e){var n=e.touched,l=e.errors,o=e.isSubmitting;return(0,E.jsx)(C.l0,{children:(0,E.jsx)(d.Yb,{children:(0,E.jsxs)(E.Fragment,{children:[w.map((function(e,i){return(0,E.jsx)(d.xJ,{label:e.label,invalid:(null===l||void 0===l?void 0:l[e.identifier])&&(null===n||void 0===n?void 0:n[e.identifier]),errorMessage:null===l||void 0===l?void 0:l[e.identifier],children:(0,E.jsx)(C.gN,{autoComplete:"off",name:e.identifier,placeholder:e.label,component:t.WU})},"".concat(e.identifier,"-").concat(i))})),(0,E.jsxs)("div",{className:"text-right mt-6",children:[(0,E.jsx)(d.zx,{className:"ltr:mr-2 rtl:ml-2",variant:"plain",onClick:i,children:"Cancel"}),(0,E.jsx)(d.zx,{className:"ltr:mr-2 rtl:ml-2",loading:o,variant:"solid",type:"submit",children:o?"Reseting...":"Reset"})]})]})})})}})]})})},D=i(54167),T=i(76053),P=i(47511),S=[{label:"Edit",key:b.A6.EDIT,show:function(){return(0,P.ZP)(P.Fm.PATIENT,P.qz.WRITE)}},{label:(0,E.jsx)(v.YK6,{style:{fontSize:"1.1rem"}}),key:b.A6.DELETE,show:function(){return(0,P.ZP)(P.Fm.PATIENT,P.qz.DELETE)},toolTip:"Delete"},{label:g.Y.VIEW_IMAGE,key:b.A6.NAVIGATE,isImage:!0,toolTip:"View Prescriptions",show:function(){return(0,P.ZP)(P.Fm.SERVICEORDER,P.qz.READ)}}],I={header:b.BI.HEADER,des:b.BI.DELETE,warning:b.BI.WARNING,buttonLabel:"Delete"},k=[{label:"Add Patient",key:b.A6.ADD,icon:(0,E.jsx)(p.HQD,{})}],O=[{component:"select",options:b.W_,className:"mb-4 w-40",placeholder:"Status",filterKey:"status"},{component:"datePicker",placeholder:"DOB",className:"mb-4 w-64",filterKey:"dob"},{component:"input",placeholder:"Mobile Number",className:"mb-4 w-40",filterKey:"mobile"},{component:"resetButton",label:"Reset",icon:(0,E.jsx)(T.pYJ,{}),className:"mb-4",filterKey:{status:"",dob:null,search:""}}],F=function(){var e=(0,o.useState)(!0),n=(0,l.Z)(e,2),i=n[0],a=n[1],v=(0,o.useState)([]),p=(0,l.Z)(v,2),g=p[0],j=p[1],C=(0,o.useState)(""),w=(0,l.Z)(C,2),y=w[0],A=w[1],T=(0,o.useState)(!1),F=(0,l.Z)(T,2),R=F[0],M=F[1],z=(0,o.useState)(1),_=(0,l.Z)(z,2),Y=_[0],V=_[1],L=(0,o.useState)(0),q=(0,l.Z)(L,2),K=q[0],H=q[1],W=(0,o.useState)(10),B=(0,l.Z)(W,2),U=B[0],G=B[1],X=(0,o.useState)(""),J=(0,l.Z)(X,2),Q=J[0],$=J[1],ee=(0,o.useState)(!1),ne=(0,l.Z)(ee,2),ie=ne[0],le=ne[1],te=(0,o.useState)(!1),oe=(0,l.Z)(te,2),ae=oe[0],se=oe[1],re=(0,o.useState)(""),ce=(0,l.Z)(re,2),de=ce[0],ue=ce[1],ve=(0,o.useState)(!1),me=(0,l.Z)(ve,2),fe=me[0],pe=me[1],he=(0,h.s0)(),xe=(0,o.useState)({status:""}),be=(0,l.Z)(xe,2),ge=be[0],Ne=be[1],je=function(e){var n,i,l=e.row;return(0,E.jsxs)("div",{className:"flex items-center",children:[null!==(null===l||void 0===l?void 0:l.imageUrlThumbnail)&&null!==l&&void 0!==l&&l.imageUrlThumbnail?(0,E.jsx)(d.qE,{size:28,shape:"circle",className:"mr-2",src:"".concat(x.Z.imageBaseUrl).concat(null===l||void 0===l?void 0:l.imageUrlThumbnail)}):(0,E.jsx)(d.qE,{size:28,shape:"circle",className:"mr-2",children:null===l||void 0===l||null===(n=l.firstName)||void 0===n||null===(i=n[0])||void 0===i?void 0:i.toUpperCase()}),(0,E.jsx)("div",{className:"w-32",children:"".concat(null!==l&&void 0!==l&&l.firstName||null!==l&&void 0!==l&&l.lastName?"".concat(null!==l&&void 0!==l&&l.lastName?null===l||void 0===l?void 0:l.lastName:"",", ").concat(null!==l&&void 0!==l&&l.firstName?null===l||void 0===l?void 0:l.firstName:""," "):"-")})]})};(0,o.useEffect)((function(){var e;(0,r.ac)(c.vh.LIST_DATA,{type:c.kD.PATIENTS,limit:U,search:y,status:null!==ge&&void 0!==ge&&ge.status?null===ge||void 0===ge||null===(e=ge.status)||void 0===e?void 0:e.value:null,patientDob:null!==ge&&void 0!==ge&&ge.dob?s()(ge.dob).format("MM/DD/YYYY"):null,mobile:null!==ge&&void 0!==ge&&ge.mobile?ge.mobile:null,skip:U*(Y-1)}).then((function(e){var n,i;j(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data),H(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.count)})).finally((function(){return a(!1)}))}),[y,Y,U,R,ge]);var Ce=function(e,n,i){n===b.A6.DELETE&&($({id:null===i||void 0===i?void 0:i._id}),le(!0)),n===b.A6.EDIT&&he("/app/patient/edit/".concat(null===i||void 0===i?void 0:i._id)),n===b.A6.NAVIGATE&&he("/app/orderManagement/service-order/".concat(null===i||void 0===i?void 0:i._id))},Ee=function(){$(""),le(!1),se(!1),pe(!1),ue("")},we=[{Header:"Patient ID",Cell:function(e){var n=e.row.original;return null===(null===n||void 0===n?void 0:n.patientNo)?"-":null===n||void 0===n?void 0:n.patientNo}},{Header:"Patient Name",Cell:function(e){var n=e.row.original;return(0,E.jsx)(je,{row:n})}},{Header:"Mobile",Cell:function(e){var n=e.row.original;return(0,E.jsx)("div",{className:"flex items-center whitespace-nowrap",children:(0,E.jsx)("p",{children:"".concat(null===n||void 0===n?void 0:n.countryCode," ").concat((0,P.Oz)(null===n||void 0===n?void 0:n.phoneNumber))})})}},{Header:"DOB",Cell:function(e){var n=e.row.original;return(0,E.jsx)("div",{className:"flex items-center ",children:s()(null===n||void 0===n?void 0:n.dob).format("MM/DD/YYYY")})}},{Header:"NASPAC Case No.",Cell:function(e){var n=e.row.original;return(0,E.jsx)("div",{className:"flex items-center ",children:null!==n&&void 0!==n&&n.naspacNo?null===n||void 0===n?void 0:n.naspacNo:"-"})}},{Header:"Registered On",Cell:function(e){var n=e.row.original;return(0,E.jsx)("div",{className:"flex items-center ",children:s()(null===n||void 0===n?void 0:n.createdAt).format(b.a1)})}},{Header:"Active",Cell:function(e){return(0,E.jsx)(N.Z,{dataObj:e,setSelectedData:$,setActiveConfirm:se,setOpenModal:le})}},{Header:"Actions",id:"action",accessor:function(e){return e},Cell:function(e){return(0,E.jsx)(u.Z,{row:e.row.original,onActionHandle:Ce,actionsMenu:S})}}];return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(f.Z,{buttonMenu:(0,P.ZP)(P.Fm.PATIENT,P.qz.WRITE)?k:k.slice(0,k.length-1),FilterMenu:O,setSearch:A,buttonClick:function(e,n){n===b.A6.ADD&&he("/app/patient/add"),n===b.A6.EXPORT&&pe(!0)},setFilterValue:Ne,filterValue:ge,searchPlaceholder:"Search with Code, Name, Email, Mobile"}),(0,E.jsx)(t.lG,{className:"h-full",bodyClass:"h-full",children:(0,E.jsx)(t.wQ,{isCursor:!1,columns:(0,P.wX)(we,P.Fm.PATIENT),data:g,loading:i,skeletonAvatarColumns:[0],skeletonAvatarProps:{width:28,height:28},pagingData:{pageIndex:Y,pageSize:U,total:K},onPaginationChange:function(e){return V(e)},onSelectChange:function(e){return G(e)}})}),(0,E.jsx)(m.Z,{isOpen:ie,onConfirmClick:function(){var e,n={type:c.kD.PATIENTS,id:null===Q||void 0===Q?void 0:Q.id};ae?(e=b.D5,n.status=+(null===Q||void 0===Q?void 0:Q.action)):(e=b.O7,n.status=0),(0,r.Fv)(c.vh.BLOCK_DELETE_DATA,n).then((function(n){d.Am.push((0,E.jsx)(d.P_,{type:"success",children:e})),M((function(e){return!e})),Ee()}))},header:I.header,des:ae?null===b.uF||void 0===b.uF?void 0:b.uF.des:I.des,onDialogClose:Ee,isWarning:!ae&&I.warning,buttonLabel:ae?null===b.uF||void 0===b.uF?void 0:b.uF.buttonLabel:I.buttonLabel}),(0,E.jsx)(Z,{isOpen:!!de,onDialogClose:Ee,selectedId:de,setRefresh:M}),(0,E.jsx)(D.Z,{type:"3",isOpen:fe,onDialogClose:Ee})]})}}}]);
//# sourceMappingURL=2667.81510c4b.chunk.js.map