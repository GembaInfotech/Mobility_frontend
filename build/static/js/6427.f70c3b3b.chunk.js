"use strict";(self.webpackChunknasp=self.webpackChunknasp||[]).push([[6427],{25764:function(e,n,t){t(72791);var l=t(16146),o=t(80184);n.Z=function(e){var n=e.header,t=e.des,i=e.onDialogClose,a=e.isWarning,r=e.onConfirmClick,s=e.isOpen,c=e.buttonLabel;return(0,o.jsx)(l.Vq,{isOpen:s,onClose:i,onRequestClose:i,contentClassName:"pb-0 px-0 mt-36 min-w-36",children:(0,o.jsxs)("div",{className:"px-5 pb-5",children:[(0,o.jsx)("h5",{className:"mb-4",children:n}),(0,o.jsx)("p",{children:t}),a&&(0,o.jsx)("p",{className:"text-red-700",children:a}),(0,o.jsxs)("div",{className:"text-right mt-6",children:[(0,o.jsx)(l.zx,{className:"ltr:mr-2 rtl:ml-2",variant:"plain",onClick:i,children:"Cancel"}),(0,o.jsx)(l.zx,{variant:"solid",onClick:r,children:c})]})]})})}},52452:function(e,n,t){var l=t(23532),o=t(16146),i=t(80184);n.Z=function(e){var n=e.row,t=e.onActionHandle,a=e.actionsMenu,r=(0,l.Z)().textTheme;return(0,i.jsx)("div",{className:"flex items-center justify-between",children:null===a||void 0===a?void 0:a.map((function(e,l){var a,s;if(null===(a=null===e||void 0===e||null===(s=e.show)||void 0===s?void 0:s.call(e))||void 0===a||a)return(0,i.jsx)(o.u,{title:null===e||void 0===e?void 0:e.toolTip,visible:!(null===e||void 0===e||!e.toolTip),children:null!==e&&void 0!==e&&e.isImage?(0,i.jsx)("img",{src:e.label,alt:"view Icon",style:{maxWidth:"20px"},className:"cursor-pointer mx-0.5",onClick:function(l){return t(l,e.key,n)}}):(0,i.jsx)("span",{className:"".concat(r," cursor-pointer select-none font-semibold ml-2 "),onClick:function(l){return t(l,e.key,n)},children:e.label})})}))})}},31673:function(e,n,t){t(72791);var l=t(52639),o=t(16146),i=t(80184);n.Z=function(e){var n,t,a=e.dataObj,r=e.setSelectedData,s=e.setActiveConfirm,c=e.setOpenModal,u=null===a||void 0===a||null===(n=a.row)||void 0===n||null===(t=n.original)||void 0===t?void 0:t._id,d=l.uN.find((function(e,n){var t,l;return e.identifier===(null===a||void 0===a||null===(t=a.row)||void 0===t||null===(l=t.original)||void 0===l?void 0:l.status)}));return(0,i.jsx)(o.XZ,{checked:null===d||void 0===d?void 0:d.value,onChange:function(e){return function(e,n,t){var l="";1===n&&(l=2),2===n&&(l=1),r({id:t,action:l}),s(!0),c(!0)}(0,null===d||void 0===d?void 0:d.identifier,u)}})}},93156:function(e,n,t){var l=t(4942),o=t(1413),i=t(74165),a=t(15861),r=t(29439),s=t(72791),c=t(16146),u=t(10515),d=t(76053),v=t(9494),f=t(11723),m=t(763),p=t(80034),h=t(52639),x=t(60364),C=t(80184),y=function(e){var n=e.buttonMenu,t=e.buttonClick;return(0,C.jsx)("div",{className:"mb-4",children:null===n||void 0===n?void 0:n.map((function(e,n,l){return(0,C.jsx)(c.zx,{size:"sm",variant:"solid",onClick:function(n){return t(n,e.key)},style:{marginLeft:"5px"},icon:e.icon,children:e.label})}))})},b=function(e){var n=e.setSearch,t=e.FilterMenu,y=e.setFilterValue,b=e.filterValue,g=e.asyncApiType,j=e.searchPlaceholder,Z=e.setFilterCompanyId,N=e.filterCompanyId,A=(0,x.v9)((function(e){return e.auth.user})),E=(localStorage.getItem("selectedHospitalId"),(0,s.useState)([])),D=(0,r.Z)(E,2),S=D[0],k=D[1];(0,s.useEffect)((function(){var e=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var n,t,l,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null===A||void 0===A||!A.companyId){e.next=7;break}return e.next=4,(0,v.ac)(f.vh.LIST_DATA,{companyIds:JSON.stringify(A.companyId),type:f.kD.COMPANY});case 4:o=e.sent,e.next=10;break;case 7:return e.next=9,(0,v.ac)(f.vh.LIST_DATA,{type:f.kD.COMPANY});case 9:o=e.sent;case 10:console.log(null===(n=o)||void 0===n?void 0:n.data),k((null===(t=o)||void 0===t||null===(l=t.data)||void 0===l?void 0:l.data)||[]),console.log(S),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error("Error loading company list:",e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();e()}),[A]);var I=(0,m.debounce)((function(e,n){(0,v.ac)(1===g?f.vh.GET_USERS:f.vh.GET_CATEGORIES,{search:e}).then((function(e){var t;n(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data)}))}),300);return(0,C.jsxs)("div",{className:"md:flex gap-4 w-full",children:[n&&(0,C.jsx)(u.Z,{placeholder:j,onChange:function(e){return n(e)}}),null===t||void 0===t?void 0:t.map((function(e,t){return(0,C.jsxs)(s.Fragment,{children:["select"===e.component&&(0,C.jsx)(c.Ph,{autoComplete:"off",placeholder:"Company",defaultOptions:!0,cacheOptions:!0,size:"sm",className:"mb-2",value:N,options:S,getOptionLabel:function(e){return"".concat((null===e||void 0===e?void 0:e.name)||"")},getOptionValue:function(e){return null===e||void 0===e?void 0:e._id},onChange:function(e){Z(e),y("")}}),"select"===e.component&&(0,C.jsx)(c.Ph,{autoComplete:"off",size:"sm",className:e.className,placeholder:e.placeholder,options:e.options,value:b[null===e||void 0===e?void 0:e.filterKey],onChange:function(n){y((0,o.Z)((0,o.Z)({},b),{},(0,l.Z)({},null===e||void 0===e?void 0:e.filterKey,n)))}}),"resetButton"===e.component&&(0,C.jsx)(c.zx,{size:"sm",className:e.className,onClick:function(){y(null===e||void 0===e?void 0:e.filterKey),Z(null),n("")},icon:(0,C.jsx)(d.pYJ,{}),children:e.label}),"asyncSelect"===e.component&&(0,C.jsx)(c.Ph,{autoComplete:"off",placeholder:e.placeholder,defaultOptions:!0,cacheOptions:!0,size:"sm",className:e.className,value:null===b||void 0===b?void 0:b[null===e||void 0===e?void 0:e.filterKey],loadOptions:I,componentAs:p.Z,getOptionLabel:function(n){return"".concat(null===n||void 0===n?void 0:n[e.label]," ").concat(null!==e&&void 0!==e&&e.label1?null===n||void 0===n?void 0:n[e.label1]:"")},getOptionValue:function(e){return null===e||void 0===e?void 0:e.id},onChange:function(n){y((0,o.Z)((0,o.Z)({},b),{},(0,l.Z)({},null===e||void 0===e?void 0:e.filterKey,n)))}}),"datePicker"===e.component&&(0,C.jsx)(c.Mt,{inputtable:!0,clearable:!0,selected:b[null===e||void 0===e?void 0:e.filterKey],onChange:function(n){y((0,o.Z)((0,o.Z)({},b),{},(0,l.Z)({},null===e||void 0===e?void 0:e.filterKey,n)))},size:"sm",placeholder:"Patient DOB (MM/DD/YYYY)",name:"patientDob",className:e.className,placeholderText:e.placeholder,dateFormat:h.zT}),"input"===e.component&&(0,C.jsx)(c.II,{size:"sm",className:e.className,placeholder:e.placeholder,value:b[null===e||void 0===e?void 0:e.filterKey],onChange:function(n){y((0,o.Z)((0,o.Z)({},b),{},(0,l.Z)({},null===e||void 0===e?void 0:e.filterKey,n.target.value)))}})]},t)}))]})};n.Z=function(e){var n=e.buttonMenu,t=e.FilterMenu,l=e.setSearch,o=e.buttonClick,i=e.setFilterValue,a=e.filterValue,r=e.asyncApiType,s=e.searchPlaceholder,c=e.setFilterCompanyId,u=e.filterCompanyId;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:"md:flex items-center justify-end",children:(0,C.jsx)(y,{buttonMenu:n,buttonClick:o})}),(0,C.jsx)("div",{className:"items-center lg:flex",children:(0,C.jsx)(b,{searchPlaceholder:s,setSearch:l,FilterMenu:t,setFilterValue:i,filterValue:a,asyncApiType:r,setFilterCompanyId:c,filterCompanyId:u})})]})}},10515:function(e,n,t){t(72791);var l=t(16146),o=t(58617),i=t(48573),a=t.n(i),r=t(80184);n.Z=function(e){var n=e.onChange,t=e.placeholder,i=a()((function(e){null===n||void 0===n||n(e)}),500);return(0,r.jsx)(l.II,{className:"max-w-md md:w-96 mb-4",size:"sm",placeholder:t?"".concat(t):"Filter by NAL, LCode, Referring Physician",prefix:(0,r.jsx)(o.O6C,{className:"text-lg"}),onChange:function(e){i(e.target.value)}})}},9494:function(e,n,t){t.d(n,{EY:function(){return c},Fv:function(){return s},ac:function(){return r}});var l=t(74165),o=t(15861),i=t(91181),a=t(14712);function r(e,n){return a.Z.get(e,{params:n}).then((function(e){return null===e||void 0===e?void 0:e.data}))}function s(e,n){return a.Z.post(e,n).then((function(e){return null===e||void 0===e?void 0:e.data}))}function c(e){return u.apply(this,arguments)}function u(){return(u=(0,o.Z)((0,l.Z)().mark((function e(n){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.Z.fetchData({url:"/search/query",method:"post",data:n}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},26427:function(e,n,t){t.r(n);var l=t(29439),o=t(40018),i=t(72791),a=t(16146),r=t(23532),s=t(11087),c=t(57689),u=t(97892),d=t.n(u),v=t(9494),f=t(11723),m=t(58617),p=t(52452),h=t(25764),x=t(78820),C=t(93156),y=t(52639),b=t(31673),g=t(47511),j=t(80184),Z=[{label:"Edit",key:y.A6.EDIT,show:function(){return(0,g.ZP)(g.Fm.SUBUSERS,g.qz.WRITE)}},{label:(0,j.jsx)(x.YK6,{style:{fontSize:"1.2rem"}}),key:y.A6.DELETE,toolTip:"Delete",show:function(){return(0,g.ZP)(g.Fm.SUBUSERS,g.qz.DELETE)}}],N={header:y.BI.HEADER,des:y.BI.DELETE,buttonLabel:"Delete"},A=(0,g.ZP)(g.Fm.COMPANY,g.qz.WRITE)?[{label:"Add Company",key:y.A6.ADD,icon:(0,j.jsx)(m.HQD,{})}]:[],E=[],D=function(e){var n,t,l=e.row,o=(0,r.Z)().textTheme;return(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)(a.qE,{size:28,shape:"circle",children:null===l||void 0===l||null===(n=l.name)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.toUpperCase()}),(0,j.jsx)(s.rU,{className:"hover:".concat(o," ml-2 rtl:mr-2 font-semibold"),children:(null===l||void 0===l?void 0:l.name)||"-"})]})};n.default=function(){var e=(0,i.useState)(!0),n=(0,l.Z)(e,2),t=n[0],r=n[1],s=(0,i.useState)([]),u=(0,l.Z)(s,2),m=u[0],x=u[1],S=(0,i.useState)(!1),k=(0,l.Z)(S,2),I=k[0],T=k[1],w=(0,i.useState)(""),F=(0,l.Z)(w,2),O=F[0],L=F[1],M=(0,i.useState)(1),P=(0,l.Z)(M,2),z=P[0],_=P[1],R=(0,i.useState)(0),B=(0,l.Z)(R,2),H=B[0],K=B[1],Y=(0,i.useState)(10),U=(0,l.Z)(Y,2),V=U[0],q=U[1],W=(0,i.useState)(""),G=(0,l.Z)(W,2),J=G[0],Q=G[1],X=(0,i.useState)(!1),$=(0,l.Z)(X,2),ee=$[0],ne=$[1],te=(0,i.useState)(!1),le=(0,l.Z)(te,2),oe=le[0],ie=le[1],ae=(0,c.s0)();(0,i.useEffect)((function(){(0,v.ac)(f.vh.LIST_DATA,{type:f.kD.COMPANY,limit:V,search:O,skip:V*(z-1)}).then((function(e){var n,t;x(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data),K(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.count)})).finally((function(){return r(!1)}))}),[I,O,z,V]);var re=function(e,n,t){n===y.A6.EDIT&&ae("/app/company/edit/".concat(null===t||void 0===t?void 0:t._id)),n===y.A6.DELETE&&(Q({id:null===t||void 0===t?void 0:t._id}),ne(!0))},se=function(){Q(""),ne(!1)},ce=[{Header:"Name",accessor:"name",Cell:function(e){var n=e.row.original;return(0,j.jsx)(D,{row:n})}},{Header:"Company Code",accessor:"companyNo",Cell:function(e){var n=e.row.original;return(0,j.jsx)("div",{className:"flex items-center",children:null===n||void 0===n?void 0:n.companyNo})}},{Header:"Date added",accessor:"createdAt",Cell:function(e){var n=e.row.original;return(0,j.jsx)("div",{className:"flex items-center",children:d()(null===n||void 0===n?void 0:n.createdAt).format(y.a1)})}},{Header:"Active",Cell:function(e){return(0,j.jsx)(b.Z,{dataObj:e,setSelectedData:Q,setActiveConfirm:ie,setOpenModal:ne})}},{Header:"Actions",id:"action",accessor:function(e){return e},Cell:function(e){return(0,j.jsx)(p.Z,{row:e.row.original,onActionHandle:re,actionsMenu:Z})}}],ue={header:y.BI.HEADER,des:y.BI.DELETE,warning:y.BI.WARNING,buttonLabel:"Delete"};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(C.Z,{buttonMenu:A,FilterMenu:E,setSearch:L,buttonClick:function(e,n){n===y.A6.ADD&&ae("/app/company/add")}}),(0,j.jsx)(o.lG,{className:"h-full",bodyClass:"h-full",children:(0,j.jsx)(o.wQ,{isCursor:!1,columns:(0,g._P)(ce,g.Fm.SUBUSERS,1),data:m,loading:t,skeletonAvatarColumns:[0],skeletonAvatarProps:{width:28,height:28},pagingData:{pageIndex:z,pageSize:V,total:H},onPaginationChange:function(e){return _(e)},onSelectChange:function(e){return q(e)}})}),(0,j.jsx)(h.Z,{isOpen:ee,onConfirmClick:function(){var e,n={type:f.kD.ADMINS,id:null===J||void 0===J?void 0:J.id};oe?(e=y.D5,n.status=+(null===J||void 0===J?void 0:J.action)):(e=y.O7,n.status=0),(0,v.Fv)(f.vh.BLOCK_DELETE_DATA,n).then((function(n){a.Am.push((0,j.jsx)(a.P_,{type:"success",children:e})),T((function(e){return!e})),se()}))},header:N.header,des:oe?null===y.uF||void 0===y.uF?void 0:y.uF.des:ue.des,onDialogClose:se,isWarning:!oe&&ue.warning,buttonLabel:oe?null===y.uF||void 0===y.uF?void 0:y.uF.buttonLabel:ue.buttonLabel})]})}}}]);
//# sourceMappingURL=6427.f70c3b3b.chunk.js.map