"use strict";(self.webpackChunknasp=self.webpackChunknasp||[]).push([[6669],{25764:function(e,n,i){i(72791);var l=i(16146),t=i(80184);n.Z=function(e){var n=e.header,i=e.des,o=e.onDialogClose,a=e.isWarning,r=e.onConfirmClick,s=e.isOpen,d=e.buttonLabel;return(0,t.jsx)(l.Vq,{isOpen:s,onClose:o,onRequestClose:o,contentClassName:"pb-0 px-0 mt-36 min-w-36",children:(0,t.jsxs)("div",{className:"px-5 pb-5",children:[(0,t.jsx)("h5",{className:"mb-4",children:n}),(0,t.jsx)("p",{children:i}),a&&(0,t.jsx)("p",{className:"text-red-700",children:a}),(0,t.jsxs)("div",{className:"text-right mt-6",children:[(0,t.jsx)(l.zx,{className:"ltr:mr-2 rtl:ml-2",variant:"plain",onClick:o,children:"Cancel"}),(0,t.jsx)(l.zx,{variant:"solid",onClick:r,children:d})]})]})})}},52452:function(e,n,i){var l=i(23532),t=i(16146),o=i(80184);n.Z=function(e){var n=e.row,i=e.onActionHandle,a=e.actionsMenu,r=(0,l.Z)().textTheme;return(0,o.jsx)("div",{className:"flex items-center justify-between",children:null===a||void 0===a?void 0:a.map((function(e,l){var a,s;if(null===(a=null===e||void 0===e||null===(s=e.show)||void 0===s?void 0:s.call(e))||void 0===a||a)return(0,o.jsx)(t.u,{title:null===e||void 0===e?void 0:e.toolTip,visible:!(null===e||void 0===e||!e.toolTip),children:null!==e&&void 0!==e&&e.isImage?(0,o.jsx)("img",{src:e.label,alt:"view Icon",style:{maxWidth:"20px"},className:"cursor-pointer mx-0.5",onClick:function(l){return i(l,e.key,n)}}):(0,o.jsx)("span",{className:"".concat(r," cursor-pointer select-none font-semibold ml-2 "),onClick:function(l){return i(l,e.key,n)},children:e.label})})}))})}},31673:function(e,n,i){i(72791);var l=i(52639),t=i(16146),o=i(80184);n.Z=function(e){var n,i,a=e.dataObj,r=e.setSelectedData,s=e.setActiveConfirm,d=e.setOpenModal,u=null===a||void 0===a||null===(n=a.row)||void 0===n||null===(i=n.original)||void 0===i?void 0:i._id,c=l.uN.find((function(e,n){var i,l;return e.identifier===(null===a||void 0===a||null===(i=a.row)||void 0===i||null===(l=i.original)||void 0===l?void 0:l.status)}));return(0,o.jsx)(t.XZ,{checked:null===c||void 0===c?void 0:c.value,onChange:function(e){return function(e,n,i){var l="";1===n&&(l=2),2===n&&(l=1),r({id:i,action:l}),s(!0),d(!0)}(0,null===c||void 0===c?void 0:c.identifier,u)}})}},10515:function(e,n,i){i(72791);var l=i(16146),t=i(58617),o=i(48573),a=i.n(o),r=i(80184);n.Z=function(e){var n=e.onChange,i=e.placeholder,o=a()((function(e){null===n||void 0===n||n(e)}),500);return(0,r.jsx)(l.II,{className:"max-w-md md:w-96 mb-4",size:"sm",placeholder:i?"".concat(i):"Filter by NAL, LCode, Referring Physician",prefix:(0,r.jsx)(t.O6C,{className:"text-lg"}),onChange:function(e){o(e.target.value)}})}},9494:function(e,n,i){i.d(n,{EY:function(){return d},Fv:function(){return s},ac:function(){return r}});var l=i(74165),t=i(15861),o=i(91181),a=i(14712);function r(e,n){return a.Z.get(e,{params:n}).then((function(e){return null===e||void 0===e?void 0:e.data}))}function s(e,n){return a.Z.post(e,n).then((function(e){return null===e||void 0===e?void 0:e.data}))}function d(e){return u.apply(this,arguments)}function u(){return(u=(0,t.Z)((0,l.Z)().mark((function e(n){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.Z.fetchData({url:"/search/query",method:"post",data:n}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},26669:function(e,n,i){i.r(n),i.d(n,{default:function(){return R}});var l=i(29439),t=i(72791),o=i(9494),a=i(11723),r=i(40018),s=i(74165),d=i(15861),u=(i(10515),i(58617)),c=i(76053),v=i(16146),m=i(47511),f=i(60364),p=i(57689),h=i(80184),x=function(e){var n=e.setSearch,i=(e.filtervalue,e.setFilterValue),r=e.setFilterCompanyId,u=e.filterCompanyId,m=(0,p.s0)(),x=(0,f.v9)((function(e){return e.auth.user})),C=(0,t.useState)([]),b=(0,l.Z)(C,2),j=b[0],y=b[1];return(0,t.useEffect)((function(){var e=function(){var e=(0,d.Z)((0,s.Z)().mark((function e(){var n,i,l,t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null===x||void 0===x||!x.companyId){e.next=7;break}return e.next=4,(0,o.ac)(a.vh.LIST_DATA,{companyIds:JSON.stringify(x.companyId),type:a.kD.COMPANY});case 4:t=e.sent,e.next=10;break;case 7:return e.next=9,(0,o.ac)(a.vh.LIST_DATA,{type:a.kD.COMPANY});case 9:t=e.sent;case 10:console.log(null===(n=t)||void 0===n?void 0:n.data),y((null===(i=t)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.data)||[]),console.log(j),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error("Error loading company list:",e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();e()}),[x]),(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{className:"md:flex gap-4 w-full",children:[(0,h.jsx)(v.Ph,{autoComplete:"off",placeholder:"Filter by Company",defaultOptions:!0,cacheOptions:!0,size:"sm",className:"mb-4",value:u,options:j,getOptionLabel:function(e){return"".concat((null===e||void 0===e?void 0:e.name)||"")},getOptionValue:function(e){return null===e||void 0===e?void 0:e._id},onChange:function(e){r(e),i("")}}),(0,h.jsx)(v.zx,{size:"sm",onClick:function(){n(""),r(null),console.log("filterCompanyId",u),m("/app/masters/insurances")},icon:(0,h.jsx)(c.pYJ,{}),children:"Reset"})]})})},C=function(e){var n=e.setSearch,i=e.filtervalue,l=e.setFilterValue,t=e.setFilterCompanyId,o=e.filterCompanyId,a=e.addButtonClick;return(0,h.jsxs)(h.Fragment,{children:[(0,m.ZP)(m.Fm.INSURANCES,m.qz.WRITE)&&(0,h.jsx)("div",{className:"md:flex items-center justify-end",children:(0,h.jsx)(v.zx,{size:"sm",variant:"solid",onClick:a,icon:(0,h.jsx)(u.HQD,{}),children:"Add Insurance"})}),(0,h.jsx)("div",{className:"flex flex-col",children:(0,h.jsx)(x,{setSearch:n,filtervalue:i,setFilterValue:l,setFilterCompanyId:t,filterCompanyId:o})})]})},b=i(78820),j=i(25764),y=i(52639),N=i(92506),g=i(62797),I=i(75737),S=i.n(I),E=(i(70902),[{label:"Name",type:"text",name:"name",placeholder:"Enter insurance name",component:v.II,isBasic:!0},{name:"phoneNumber",countryCode:"countryCode",label:"Mobile No.",component:"phoneNumber",placeholder:"Enter mobile no."},{label:"Email",name:"email",placeholder:"Enter Email",component:v.II,isBasic:!0},{label:"Address",name:"address",placeholder:"Enter Address",component:v.II,isBasic:!0}]),A=g.Ry().shape({name:g.Z_().required("Required"),email:g.Z_().email().required("Required"),phoneNumber:g.Z_().required("Required"),address:g.Z_().required("Required")}),Z={name:"",email:"",phoneNumber:"",countryCode:"+1",address:"",companyId:""},w=function(e){var n=e.closeAddEdit,i=e.selectedRow,l=localStorage.getItem("selectedHospitalId"),t=((0,f.v9)((function(e){return e.auth.user})),(0,p.s0)());return(0,h.jsx)(r.lG,{children:(0,h.jsx)(N.J9,{initialValues:i||Z,validationSchema:A,onSubmit:function(e,n){var r,s,d=n.setSubmitting,u={};u.phoneNumber=null===e||void 0===e||null===(r=e.phoneNumber)||void 0===r?void 0:r.replace(null===e||void 0===e?void 0:e.countryCode,""),u.companyId=l,null!==e&&void 0!==e&&null!==(s=e.countryCode)&&void 0!==s&&s.includes("+")||(u.countryCode="+".concat(e.countryCode)),""===e.phoneNumber&&delete u.phoneNumber,i&&(u.id=i._id),u.name=null===e||void 0===e?void 0:e.name,u.email=null===e||void 0===e?void 0:e.email,u.address=null===e||void 0===e?void 0:e.address,(0,o.Fv)(a.vh.ADD_EDIT_INSURANCE,u).then((function(e){t(-1),v.Am.push((0,h.jsx)(v.P_,{type:"success",children:"Saved successfully"}))})).catch((function(){d(!1)})).finally((function(){d(!1)}))},enableReinitialize:!0,children:function(e){var l=e.errors,t=e.touched,o=e.values,a=e.isSubmitting,r=e.setFieldValue;return(0,h.jsxs)(N.l0,{className:"p-5",children:[(0,h.jsxs)("div",{className:"flex mb-3 justify-between w-3/4",children:[(0,h.jsx)("h3",{children:i?"Edit Insurance":"Add Insurance"}),(0,h.jsxs)("div",{className:"flex",children:[(0,h.jsx)(v.zx,{size:"sm",className:"ltr:mr-3 rtl:ml-3",onClick:n,icon:(0,h.jsx)(b.SV5,{}),type:"button",children:"Cancel"}),(0,h.jsx)(v.zx,{size:"sm",variant:"solid",loading:a,icon:(0,h.jsx)(b.JMf,{}),type:"submit",children:i?"Update":"Save"})]})]}),(0,h.jsx)("div",{children:(0,h.jsx)(v.Zb,{className:"mt-2.5 w-3/4 ",children:(0,h.jsx)(v.Yb,{className:" md:w-full lg:w-1/2",children:E.map((function(e,n){return(0,h.jsx)(v.xJ,{label:null===e||void 0===e?void 0:e.label,invalid:(null===l||void 0===l?void 0:l[e.name])&&(null===t||void 0===t?void 0:t[e.name]),errorMessage:null===l||void 0===l?void 0:l[e.name],children:null!==e&&void 0!==e&&e.isBasic?(0,h.jsx)(N.gN,{type:e.type,autoComplete:"off",onWheel:function(n){return null!==e&&void 0!==e&&e.isWheel?n.target.blur():""},value:null===o||void 0===o?void 0:o[e.name],name:e.name,placeholder:e.placeholder,component:null===e||void 0===e?void 0:e.component}):(0,h.jsx)(h.Fragment,{children:"phoneNumber"===(null===e||void 0===e?void 0:e.component)&&(0,h.jsx)(S(),{inputStyle:{width:"369px",padding:"11px 14px 11px 60px"},enableSearch:!0,country:"us",countryCodeEditable:!0,value:"".concat(null===o||void 0===o?void 0:o[e.name]),onChange:function(n,i){r(e.name,n),r(e.countryCode,null===i||void 0===i?void 0:i.dialCode)}})})},n)}))})})})]})}})})},k=i(31673),D=i(52452),F=[{label:"Edit",key:y.A6.EDIT,show:function(){return(0,m.ZP)(m.Fm.INSURANCES,m.qz.WRITE)}},{label:(0,h.jsx)(b.YK6,{style:{fontSize:"1.2rem"}}),key:y.A6.DELETE,toolTip:"Delete",show:function(){return(0,m.ZP)(m.Fm.INSURANCES,m.qz.DELETE)}}],R=function(){var e=localStorage.getItem("selectedHospitalId"),n=(0,t.useState)([]),i=(0,l.Z)(n,2),s=i[0],d=i[1],u=(0,t.useState)([]),c=(0,l.Z)(u,2),f=c[0],p=c[1],x=(0,t.useState)(!0),b=(0,l.Z)(x,2),N=b[0],g=b[1],I=(0,t.useState)(""),S=(0,l.Z)(I,2),E=S[0],A=S[1],Z=(0,t.useState)(1),R=(0,l.Z)(Z,2),T=R[0],_=R[1],z=(0,t.useState)(0),L=(0,l.Z)(z,2),O=L[0],q=L[1],H=(0,t.useState)(10),P=(0,l.Z)(H,2),B=P[0],M=P[1],U=(0,t.useState)(!1),V=(0,l.Z)(U,2),W=V[0],Y=V[1],J=(0,t.useState)(""),G=(0,l.Z)(J,2),K=G[0],Q=G[1],X=(0,t.useState)(!1),$=(0,l.Z)(X,2),ee=$[0],ne=$[1],ie=(0,t.useState)(!1),le=(0,l.Z)(ie,2),te=le[0],oe=le[1],ae=(0,t.useState)(""),re=(0,l.Z)(ae,2),se=(re[0],re[1]),de=(0,t.useState)(!1),ue=(0,l.Z)(de,2),ce=ue[0],ve=ue[1];(0,t.useEffect)((function(){var n;(0,o.ac)(a.vh.LIST_DATA,{type:a.kD.INSURANCES,limit:B,search:E,companyId:null!==(n=null===s||void 0===s?void 0:s._id)&&void 0!==n?n:e,skip:B*(T-1)}).then((function(e){var n,i;p(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data),q(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.count)})).finally((function(){return g(!1)}))}),[E,T,B,te,s]);var me=function(e,n,i){Q(i),n===y.A6.EDIT&&(i.phoneNumber=(null===i||void 0===i?void 0:i.countryCode)+(null===i||void 0===i?void 0:i.phoneNumber),Y(!0)),n===y.A6.DELETE&&ne(!0)},fe=function(){ne(!1),Q(""),ve(!1)},pe={header:y.BI.HEADER,des:y.BI.DELETE,buttonLabel:"Delete"},he=[{Header:"Company Name",Cell:function(e){var n,i=null===e||void 0===e||null===(n=e.row)||void 0===n?void 0:n.original;return(0,h.jsx)("div",{className:"flex items-center w-40",children:null===i||void 0===i?void 0:i.name})}},{Header:"Address",accessor:"address",Cell:function(e){var n,i=null===e||void 0===e||null===(n=e.row)||void 0===n?void 0:n.original;return(0,h.jsx)("div",{className:"flex items-center w-40",children:null===i||void 0===i?void 0:i.address})}},{Header:"Mobile",accessor:"mobile",Cell:function(e){var n,i=null===e||void 0===e||null===(n=e.row)||void 0===n?void 0:n.original;return(0,h.jsxs)("div",{className:"flex items-center w-40",children:[null===i||void 0===i?void 0:i.countryCode," - ",null===i||void 0===i?void 0:i.phoneNumber]})}},{Header:"Email",accessor:"email",Cell:function(e){var n,i=null===e||void 0===e||null===(n=e.row)||void 0===n?void 0:n.original;return(0,h.jsx)("div",{className:"flex items-center w-40",children:null===i||void 0===i?void 0:i.email})}},{Header:"Active",Cell:function(e){return(0,h.jsx)(k.Z,{dataObj:e,setSelectedData:se,setActiveConfirm:ve,setOpenModal:ne})}},{Header:"Actions",id:"action",accessor:function(e){return e},Cell:function(e){return(0,h.jsx)(D.Z,{row:e.row.original,onActionHandle:me,actionsMenu:F})}}];return(0,h.jsx)(h.Fragment,{children:W?(0,h.jsx)(w,{closeAddEdit:function(){Y(!1),oe(!te),Q("")},selectedRow:K}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(C,{setSearch:A,setFilterCompanyId:d,filterCompanyId:s,addButtonClick:function(){return Y(!0)}}),(0,h.jsx)(r.lG,{className:"h-full",bodyClass:"h-full",children:(0,h.jsx)(r.wQ,{columns:(0,m._P)(he,m.Fm.INSURANCES,1),data:f,loading:N,skeletonAvatarColumns:[0],skeletonAvatarProps:{width:28,height:28},pagingData:{pageIndex:T,pageSize:B,total:O},onPaginationChange:function(e){return _(e)},onSelectChange:function(e){return M(e)}})}),(0,h.jsx)(j.Z,{isOpen:ee,onConfirmClick:function(){var e;console.log("selectedRow",K);var n={type:a.kD.INSURANCES,id:null===K||void 0===K?void 0:K._id};ce?(e=y.D5,n.status=+(null===K||void 0===K?void 0:K.action)):(e=y.O7,n.status=0),(0,o.Fv)(a.vh.BLOCK_DELETE_DATA,n).then((function(n){v.Am.push((0,h.jsx)(v.P_,{type:"success",children:e})),oe((function(e){return!e})),fe()}))},header:pe.header,des:ce?null===y.uF||void 0===y.uF?void 0:y.uF.des:y.BI.DELETE,isWarning:!ce&&y.BI.WARNING,onDialogClose:fe,buttonLabel:ce?null===y.uF||void 0===y.uF?void 0:y.uF.buttonLabel:pe.buttonLabel})]})})}}}]);
//# sourceMappingURL=6669.56904d1a.chunk.js.map