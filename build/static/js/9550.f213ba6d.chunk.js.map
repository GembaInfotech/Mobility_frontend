{"version":3,"file":"static/js/9550.f213ba6d.chunk.js","mappings":"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","sources":["services/CommonService.js","views/subUsers/addEdit/accessControl/index.js","views/subUsers/addEdit/index.js"],"sourcesContent":["import ApiService from \"./ApiService\"\nimport BaseService from \"./BaseService\";\n\nexport function getApi(endpoint, params) {\n  return BaseService.get(endpoint, { params }).then((res) => res?.data);\n}\n\nexport function postApi(endpoint, payload) {\n  return BaseService.post(endpoint, payload).then((res) => res?.data);\n}\n\nexport async function apiGetNotificationCount () {\n    return ApiService.fetchData({\n        url: '/notification/count',\n        method: 'get'\n    })\n}\n\nexport async function apiGetNotificationList () {\n    return ApiService.fetchData({\n        url: '/notification/list',\n        method: 'get'\n    })\n}\n\nexport async function apiGetSearchResult (data) {\n    return ApiService.fetchData({\n        url: '/search/query',\n        method: 'post',\n        data\n    })\n}","import { Checkbox, Table } from \"components/ui\";\r\nimport TBody from \"components/ui/Table/TBody\";\r\nimport Td from \"components/ui/Table/Td\";\r\nimport Th from \"components/ui/Table/Th\";\r\nimport THead from \"components/ui/Table/THead\";\r\nimport Tr from \"components/ui/Table/Tr\";\r\nimport React from \"react\";\r\n\r\nexport const PERMISSIONS = [\r\n  {\r\n    label: \"Sub Admin\",\r\n    name: \"sub-user\",\r\n    read: true,\r\n    edit: false,\r\n    delete: false,\r\n  },\r\n  {\r\n    label: \"Patient Management\",\r\n    name: \"patient\",\r\n    read: true,\r\n    edit: false,\r\n    delete: false,\r\n  },\r\n  {\r\n    label: \"Physicians\",\r\n    name: \"physician\",\r\n    read: true,\r\n    edit: false,\r\n    delete: false,\r\n  },\r\n  {\r\n    label: \"Patient Prescriptions\",\r\n    name: \"service-order\",\r\n    read: true,\r\n    edit: false,\r\n    delete: false,\r\n  },\r\n  {\r\n    label: \"Insurance Companies\",\r\n    name: \"insurance\",\r\n    read: true,\r\n    edit: false,\r\n    delete: false,\r\n  },\r\n  {\r\n    label: \"Codes (LCode / ICD)\",\r\n    name: \"codes\",\r\n    read: true,\r\n    edit: false,\r\n    delete: false,\r\n  },\r\n  {\r\n    label: \"Types Of Devices\",\r\n    name: \"types-of-devices\",\r\n    read: true,\r\n    edit: false,\r\n    delete: false,\r\n  },\r\n  {\r\n    label: \"Locations\",\r\n    name: \"locations\",\r\n    read: true,\r\n    edit: false,\r\n    delete: false,\r\n  },\r\n];\r\n\r\nconst AccessControl = ({ touched, errors, values, setFieldValue }) => {\r\n  const selectHandler = (role, value, name) => {\r\n    const newRoles = (values?.roles || []).map((x) => {\r\n      if (x?.name === name) {\r\n        if ((role === \"edit\" || role === \"delete\") && value) {\r\n          return { ...x, [role]: value, read: true };\r\n        } else {\r\n          return { ...x, [role]: value };\r\n        }\r\n      }\r\n      return x;\r\n    });\r\n    setFieldValue(\"roles\", newRoles);\r\n  };\r\n \r\n  return (\r\n    <div>\r\n      <h4 className=\"my-4\">Access Control</h4>\r\n      <Table>\r\n        <THead>\r\n          <Tr>\r\n            <Th>Menu</Th>\r\n            <Th>Read</Th>\r\n            <Th>Add/Edit</Th>\r\n            <Th>Delete</Th>\r\n          </Tr>\r\n        </THead>\r\n        <TBody>\r\n          {PERMISSIONS?.map((permission, index) => {\r\n            const valueObj = values?.roles?.find(\r\n              (x) => x?.name === permission?.name\r\n            );\r\n            return (\r\n              <Tr key={index}>\r\n                <Td>{permission?.label} </Td>\r\n                <Td>  \r\n                  <Checkbox\r\n                    checked={valueObj?.read}\r\n                    onChange={(e) => selectHandler(\"read\", e, permission?.name)}\r\n                  />\r\n                </Td>\r\n                <Td>\r\n                  <Checkbox\r\n                    checked={valueObj?.edit}\r\n                    onChange={(e) => selectHandler(\"edit\", e, permission?.name)}\r\n                  />\r\n                </Td>\r\n                <Td>\r\n                  <Checkbox\r\n                    checked={valueObj?.delete}\r\n                    onChange={(e) =>\r\n                      selectHandler(\"delete\", e, permission?.name)\r\n                    }\r\n                  />\r\n                </Td>\r\n              </Tr>\r\n            );\r\n          })}\r\n        </TBody>\r\n      </Table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AccessControl;\r\n","import React, { useEffect, useRef, useState } from 'react';\nimport { AdaptableCard } from 'components/shared';\nimport {\n  Button,\n  Input,\n  FormItem,\n  FormContainer,\n  toast,\n  Notification,\n  Card,\n  Spinner,\n  Switcher,\n} from 'components/ui';\nimport { Formik, Form, Field } from 'formik';\nimport * as Yup from 'yup';\nimport { getApi, postApi } from 'services/CommonService';\nimport { APIS, LIST_DATA_API_TYPE } from 'constants/api.constant';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport AccessControl, { PERMISSIONS } from './accessControl';\nimport { useSelector } from 'react-redux';\nconst SignupSchema = Yup.object().shape({\n  name: Yup.string().required('Required'),\n  email: Yup.string().email().required('Required'),\n});\n\nconst initialValues = {\n  name: '',\n  email: '',\n  superAdmin : false,\n  roles: PERMISSIONS,\n};\n\nconst AddEditAdmins = () => {\n  const formRef = useRef();\n  const [loading, setLoading] = useState(false);\n  const [editData, setEditData] = useState();\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const { superAdmin } = useSelector((state) => state?.auth?.user);\n  \n  useEffect(() => {\n    if (id) {\n      getApi(APIS.LIST_DATA, {\n        type : LIST_DATA_API_TYPE.ADMINS,\n        id,\n      }).then((res) => {\n        const response = res?.data?.data;\n        response.superAdmin = response.superAdmin? true : false;\n        response.roles = response.roles? response.roles : PERMISSIONS;\n        setEditData(response);\n      });\n    }\n  }, [id]);\n  //// SUBMIT TAGS HANDLER///////\n\n  const onSubmit = ({ name, id, email, roles, superAdmin }) => {\n\n    // console.log(\"superAdmin\", superAdmin);\n    \n    setLoading(true);\n    const payload = new FormData();\n    payload.append('name', name);\n    payload.append('email', email);\n    payload.append('superAdmin', superAdmin);\n    payload.append('roles', roles?.length ? JSON.stringify(roles) : JSON.stringify(PERMISSIONS));\n    if (id) {\n      payload.append('adminId', id);\n    }\n    postApi(APIS.ADD_EDIT_ADMINS, payload)\n      .then(() => {\n        navigate(-1);\n        toast.push(<Notification type=\"success\">Sub admin saved!</Notification>);\n      })\n      .finally(() => setLoading(false));\n  };\n  return (\n    <AdaptableCard>\n      <Formik\n        innerRef={formRef}\n        initialValues={editData || initialValues}\n        validationSchema={SignupSchema}\n        onSubmit={onSubmit}\n        enableReinitialize\n      >\n        {({ errors, touched, setFieldValue, isSubmitting, values }) => (\n          <Form className=\"p-5\">\n            <div className=\"flex mb-3 justify-end w-3/4\">\n              <Button size=\"sm\" variant=\"solid\" onClick={() => navigate(-1)} type=\"button\">\n                Cancel\n              </Button>\n              <Button\n                size=\"sm\"\n                variant=\"solid\"\n                style={{ marginLeft: '5px' }}\n                loading={isSubmitting}\n                type=\"submit\"\n              >\n                {id ? 'Update' : 'Save'}\n              </Button>\n            </div>\n            {loading && (\n              <div className=\"flex justify-center\">\n                <Spinner size=\"3.25rem\" />\n              </div>\n            )}\n            {!loading && (\n              <Card className=\"mt-2.5 w-3/4 \">\n                <FormContainer>\n                  <FormItem\n                    label=\"Name\"\n                    invalid={errors?.name && touched?.name}\n                    errorMessage={errors?.name}\n                  >\n                    <Field\n                      type=\"text\"\n                      autoComplete=\"off\"\n                      name=\"name\"\n                      placeholder=\"Enter name \"\n                      component={Input}\n                    />\n                  </FormItem>\n                  <FormItem\n                    label=\"Email\"\n                    invalid={errors?.email && touched?.email}\n                    errorMessage={errors?.email}\n                  >\n                    <Field\n                      type=\"email\"\n                      autoComplete=\"off\"\n                      name=\"email\"\n                      placeholder=\"Enter Email\"\n                      component={Input}\n                    />\n                  </FormItem>\n                  {superAdmin && (\n                    <>\n                      <div className=\"flex justify-between\">\n                        <p className=\"font-semibold\">Is Super Admin?</p>\n                        <Switcher\n                          name=\"superAdmin\"\n                          checked={values?.superAdmin}\n                          onChange={(val, ) => {\n                            console.log(\"checked\", val);\n                            \n                            setFieldValue('superAdmin', !val);\n                          }}\n                        />\n                      </div>\n                      { !values?.superAdmin && <AccessControl setFieldValue={setFieldValue} values={values} />}\n                    </>\n                  )}\n                </FormContainer>\n              </Card>\n            )}\n          </Form>\n        )}\n      </Formik>\n    </AdaptableCard>\n    // </Drawer>\n  );\n};\n\nexport default AddEditAdmins;\n"],"names":["getApi","endpoint","params","BaseService","then","res","data","postApi","payload","async","apiGetSearchResult","ApiService","url","method","PERMISSIONS","label","name","read","edit","delete","touched","errors","values","setFieldValue","selectHandler","role","value","newRoles","roles","map","x","className","THead","Tr","Th","TBody","permission","index","valueObj","find","Td","checked","onChange","e","SignupSchema","Yup","shape","required","email","initialValues","superAdmin","formRef","useRef","loading","setLoading","useState","editData","setEditData","id","useParams","navigate","useNavigate","useSelector","state","auth","user","useEffect","APIS","type","LIST_DATA_API_TYPE","response","innerRef","validationSchema","onSubmit","FormData","append","length","JSON","stringify","toast","finally","enableReinitialize","isSubmitting","size","variant","onClick","style","marginLeft","invalid","errorMessage","autoComplete","placeholder","component","Input","val","console","log"],"sourceRoot":""}