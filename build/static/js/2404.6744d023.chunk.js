"use strict";(self.webpackChunknasp=self.webpackChunknasp||[]).push([[2404],{25764:function(e,n,l){l(72791);var t=l(16146),o=l(80184);n.Z=function(e){var n=e.header,l=e.des,i=e.onDialogClose,a=e.isWarning,s=e.onConfirmClick,r=e.isOpen,d=e.buttonLabel;return(0,o.jsx)(t.Vq,{isOpen:r,onClose:i,onRequestClose:i,contentClassName:"pb-0 px-0 mt-36 min-w-36",children:(0,o.jsxs)("div",{className:"px-5 pb-5",children:[(0,o.jsx)("h5",{className:"mb-4",children:n}),(0,o.jsx)("p",{children:l}),a&&(0,o.jsx)("p",{className:"text-red-700",children:a}),(0,o.jsxs)("div",{className:"text-right mt-6",children:[(0,o.jsx)(t.zx,{className:"ltr:mr-2 rtl:ml-2",variant:"plain",onClick:i,children:"Cancel"}),(0,o.jsx)(t.zx,{variant:"solid",onClick:s,children:d})]})]})})}},52452:function(e,n,l){var t=l(23532),o=l(16146),i=l(80184);n.Z=function(e){var n=e.row,l=e.onActionHandle,a=e.actionsMenu,s=(0,t.Z)().textTheme;return(0,i.jsx)("div",{className:"flex items-center justify-between",children:null===a||void 0===a?void 0:a.map((function(e,t){var a,r;if(null===(a=null===e||void 0===e||null===(r=e.show)||void 0===r?void 0:r.call(e))||void 0===a||a)return(0,i.jsx)(o.u,{title:null===e||void 0===e?void 0:e.toolTip,visible:!(null===e||void 0===e||!e.toolTip),children:null!==e&&void 0!==e&&e.isImage?(0,i.jsx)("img",{src:e.label,alt:"view Icon",style:{maxWidth:"20px"},className:"cursor-pointer mx-0.5",onClick:function(t){return l(t,e.key,n)}}):(0,i.jsx)("span",{className:"".concat(s," cursor-pointer select-none font-semibold ml-2 "),onClick:function(t){return l(t,e.key,n)},children:e.label})})}))})}},31673:function(e,n,l){l(72791);var t=l(52639),o=l(16146),i=l(80184);n.Z=function(e){var n,l,a=e.dataObj,s=e.setSelectedData,r=e.setActiveConfirm,d=e.setOpenModal,c=null===a||void 0===a||null===(n=a.row)||void 0===n||null===(l=n.original)||void 0===l?void 0:l._id,u=t.uN.find((function(e,n){var l,t;return e.identifier===(null===a||void 0===a||null===(l=a.row)||void 0===l||null===(t=l.original)||void 0===t?void 0:t.status)}));return(0,i.jsx)(o.XZ,{checked:null===u||void 0===u?void 0:u.value,onChange:function(e){return function(e,n,l){var t="";1===n&&(t=2),2===n&&(t=1),s({id:l,action:t}),r(!0),d(!0)}(0,null===u||void 0===u?void 0:u.identifier,c)}})}},53247:function(e,n,l){l(72791);var t=l(16146),o=l(80184);n.Z=function(e){var n,l=e.uploadLoading,i=e.header,a=e.des,s=e.onDialogClose,r=e.isWarning,d=e.onConfirmClick,c=e.isOpen,u=e.buttonLabel,v=e.setUploadFile,p=e.uploadFile;return(0,o.jsx)(t.Vq,{isOpen:c,onClose:s,onRequestClose:s,contentClassName:"pb-0 px-0 mt-36 min-w-36",children:(0,o.jsxs)("div",{className:"px-5 pb-5",children:[(0,o.jsx)("h5",{className:"mb-4",children:i}),(0,o.jsx)("p",{children:a}),r&&(0,o.jsx)("p",{className:"text-red-700",children:r}),(0,o.jsxs)(t.BZ,{className:"mb-4",children:[(0,o.jsx)(t.II,{value:null===p||void 0===p||null===(n=p[0])||void 0===n?void 0:n.name}),(0,o.jsx)(t.gq,{uploadLimit:1,showList:!1,accept:[".xlsx, .xls, .csv"],name:"uploadFile",onChange:function(e){v(e)}})]}),(0,o.jsxs)("div",{className:"text-right mt-6",children:[(0,o.jsx)(t.zx,{className:"ltr:mr-2 rtl:ml-2",variant:"plain",onClick:s,children:"Cancel"}),(0,o.jsx)(t.zx,{variant:"solid",onClick:d,loading:l,disabled:!p,children:u})]})]})})}},93156:function(e,n,l){var t=l(4942),o=l(1413),i=l(74165),a=l(15861),s=l(29439),r=l(72791),d=l(16146),c=l(10515),u=l(76053),v=l(9494),p=l(11723),f=l(763),m=l(80034),h=l(52639),x=l(60364),C=l(80184),y=function(e){var n=e.buttonMenu,l=e.buttonClick;return(0,C.jsx)("div",{className:"mb-4",children:null===n||void 0===n?void 0:n.map((function(e,n,t){return(0,C.jsx)(d.zx,{size:"sm",variant:"solid",onClick:function(n){return l(n,e.key)},style:{marginLeft:"5px"},icon:e.icon,children:e.label})}))})},b=function(e){var n=e.setSearch,l=e.FilterMenu,y=e.setFilterValue,b=e.filterValue,g=e.asyncApiType,j=e.searchPlaceholder,Z=e.setFilterCompanyId,D=e.filterCompanyId,S=(0,x.v9)((function(e){return e.auth.user})),I=(localStorage.getItem("selectedHospitalId"),(0,r.useState)([])),N=(0,s.Z)(I,2),E=N[0],k=N[1];(0,r.useEffect)((function(){var e=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var n,l,t,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null===S||void 0===S||!S.companyId){e.next=7;break}return e.next=4,(0,v.ac)(p.vh.LIST_DATA,{companyIds:JSON.stringify(S.companyId),type:p.kD.COMPANY});case 4:o=e.sent,e.next=10;break;case 7:return e.next=9,(0,v.ac)(p.vh.LIST_DATA,{type:p.kD.COMPANY});case 9:o=e.sent;case 10:console.log(null===(n=o)||void 0===n?void 0:n.data),k((null===(l=o)||void 0===l||null===(t=l.data)||void 0===t?void 0:t.data)||[]),console.log(E),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error("Error loading company list:",e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();e()}),[S]);var A=(0,f.debounce)((function(e,n){(0,v.ac)(1===g?p.vh.GET_USERS:p.vh.GET_CATEGORIES,{search:e}).then((function(e){var l;n(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.data)}))}),300);return(0,C.jsxs)("div",{className:"md:flex gap-4 w-full",children:[n&&(0,C.jsx)(c.Z,{placeholder:j,onChange:function(e){return n(e)}}),null===l||void 0===l?void 0:l.map((function(e,l){return(0,C.jsxs)(r.Fragment,{children:["select"===e.component&&(0,C.jsx)(d.Ph,{autoComplete:"off",placeholder:"Company",defaultOptions:!0,cacheOptions:!0,size:"sm",className:"mb-2",value:D,options:E,getOptionLabel:function(e){return"".concat((null===e||void 0===e?void 0:e.name)||"")},getOptionValue:function(e){return null===e||void 0===e?void 0:e._id},onChange:function(e){Z(e),y("")}}),"select"===e.component&&(0,C.jsx)(d.Ph,{autoComplete:"off",size:"sm",className:e.className,placeholder:e.placeholder,options:e.options,value:b[null===e||void 0===e?void 0:e.filterKey],onChange:function(n){y((0,o.Z)((0,o.Z)({},b),{},(0,t.Z)({},null===e||void 0===e?void 0:e.filterKey,n)))}}),"resetButton"===e.component&&(0,C.jsx)(d.zx,{size:"sm",className:e.className,onClick:function(){y(null===e||void 0===e?void 0:e.filterKey),Z(null),n("")},icon:(0,C.jsx)(u.pYJ,{}),children:e.label}),"asyncSelect"===e.component&&(0,C.jsx)(d.Ph,{autoComplete:"off",placeholder:e.placeholder,defaultOptions:!0,cacheOptions:!0,size:"sm",className:e.className,value:null===b||void 0===b?void 0:b[null===e||void 0===e?void 0:e.filterKey],loadOptions:A,componentAs:m.Z,getOptionLabel:function(n){return"".concat(null===n||void 0===n?void 0:n[e.label]," ").concat(null!==e&&void 0!==e&&e.label1?null===n||void 0===n?void 0:n[e.label1]:"")},getOptionValue:function(e){return null===e||void 0===e?void 0:e.id},onChange:function(n){y((0,o.Z)((0,o.Z)({},b),{},(0,t.Z)({},null===e||void 0===e?void 0:e.filterKey,n)))}}),"datePicker"===e.component&&(0,C.jsx)(d.Mt,{inputtable:!0,clearable:!0,selected:b[null===e||void 0===e?void 0:e.filterKey],onChange:function(n){y((0,o.Z)((0,o.Z)({},b),{},(0,t.Z)({},null===e||void 0===e?void 0:e.filterKey,n)))},size:"sm",placeholder:"Patient DOB (MM/DD/YYYY)",name:"patientDob",className:e.className,placeholderText:e.placeholder,dateFormat:h.zT}),"input"===e.component&&(0,C.jsx)(d.II,{size:"sm",className:e.className,placeholder:e.placeholder,value:b[null===e||void 0===e?void 0:e.filterKey],onChange:function(n){y((0,o.Z)((0,o.Z)({},b),{},(0,t.Z)({},null===e||void 0===e?void 0:e.filterKey,n.target.value)))}})]},l)}))]})};n.Z=function(e){var n=e.buttonMenu,l=e.FilterMenu,t=e.setSearch,o=e.buttonClick,i=e.setFilterValue,a=e.filterValue,s=e.asyncApiType,r=e.searchPlaceholder,d=e.setFilterCompanyId,c=e.filterCompanyId;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:"md:flex items-center justify-end",children:(0,C.jsx)(y,{buttonMenu:n,buttonClick:o})}),(0,C.jsx)("div",{className:"items-center lg:flex",children:(0,C.jsx)(b,{searchPlaceholder:r,setSearch:t,FilterMenu:l,setFilterValue:i,filterValue:a,asyncApiType:s,setFilterCompanyId:d,filterCompanyId:c})})]})}},10515:function(e,n,l){l(72791);var t=l(16146),o=l(58617),i=l(48573),a=l.n(i),s=l(80184);n.Z=function(e){var n=e.onChange,l=e.placeholder,i=a()((function(e){null===n||void 0===n||n(e)}),500);return(0,s.jsx)(t.II,{className:"max-w-md md:w-96 mb-4",size:"sm",placeholder:l?"".concat(l):"Filter by NAL, LCode, Referring Physician",prefix:(0,s.jsx)(o.O6C,{className:"text-lg"}),onChange:function(e){i(e.target.value)}})}},9494:function(e,n,l){l.d(n,{EY:function(){return d},Fv:function(){return r},ac:function(){return s}});var t=l(74165),o=l(15861),i=l(91181),a=l(14712);function s(e,n){return a.Z.get(e,{params:n}).then((function(e){return null===e||void 0===e?void 0:e.data}))}function r(e,n){return a.Z.post(e,n).then((function(e){return null===e||void 0===e?void 0:e.data}))}function d(e){return c.apply(this,arguments)}function c(){return(c=(0,o.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.Z.fetchData({url:"/search/query",method:"post",data:n}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},72404:function(e,n,l){l.r(n),l.d(n,{default:function(){return M}});var t=l(1413),o=l(29439),i=l(72791),a=l(9494),s=l(11723),r=l(40018),d=l(16146),c=l(58617),u=l(92506),v=l(62797),p=l(78820),f=l(60364),m=l(80184),h=[{label:"LCodes",value:1},{label:"ICD",value:2}],x=function(e){var n=e.editData,l=e.onCancel,t=e.onSave,o=e.isLoading;return(0,m.jsxs)("div",{className:"text-right w-full",children:[(0,m.jsx)(d.zx,{className:"mr-2",onClick:l,disabled:o,icon:(0,m.jsx)(p.SV5,{}),children:"Cancel"}),(0,m.jsx)(d.zx,{variant:"solid",type:"submit",onClick:t,disabled:o,icon:(0,m.jsx)(p.JMf,{}),children:null!==n&&void 0!==n&&n.id?"Update":"Save"})]})},C=v.Ry().shape({code:v.Z_().required("Required"),type:v.Ry().required("Required")}),y={code:"",description:"",type:"",companyId:""},b=function(e){var n=e.editData,l=e.show,t=e.onClose,c=e.refreshPage,v=localStorage.getItem("selectedHospitalId"),p=((0,f.v9)((function(e){return e.auth.user})),(0,i.useRef)()),b=(0,i.useState)(!1),g=(0,o.Z)(b,2),j=g[0],Z=g[1];return(0,m.jsx)(d.dy,{isOpen:l,onClose:t,onRequestClose:t,closable:!1,bodyClass:"p-0",title:null!==n&&void 0!==n&&n.id?"Edit Code":"Add Code",footer:(0,m.jsx)(x,{onCancel:t,onSave:function(){var e;return null===p||void 0===p||null===(e=p.current)||void 0===e?void 0:e.submitForm()},isLoading:j,editData:n}),children:(0,m.jsx)(r.lG,{children:(0,m.jsx)(u.J9,{innerRef:p,initialValues:n||y,validationSchema:C,onSubmit:function(e){var n,l=e.code,o=e.id,i=e.description,r=e.type;e.companyId;Z(!0);var u={code:l,description:i,type:null===r||void 0===r||null===(n=r.value)||void 0===n?void 0:n.toString(),modelType:s.kD.CODES,companyId:v};o&&(u.id=o),(0,a.Fv)(s.vh.ADD_EDIT_DATA,u).then((function(){t(),c(),d.Am.push((0,m.jsx)(d.P_,{type:"success",children:"Code saved!"}))})).finally((function(){return Z(!1)}))},enableReinitialize:!0,children:function(e){var n=e.errors,l=e.touched,t=e.setFieldValue,o=e.values;return(0,m.jsx)(u.l0,{className:"p-5",children:(0,m.jsxs)(d.Yb,{children:[(0,m.jsx)(d.xJ,{label:"Type",invalid:(null===n||void 0===n?void 0:n.type)&&(null===l||void 0===l?void 0:l.type),errorMessage:null===n||void 0===n?void 0:n.type,children:(0,m.jsx)(d.Ph,{autoComplete:"off",size:"sm",name:"type",className:"mb-1 w-full",placeholder:"Select Type",options:h,value:o.type,onChange:function(e){t("type",e)}})}),(0,m.jsx)(d.xJ,{label:"Code",invalid:(null===n||void 0===n?void 0:n.code)&&(null===l||void 0===l?void 0:l.code),errorMessage:null===n||void 0===n?void 0:n.code,children:(0,m.jsx)(u.gN,{type:"text",autoComplete:"off",name:"code",placeholder:"Enter Code ",component:d.II})}),(0,m.jsx)(d.xJ,{label:"Description",children:(0,m.jsx)(u.gN,{type:"text",autoComplete:"off",name:"description",placeholder:"Enter Description ",component:d.II})})]})})}})})})},g=l(52452),j=l(93156),Z=l(25764),D=l(76053),S=l(54048),I=l(52639),N=l(53247),E=l(31673),k=l(47511),A=[{label:"Edit",key:I.A6.EDIT,show:function(){return(0,k.ZP)(k.Fm.CODES,k.qz.WRITE)}},{label:(0,m.jsx)(p.YK6,{style:{fontSize:"1.2rem"}}),key:I.A6.DELETE,toolTip:"Delete",show:function(){return(0,k.ZP)(k.Fm.CODES,k.qz.DELETE)}}],T=[{label:"Add Code",key:I.A6.ADD,icon:(0,m.jsx)(c.HQD,{})}],F=[{component:"select",options:[{label:"Lcodes",value:1},{label:"icd",value:2}],className:"mb-4 w-40\t",placeholder:"Code Type",filterKey:"codeType"},{component:"resetButton",label:"Reset",icon:(0,m.jsx)(D.pYJ,{}),className:"mb-4",filterKey:{codeType:""}}],O={header:I.BI.HEADER,des:I.BI.DELETE,buttonLabel:"Delete"},w="Import",L="Choose File to upload",P="Upload",z="Uploading",M=function e(){var n=localStorage.getItem("selectedHospitalId"),l=(0,i.useState)([]),c=(0,o.Z)(l,2),u=c[0],v=c[1],p=(0,i.useState)([]),f=(0,o.Z)(p,2),h=f[0],x=f[1],C=(0,i.useState)(!1),y=(0,o.Z)(C,2),D=y[0],M=y[1],R=(0,i.useState)(1),_=(0,o.Z)(R,2),V=_[0],q=_[1],K=(0,i.useState)(0),H=(0,o.Z)(K,2),Y=H[0],B=H[1],U=(0,i.useState)(10),J=(0,o.Z)(U,2),W=J[0],G=J[1],Q=(0,i.useState)(""),X=(0,o.Z)(Q,2),$=X[0],ee=X[1],ne=(0,i.useState)(!1),le=(0,o.Z)(ne,2),te=le[0],oe=le[1],ie=(0,i.useState)(!1),ae=(0,o.Z)(ie,2),se=ae[0],re=ae[1],de=(0,i.useState)(""),ce=(0,o.Z)(de,2),ue=ce[0],ve=ce[1],pe=(0,i.useState)(!1),fe=(0,o.Z)(pe,2),me=fe[0],he=fe[1],xe=(0,i.useState)(!1),Ce=(0,o.Z)(xe,2),ye=Ce[0],be=Ce[1],ge=(0,i.useState)(),je=(0,o.Z)(ge,2),Ze=je[0],De=je[1],Se=(0,i.useState)(""),Ie=(0,o.Z)(Se,2),Ne=Ie[0],Ee=Ie[1],ke=(0,i.useState)({codeType:""}),Ae=(0,o.Z)(ke,2),Te=Ae[0],Fe=Ae[1],Oe=(0,i.useState)(!1),we=(0,o.Z)(Oe,2),Le=we[0],Pe=we[1],ze=(0,i.useState)(!1),Me=(0,o.Z)(ze,2),Re=Me[0],_e=Me[1];(0,i.useEffect)((function(){var l;M(!0);var o,i={type:s.kD.CODES,limit:W,companyId:null!==(l=null===u||void 0===u?void 0:u._id)&&void 0!==l?l:n,search:$,skip:W*(V-1)};""!==(null===Te||void 0===Te?void 0:Te.codeType)&&(i.codeType=null===Te||void 0===Te||null===(o=Te.codeType)||void 0===o?void 0:o.value);(0,a.ac)(s.vh.LIST_DATA,(0,t.Z)({},i)).then((function(e){var n,l,t;console.log("ressss",e),Ee(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.lcodeSampleFile),x([]),x(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.data),B(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.count)})).finally((function(){return M(!1)})),console.log("ressssppp",e)}),[$,V,W,se,Te,u]);var Ve=function(e,n,l){var t;n===I.A6.EDIT&&(ve({id:null===l||void 0===l?void 0:l._id,code:null===l||void 0===l?void 0:l.code,description:null===l||void 0===l?void 0:l.description,type:(t=null===l||void 0===l?void 0:l.type,1===t?{label:"Lcodes",value:1}:{label:"icd",value:2})}),oe(!0)),n===I.A6.DELETE&&(ve({id:null===l||void 0===l?void 0:l._id}),he(!0))},qe=[{Header:"Code",accessor:"code"},{Header:"Description",Cell:function(e){var n,l=null===e||void 0===e||null===(n=e.row)||void 0===n?void 0:n.original;return null!==l&&void 0!==l&&l.description?null===l||void 0===l?void 0:l.description:"-"}},{Header:"Type",accessor:"type",Cell:function(e){return 1===e.row.original.type?"Lcodes":"icd"}},{Header:"Active",Cell:function(e){return(0,m.jsx)(E.Z,{dataObj:e,setSelectedData:ve,setActiveConfirm:Pe,setOpenModal:he})}},{Header:"Actions",id:"action",accessor:function(e){return e},Cell:function(e){return(0,m.jsx)(g.Z,{row:e.row.original,onActionHandle:Ve,actionsMenu:A})}}],Ke=function(){ve(""),he(!1),Pe(!1)},He=function(){_e(!1),De("")};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(j.Z,{buttonMenu:(0,k.ZP)(k.Fm.CODES,k.qz.WRITE)?T:T.slice(0,T.length-1),FilterMenu:F,setFilterCompanyId:v,filterCompanyId:u,setSearch:ee,buttonClick:function(e,n){if(n===I.A6.ADD&&oe(!0),n===I.A6.IMPORT&&_e(!0),n===I.A6.DOWNLOAD){var l="".concat(null===S.Z||void 0===S.Z?void 0:S.Z.imageBaseUrl).concat(Ne),t=document.createElement("a");t.href=l,t.download="example-file.txt",t.click(),window.URL.revokeObjectURL(l)}},setFilterValue:Fe,filterValue:Te}),(0,m.jsx)(r.lG,{className:"h-full",bodyClass:"h-full",children:(0,m.jsx)(r.wQ,{columns:(0,k._P)(qe,k.Fm.CODES,1),isCursor:!1,data:h,loading:D,skeletonAvatarColumns:[0],skeletonAvatarProps:{width:28,height:28},pagingData:{pageIndex:V,pageSize:W,total:Y},onPaginationChange:function(e){return q(e)},onSelectChange:function(e){return G(e)}})}),(0,m.jsx)(b,{show:te,onClose:function(){ve(""),oe(!1)},refreshPage:function(){return re((function(e){return!e}))},editData:ue}),(0,m.jsx)(Z.Z,{isOpen:me,onConfirmClick:function(){var e,n={type:s.kD.CODES,id:null===ue||void 0===ue?void 0:ue.id};Le?(e=I.D5,n.status=+(null===ue||void 0===ue?void 0:ue.action)):(e=I.O7,n.status=0),(0,a.Fv)(s.vh.BLOCK_DELETE_DATA,n).then((function(n){d.Am.push((0,m.jsx)(d.P_,{type:"success",children:e})),re((function(e){return!e})),Ke()}))},header:O.header,des:Le?null===I.uF||void 0===I.uF?void 0:I.uF.des:I.BI.DELETE,onDialogClose:Ke,isWarning:!Le&&I.BI.WARNING,buttonLabel:Le?null===I.uF||void 0===I.uF?void 0:I.uF.buttonLabel:O.buttonLabel}),(0,m.jsx)(N.Z,{uploadLoading:ye,setUploadFile:De,isOpen:Re,header:w,des:L,onDialogClose:He,onConfirmClick:function(){be(!0);for(var e=new FormData,n=0;n<(null===Ze||void 0===Ze?void 0:Ze.length);n++)e.append("file",Ze[n]);(0,a.Fv)(s.vh.IMPORT_CODE,e).then((function(e){re((function(e){return!e})),be(!1),d.Am.push((0,m.jsx)(d.P_,{type:"success",children:I.pX})),He()}))},buttonLabel:ye?z:P,uploadFile:Ze})]})}}}]);
//# sourceMappingURL=2404.6744d023.chunk.js.map