"use strict";(self.webpackChunknasp=self.webpackChunknasp||[]).push([[9096],{9494:(e,n,l)=>{l.d(n,{EY:()=>t,Fv:()=>d,ac:()=>a});var i=l(91181),o=l(14712);function a(e,n){return o.Z.get(e,{params:n}).then((e=>null===e||void 0===e?void 0:e.data))}function d(e,n){return o.Z.post(e,n).then((e=>null===e||void 0===e?void 0:e.data))}async function t(e){return i.Z.fetchData({url:"/search/query",method:"post",data:e})}},5880:(e,n,l)=>{l.r(n),l.d(n,{default:()=>A});var i=l(72791),o=l(73038),a=l(92506),d=l(83776),t=l(80034),r=l(58617),u=l(78820),s=l(75737),c=l.n(s),v=(l(70902),l(11799)),p=l.n(v),m=(l(81778),l(80184));const y={deviceType:"",icdCode:"",lCode:"",quantity:"",segment:1},h=e=>{var n,l,s;let{field:v,setFieldValue:h,values:I,errors:x,touched:f,onChange:b}=e;const N=(0,i.useRef)(y);return(0,m.jsxs)(m.Fragment,{children:["datepicker"===v.component&&(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(o.Mt,{inputtable:!0,name:v.name,defaultValue:new Date(null===I||void 0===I?void 0:I[v.name])||"",value:null!==I&&void 0!==I&&I[v.name]?new Date(null===I||void 0===I?void 0:I[v.name]):"",onChange:e=>h(v.name,e),style:{display:null!==v&&void 0!==v&&v.isDisable?"none":"block"},placeholder:"MM/DD/YYYY"})}),"upload"===v.component&&(0,m.jsxs)(o.BZ,{className:"mb-4",children:[(0,m.jsx)(o.II,{value:null===(n=I[v.name])||void 0===n||null===(l=n[0])||void 0===l?void 0:l.name}),(0,m.jsx)(o.gq,{className:"cursor-pointer",onChange:e=>h(v.name,e),showList:!1,uploadLimit:1})]}),"asyncSelect"===v.component&&(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(a.gN,{component:o.Ph,autoComplete:"off",isMulti:v.isMulti,placeholder:v.placeholder,defaultOptions:!0,cacheOptions:!0,loadOptions:null===v||void 0===v?void 0:v.option,componentAs:t.Z,onChange:e=>{h(v.name,e),null===b||void 0===b||b(v.name,e)},name:v.name,value:null===I||void 0===I?void 0:I[v.name]},v.label)}),"select"===v.component&&(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(a.gN,{component:o.Ph,autoComplete:"off",placeholder:v.placeholder,options:v.option,onChange:e=>{h(v.name,e)},name:v.name,value:null===v||void 0===v||null===(s=v.option)||void 0===s?void 0:s.find((e=>(null===e||void 0===e?void 0:e.value)===(null===I||void 0===I?void 0:I[v.name])))})}),"fieldArray"===v.component&&(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(a.F2,{name:v.name,render:e=>{var n;return N.current=e,(0,m.jsx)("div",{className:"p-4 border border-blue-900 mb-4",children:null===I||void 0===I||null===(n=I[v.name])||void 0===n?void 0:n.map(((e,n)=>{var l;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"w-full flex justify-between items-center mb-5",children:[(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsx)("div",{className:"flex",children:null===d.xG||void 0===d.xG?void 0:d.xG.map(((e,l)=>{var i,o,d,t,r,u;return(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{children:null===e||void 0===e?void 0:e.label}),(0,m.jsx)(a.gN,{isMulti:null===e||void 0===e?void 0:e.isMulti,className:"mr-3 w-40",autoComplete:"off",loadOptions:null===e||void 0===e?void 0:e.option,value:null===I||void 0===I||null===(i=I[v.name])||void 0===i||null===(o=i[n])||void 0===o?void 0:o[null===e||void 0===e?void 0:e.key],name:`${v.name}.${n}.${null===e||void 0===e?void 0:e.key}`,onChange:l=>{var i;h(`${v.name}.${n}.${null===e||void 0===e?void 0:e.key}`,"select"===(null===e||void 0===e?void 0:e.type)?l:null===l||void 0===l||null===(i=l.target)||void 0===i?void 0:i.value)},placeholder:e.placeholder,component:null===e||void 0===e?void 0:e.component,defaultOptions:!0,cacheOptions:!0},`${n}-${null===e||void 0===e?void 0:e.key}-${l}`),(0,m.jsx)("div",{className:"text-xs text-red-500\t",children:null!==x&&void 0!==x&&null!==(d=x[v.name])&&void 0!==d&&null!==(t=d[n])&&void 0!==t&&t[null===e||void 0===e?void 0:e.key]?null===x||void 0===x||null===(r=x[v.name])||void 0===r||null===(u=r[n])||void 0===u?void 0:u[null===e||void 0===e?void 0:e.key]:(0,m.jsx)("div",{className:"invisible",children:"Error"})})]},l)}))}),(0,m.jsx)("div",{children:(0,m.jsx)("p",{children:"Select Segment"})}),(0,m.jsx)("div",{className:"flex mt-3",children:d.qe.map(((e,l)=>{var i,a,d,t;return(0,m.jsx)(o.Y8,{className:"mr-4",name:`${v.name}.${n}.segment`,defaultValue:null===I||void 0===I||null===(i=I[v.name])||void 0===i||null===(a=i[n])||void 0===a?void 0:a.segment,onChange:l=>{h(`${v.name}.${n}.segment`,e.value)},checked:e.value===(null===I||void 0===I||null===(d=I[v.name])||void 0===d||null===(t=d[n])||void 0===t?void 0:t.segment),children:e.label},l)}))})]}),(0,m.jsxs)("div",{className:"flex mt-2",children:[(0,m.jsx)("div",{className:"invisible text-xs text-red-500",children:"Error"}),(0,m.jsx)(o.zx,{size:"sm",variant:"twoTone",icon:(0,m.jsx)(r.r7I,{}),type:"button",onClick:()=>N.current.push(y)}),(0,m.jsx)(o.zx,{className:"ml-3",size:"sm",variant:"twoTone",color:"red-600",icon:(0,m.jsx)(u.VPh,{}),type:"button",onClick:()=>N.current.remove(n)})]})]},n),n!==(null===I||void 0===I||null===(l=I.prescriptions)||void 0===l?void 0:l.length)-1&&(0,m.jsx)("hr",{className:"my-5"})]})}))})}})}),"PdfUpload"===(null===v||void 0===v?void 0:v.component)&&(0,m.jsx)(o.gq,{uploadLimit:1,draggable:!0,accept:".pdf,.jpeg,.jpg,.png",name:v.name,fileList:null===I||void 0===I?void 0:I[v.name],onChange:e=>{h(v.name,e[0])},children:(0,m.jsxs)("div",{className:"my-5 text-center",children:[(0,m.jsx)("div",{className:"text-6xl mb-4 flex justify-center",children:(0,m.jsx)(u.ih9,{})}),(0,m.jsxs)("p",{className:"font-semibold",children:[(0,m.jsx)("span",{className:"text-gray-800 dark:text-white",children:"Drop your doc here, or "}),(0,m.jsx)("span",{className:"text-blue-500",children:"browse"})]}),(0,m.jsx)("p",{className:"mt-1 opacity-60 dark:text-white",children:"Support: Jpeg, Png, Pdf Only"})]})}),"phoneNumber"===v.component&&(0,m.jsx)(c(),{inputStyle:{width:"369px",padding:"11px 14px 11px 60px"},enableSearch:!0,value:null===I||void 0===I?void 0:I[v.name],country:"us",countryCodeEditable:!0,onChange:(e,n)=>{h(v.name,e),h(v.countryCode,null===n||void 0===n?void 0:n.dialCode)}}),"timeInput"===v.component&&(0,m.jsx)(p(),{onChange:e=>{e._isValid&&h(v.name,e)},value:new Date(null===I||void 0===I?void 0:I[v.name]),dateFormat:!1,timeFormat:"hh:mm  A",inputProps:{placeholder:"Enter time",style:{width:"100%",borderWidth:"1px",height:"2.75rem",borderRadius:"0.375rem",padding:"0.5rem 0.75rem"}}}),"switch"===v.component&&(0,m.jsx)(o.T5,{name:v.name,checked:null===I||void 0===I?void 0:I[v.name],onChange:(e,n)=>{h(v.name,!(null!==I&&void 0!==I&&I[v.name]))}})]})};var I,x=l(57689),f=l(9494),b=l(11723),N=l(52639),g=l(81724),j=l(97892),S=l.n(j),D=l(16856);const C=g.Ry().shape({patientId:g.Ry().required("Required"),locationId:g.Ry().required("Required"),physicianId:g.Ry().required("Required"),prescriptions:g.IX(),prescriptionDocument:g.nK(),physicianNotes:g.O7(),primaryInsuranceNo:g.Z_(),primaryInsurance:g.Ry(),secondaryInsurance:g.Ry(),secondaryInsuranceNo:g.Z_(),insuranceType:g.Rx(),insuranceDocument:g.nK(),notes:g.Z_()}),T={patientId:"",locationId:"",appointmentLocationId:"",physicianId:"",renderingPhysicianId:"",nextAppointmentDate:new Date,prescriptionDocument:"",physicianNotes:!1,primaryInsurance:"",primaryInsuranceNo:"",secondaryInsurance:"",secondaryInsuranceNo:"",insuranceDocument:"",notes:"",insuranceType:null===(I=d.mf[1])||void 0===I?void 0:I.value,prescriptions:[{deviceType:"",icdCode:"",lCode:"",quantity:"",segment:1}]},A=()=>{var e;const{id:n}=(0,x.UO)(),[l,t]=(0,i.useState)({}),[r,u]=(0,i.useState)(!0),s=(0,x.s0)(),c=(0,x.TH)();if(c.state){const{patientData:e}=c.state;var v,p,y,I;if(T.patientId={label:`${null===e||void 0===e?void 0:e.firstName} ${null===e||void 0===e?void 0:e.lastName} - ${S()(null===e||void 0===e?void 0:e.dob).format(N.zT)} (${null===e||void 0===e?void 0:e.patientNo})`,value:null===e||void 0===e?void 0:e._id},null!==e&&void 0!==e&&e.primaryInsurance)T.primaryInsurance={label:null===e||void 0===e||null===(v=e.primaryInsurance)||void 0===v?void 0:v.name,value:null===e||void 0===e||null===(p=e.primaryInsurance)||void 0===p?void 0:p._id};if(null!==e&&void 0!==e&&e.primaryInsuranceNo&&(T.primaryInsuranceNo=null===e||void 0===e?void 0:e.primaryInsuranceNo),null!==e&&void 0!==e&&e.secondaryInsuranceNo&&(T.secondaryInsuranceNo=null===e||void 0===e?void 0:e.secondaryInsuranceNo),null!==e&&void 0!==e&&e.secondaryInsurance)T.secondaryInsurance={label:null===e||void 0===e||null===(y=e.secondaryInsurance)||void 0===y?void 0:y.name,value:null===e||void 0===e||null===(I=e.secondaryInsurance)||void 0===I?void 0:I._id}}(0,i.useEffect)((()=>{n?(0,f.ac)(b.vh.GET_SERVICE_ORDER,{id:n}).then((e=>{var n,l,i,o,a,d,r,u,s,c,v,p,m,y,h,I,x,f,b,g,j,D,C,T,A;const _=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data,P={..._};var w,E,k,L,R,$,O,Z,F,q,z,V;(P.patientId={label:`${null===_||void 0===_||null===(l=_.patientId)||void 0===l?void 0:l.firstName} ${null===_||void 0===_||null===(i=_.patientId)||void 0===i?void 0:i.lastName} - ${S()(null===_||void 0===_||null===(o=_.patientId)||void 0===o?void 0:o.dob).format(N.zT)} (${null===_||void 0===_||null===(a=_.patientId)||void 0===a?void 0:a.patientNo})`,value:null===_||void 0===_||null===(d=_.patientId)||void 0===d?void 0:d._id},P.physicianId={label:`${null===_||void 0===_||null===(r=_.physicianId)||void 0===r?void 0:r.name}`,value:null===_||void 0===_||null===(u=_.physicianId)||void 0===u?void 0:u._id},null!==_&&void 0!==_&&null!==(s=_.renderingPhysicianId)&&void 0!==s&&s._id&&(P.renderingPhysicianId={label:`${null===_||void 0===_||null===(c=_.renderingPhysicianId)||void 0===c?void 0:c.name}`,value:null===_||void 0===_||null===(v=_.renderingPhysicianId)||void 0===v?void 0:v._id}),null!==_&&void 0!==_&&null!==(p=_.appointmentLocationId)&&void 0!==p&&p._id&&(P.appointmentLocationId={label:`${null===_||void 0===_||null===(m=_.appointmentLocationId)||void 0===m?void 0:m.name}`,value:null===_||void 0===_||null===(y=_.appointmentLocationId)||void 0===y?void 0:y._id}),P.locationId={label:`${null===_||void 0===_||null===(h=_.locationId)||void 0===h?void 0:h.name}`,value:null===_||void 0===_||null===(I=_.locationId)||void 0===I?void 0:I._id},null!==(x=_.patientId)&&void 0!==x&&x.primaryInsurance)&&(P.primaryInsurance={label:`${null===_||void 0===_||null===(w=_.patientId)||void 0===w||null===(E=w.primaryInsurance)||void 0===E?void 0:E.name}`,value:null===_||void 0===_||null===(k=_.patientId)||void 0===k||null===(L=k.primaryInsurance)||void 0===L?void 0:L._id});(null!==(f=_.patientId)&&void 0!==f&&f.primaryInsuranceNo&&(P.primaryInsuranceNo=null===_||void 0===_||null===(b=_.patientId)||void 0===b?void 0:b.primaryInsuranceNo),null!==(g=_.patientId)&&void 0!==g&&g.secondaryInsuranceNo&&(P.secondaryInsuranceNo=null===_||void 0===_||null===(j=_.patientId)||void 0===j?void 0:j.secondaryInsuranceNo),null!==(D=_.patientId)&&void 0!==D&&D.secondaryInsurance)&&(P.secondaryInsurance={label:`${null===_||void 0===_||null===(R=_.patientId)||void 0===R||null===($=R.secondaryInsurance)||void 0===$?void 0:$.name}`,value:null===_||void 0===_||null===(O=_.patientId)||void 0===O||null===(Z=O.secondaryInsurance)||void 0===Z?void 0:Z._id});null!==_&&void 0!==_&&null!==(C=_.prescriptionDocument)&&void 0!==C&&C.original&&(P.prescriptionDocument.name=null===_||void 0===_||null===(F=_.prescriptionDocument)||void 0===F?void 0:F.original,P.prescriptionDocument.type=`application/${null===_||void 0===_||null===(q=_.prescriptionDocument)||void 0===q?void 0:q.ext}`,P.prescriptionDocument=[P.prescriptionDocument]);null!==_&&void 0!==_&&null!==(T=_.insuranceDocument)&&void 0!==T&&T.original&&(P.insuranceDocument.name=null===_||void 0===_||null===(z=_.insuranceDocument)||void 0===z?void 0:z.original,P.insuranceDocument.type=`application/${null===_||void 0===_||null===(V=_.insuranceDocument)||void 0===V?void 0:V.ext}`,P.insuranceDocument=[P.insuranceDocument]);P.prescriptions=null===_||void 0===_||null===(A=_.prescriptions)||void 0===A?void 0:A.map((e=>{var n,l,i,o,a;return{deviceType:{label:null===e||void 0===e||null===(n=e.deviceType)||void 0===n?void 0:n.name,value:null===e||void 0===e||null===(l=e.deviceType)||void 0===l?void 0:l._id},icdCode:null===e||void 0===e||null===(i=e.icdCode)||void 0===i?void 0:i.map((e=>({label:null===e||void 0===e?void 0:e.code,value:null===e||void 0===e?void 0:e._id}))),lCode:{label:null===e||void 0===e||null===(o=e.lCode)||void 0===o?void 0:o.code,value:null===e||void 0===e||null===(a=e.lCode)||void 0===a?void 0:a._id},quantity:null===e||void 0===e?void 0:e.quantity,segment:null===e||void 0===e?void 0:e.segment,prescriptionDocument:(null===e||void 0===e?void 0:e.prescriptionDocument)||{}}})),t(P)})).finally((()=>{u(!1)})):u(!1)}),[n]);const g=(e,n)=>{if("patientId"===e){var l,i,o,a,d,t,r,u,s,c,v,p,m,y;if(null!==n&&void 0!==n&&null!==(l=n.data)&&void 0!==l&&l.primaryInsurance)k("primaryInsurance",{label:null===n||void 0===n||null===(d=n.data)||void 0===d||null===(t=d.primaryInsurance)||void 0===t?void 0:t.name,value:null===n||void 0===n||null===(r=n.data)||void 0===r||null===(u=r.primaryInsurance)||void 0===u?void 0:u._id});else k("primaryInsurance",null);if(null!==n&&void 0!==n&&null!==(i=n.data)&&void 0!==i&&i.primaryInsuranceNo)k("primaryInsuranceNo",null===n||void 0===n||null===(s=n.data)||void 0===s?void 0:s.primaryInsuranceNo);else k("primaryInsuranceNo","");if(null!==n&&void 0!==n&&null!==(o=n.data)&&void 0!==o&&o.secondaryInsurance)k("secondaryInsurance",{label:null===n||void 0===n||null===(c=n.data)||void 0===c||null===(v=c.secondaryInsurance)||void 0===v?void 0:v.name,value:null===n||void 0===n||null===(p=n.data)||void 0===p||null===(m=p.secondaryInsurance)||void 0===m?void 0:m._id});else k("secondaryInsurance",null);if(null!==n&&void 0!==n&&null!==(a=n.data)&&void 0!==a&&a.secondaryInsuranceNo)k("secondaryInsuranceNo",null===n||void 0===n||null===(y=n.data)||void 0===y?void 0:y.secondaryInsuranceNo);else k("secondaryInsuranceNo","")}},j=(0,a.TA)({initialValues:n?l:T,enableReinitialize:!0,validationSchema:C,onSubmit:e=>{let l=new FormData;n&&l.append("id",n);const i=[];for(let n of e.prescriptions){var a,d,t,r;i.push({deviceType:null===n||void 0===n||null===(a=n.deviceType)||void 0===a?void 0:a.value,lCode:(null===n||void 0===n||null===(d=n.lCode)||void 0===d?void 0:d.value)||null,icdCode:null!==n&&void 0!==n&&null!==(t=n.icdCode)&&void 0!==t&&t.length?null===n||void 0===n||null===(r=n.icdCode)||void 0===r?void 0:r.map((e=>null===e||void 0===e?void 0:e.value)):[],quantity:parseInt(null===n||void 0===n?void 0:n.quantity),segment:parseInt(null===n||void 0===n?void 0:n.segment)})}var u,c,v,p,y,h,I;(l.append("prescriptions",JSON.stringify(i)),null!==e&&void 0!==e&&e.prescriptionDocument&&!Array.isArray(null===e||void 0===e?void 0:e.prescriptionDocument)&&l.append("prescriptionDocument",null===e||void 0===e?void 0:e.prescriptionDocument),e.insuranceDocument&&!Array.isArray(null===e||void 0===e?void 0:e.insuranceDocument)&&l.append("insuranceDocument",null===e||void 0===e?void 0:e.insuranceDocument),e.primaryInsurance)&&l.append("primaryInsurance",null===e||void 0===e||null===(u=e.primaryInsurance)||void 0===u?void 0:u.value);e.secondaryInsurance&&l.append("secondaryInsurance",null===e||void 0===e||null===(c=e.secondaryInsurance)||void 0===c?void 0:c.value);(null!==e&&void 0!==e&&e.primaryInsuranceNo&&l.append("primaryInsuranceNo",null===e||void 0===e?void 0:e.primaryInsuranceNo),e.secondaryInsuranceNo&&l.append("secondaryInsuranceNo",null===e||void 0===e?void 0:e.secondaryInsuranceNo),e.patientId)&&l.append("patientId",null===e||void 0===e||null===(v=e.patientId)||void 0===v?void 0:v.value);e.locationId&&l.append("locationId",null===e||void 0===e||null===(p=e.locationId)||void 0===p?void 0:p.value);e.appointmentLocationId&&l.append("appointmentLocationId",null===e||void 0===e||null===(y=e.appointmentLocationId)||void 0===y?void 0:y.value);e.physicianId&&l.append("physicianId",null===e||void 0===e||null===(h=e.physicianId)||void 0===h?void 0:h.value);e.renderingPhysicianId&&l.append("renderingPhysicianId",null===e||void 0===e||null===(I=e.renderingPhysicianId)||void 0===I?void 0:I.value);e.nextAppointmentDate&&l.append("nextAppointmentDate",null===e||void 0===e?void 0:e.nextAppointmentDate),l.append("notes",(null===e||void 0===e?void 0:e.notes)||""),l.append("insuranceType",null===e||void 0===e?void 0:e.insuranceType),"physicianNotes"in e&&l.append("physicianNotes",null===e||void 0===e?void 0:e.physicianNotes),(0,f.Fv)(b.vh.ADD_EDIT_PRESCRIPTION,l).then((e=>{var l;(o.Am.push((0,m.jsx)(o.P_,{type:"success",children:n?N.D5:N.Te})),n)||s("/app/service-order/edit/"+(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l._id))})).catch((e=>{o.Am.push((0,m.jsx)(o.P_,{type:"error",children:e}))})).finally((()=>{R(!1)}))}}),{errors:A,touched:_,values:P,handleSubmit:w,getFieldProps:E,setFieldValue:k,isSubmitting:L,setSubmitting:R}=j;return(0,m.jsx)(a.Hy,{value:j,children:(0,m.jsxs)(a.l0,{className:"p-1",onSubmit:w,autoComplete:"off",noValidate:!0,children:[(0,m.jsxs)("div",{className:"flex mb-3 justify-between w-3/4",children:[(0,m.jsx)("h3",{className:"mb-10",children:n?"Edit Prescription":"Add Prescription"}),(0,m.jsxs)("div",{className:"flex",children:[(0,m.jsxs)(o.zx,{size:"sm",variant:"solid",onClick:()=>s(-1),type:"button",className:"flex items-center",children:[(0,m.jsx)(D.dWm,{style:{fontSize:"20px"}}),"Back / Cancel"]}),(0,m.jsx)(o.zx,{size:"sm",variant:"solid",style:{marginLeft:"5px"},loading:L,type:"submit",children:n?"Update":"Save"})]})]}),(null===P||void 0===P?void 0:P.patientId)&&(0,m.jsx)("div",{children:(0,m.jsx)("h4",{children:"Patient: "+(null===P||void 0===P||null===(e=P.patientId)||void 0===e?void 0:e.label)||0})}),(0,m.jsxs)("div",{children:[r&&(0,m.jsx)("div",{className:"flex justify-center",children:(0,m.jsx)(o.$j,{size:"3.25rem"})}),!r&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(o.Zb,{className:"mt-2.5 w-3/4 ",children:[(0,m.jsx)("h5",{className:"mb-4",children:"Prescription Information"}),(0,m.jsxs)(o.Yb,{children:[(0,m.jsx)(h,{id:n,errors:A,field:{name:"prescriptions",component:"fieldArray"},setFieldValue:k,values:P}),(0,m.jsx)("div",{className:" md:w-full lg:w-1/2",children:d.AH.map(((e,l,i)=>(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(o.xJ,{label:null===e||void 0===e?void 0:e.label,className:"ml-3 ",invalid:(null===A||void 0===A?void 0:A[null===e||void 0===e?void 0:e.name])&&(null===_||void 0===_?void 0:_[null===e||void 0===e?void 0:e.name]),errorMessage:null===A||void 0===A?void 0:A[null===e||void 0===e?void 0:e.name],children:e.isBasic?(0,m.jsx)(a.gN,{textArea:!(null===e||void 0===e||!e.textArea),type:null===e||void 0===e?void 0:e.type,autoComplete:"off",name:null===e||void 0===e?void 0:e.name,placeholder:null===e||void 0===e?void 0:e.placeholder,component:null===e||void 0===e?void 0:e.component}):(0,m.jsx)(h,{id:n,errors:A,field:e,setFieldValue:k,values:P,onChange:g})},l)})))})]})]}),(0,m.jsx)(o.Zb,{className:"mt-4 w-3/4 ",children:(0,m.jsxs)(o.Yb,{className:" md:w-full lg:w-1/2",children:[(0,m.jsx)("h5",{className:"mb-4",children:"Insurance Information"}),d.mf.map(((e,n)=>(0,m.jsx)(o.Y8,{className:"mr-4 mb-4",name:"insuranceType",value:e.value,onChange:n=>k("insuranceType",e.value),checked:e.value===(null===P||void 0===P?void 0:P.insuranceType),children:e.label}))),2===(null===P||void 0===P?void 0:P.insuranceType)&&(0,m.jsx)(m.Fragment,{children:d.MS.map(((e,l,i)=>(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(o.xJ,{label:null===e||void 0===e?void 0:e.label,className:"ml-3",invalid:(null===A||void 0===A?void 0:A[null===e||void 0===e?void 0:e.name])&&(null===_||void 0===_?void 0:_[null===e||void 0===e?void 0:e.name]),errorMessage:null===A||void 0===A?void 0:A[null===e||void 0===e?void 0:e.name],children:e.isBasic?(0,m.jsx)(a.gN,{textArea:!(null===e||void 0===e||!e.textArea),type:null===e||void 0===e?void 0:e.type,autoComplete:"off",name:null===e||void 0===e?void 0:e.name,placeholder:null===e||void 0===e?void 0:e.placeholder,component:null===e||void 0===e?void 0:e.component}):(0,m.jsx)(h,{id:n,errors:A,field:e,setFieldValue:k,values:P})},l)})))})]})})]})]}),(0,m.jsxs)("div",{className:"flex mt-3 justify-between w-3/4",children:[(0,m.jsx)("h3",{}),(0,m.jsxs)("div",{className:"flex",children:[(0,m.jsxs)(o.zx,{size:"sm",variant:"solid",onClick:()=>s(-1),type:"button",className:"flex items-center",children:[(0,m.jsx)(D.dWm,{style:{fontSize:"20px"}}),"Back / Cancel"]}),(0,m.jsx)(o.zx,{size:"sm",variant:"solid",style:{marginLeft:"5px"},loading:L,type:"submit",children:n?"Update":"Save"})]})]})]})})}},83776:(e,n,l)=>{l.d(n,{AH:()=>C,Fh:()=>_,IC:()=>S,MS:()=>T,m0:()=>P,mf:()=>D,qe:()=>w,xG:()=>A});var i=l(73038),o=(l(81724),l(9494)),a=l(48573),d=l.n(a),t=l(11723),r=l(80034),u=l(52639),s=l(97892),c=l.n(s);const v=(e,n)=>{(0,o.ac)(t.vh.LIST_DATA,{type:t.kD.PHYSICIANS,search:e}).then((e=>{var l;const i=null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.data.map((e=>({label:`${null===e||void 0===e?void 0:e.name}`,value:null===e||void 0===e?void 0:e._id})));n(i)}))},p=(e,n)=>{(0,o.ac)(t.vh.LIST_DATA,{type:t.kD.LOCATIONS,search:e}).then((e=>{var l;const i=null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.data.map((e=>({label:`${null===e||void 0===e?void 0:e.name}`,value:null===e||void 0===e?void 0:e._id})));n(i)}))},m=d()(v,300),y=d()(v,300),h=d()(((e,n)=>{(0,o.ac)(t.vh.LIST_DATA,{type:t.kD.CODES,search:e,codeType:u.FF.Lcode}).then((e=>{var l;const i=null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.data.map((e=>({label:null===e||void 0===e?void 0:e.code,value:null===e||void 0===e?void 0:e._id})));n(i)}))}),300),I=d()(((e,n)=>{(0,o.ac)(t.vh.LIST_DATA,{type:t.kD.CODES,search:e,codeType:u.FF.Icd}).then((e=>{var l;const i=null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.data.map((e=>({label:null===e||void 0===e?void 0:e.code,value:null===e||void 0===e?void 0:e._id})));n(i)}))}),300),x=d()(p,300),f=d()(p,300),b=d()(((e,n)=>{(0,o.ac)(t.vh.LIST_DATA,{type:t.kD.PATIENTS,search:e}).then((e=>{var l;const i=null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.data.map((e=>({label:`${null===e||void 0===e?void 0:e.firstName} ${null===e||void 0===e?void 0:e.lastName} - ${c()(null===e||void 0===e?void 0:e.dob).format(u.zT)} (${null===e||void 0===e?void 0:e.patientNo})`,value:null===e||void 0===e?void 0:e._id,data:e})));n(i)}))}),300),N=d()(((e,n)=>{(0,o.ac)(t.vh.LIST_DATA,{type:t.kD.DEVICE_TYPES,search:e}).then((e=>{var l;const i=null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.data.map((e=>({label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e._id})));n(i)}))}),300),g=d()(((e,n)=>{(0,o.ac)(t.vh.LIST_DATA,{type:t.kD.INSURANCES,search:e}).then((e=>{var l;const i=null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.data.map((e=>({label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e._id})));n(i)}))}),300),j=d()(((e,n)=>{(0,o.ac)(t.vh.LIST_DATA,{type:t.kD.INSURANCES,search:e}).then((e=>{var l;const i=null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.data.map((e=>({label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e._id})));n(i)}))}),300),S=[{label:"Referral Sent",value:1,color:"red"},{label:"Intake Completed",value:2,color:"indigo"},{label:"Insurance Completed",value:3,color:"blue"},{label:"Order Fulfilment in Process",value:4,color:"emerald"},{label:"Order Fulfilment Completed",value:5,color:"cyan"},{label:"Delivery Ready",value:6,color:"orange"},{label:"Delivered",value:7,color:"green"},{label:"DR Sent to PPS",value:8,color:"purple"},{label:"Billed",value:9,color:"orange"},{label:"RNR",value:10,color:"orange"},{label:"Denied",value:11,color:"red"}],D=[{label:"Self Pay",value:1},{label:"Insurance",value:2}],C=[{name:"patientId",label:"Select Patient (Search with name)",component:"asyncSelect",option:b,placeholder:"Select Patient"},{name:"nextAppointmentDate",label:"Next Appointment Date",component:"datepicker"},{name:"locationId",label:"Select Prescription Location (Search with name)",component:"asyncSelect",option:x,placeholder:"Select Location"},{name:"appointmentLocationId",label:"Next Appointment Location (Search with name)",component:"asyncSelect",option:f,placeholder:"Search/Select with Name"},{name:"physicianId",label:"Referring Physician (Search with name)",component:"asyncSelect",option:m,placeholder:"Search Physician"},{name:"renderingPhysicianId",label:"Rendering Physician (Search with name)",component:"asyncSelect",option:y,placeholder:"Search/Select with Name"},{name:"prescriptionDocument",label:"Upload Prescription",component:"PdfUpload"},{name:"physicianNotes",label:"Physician Notes",type:"switch",component:"switch"}],T=[{name:"primaryInsurance",apiType:"insurance",label:"Primary Insurance",option:g,component:"asyncSelect",placeholder:"Select primary insurance"},{name:"primaryInsuranceNo",label:"Primary Insurance No.",type:"text",component:i.II,placeholder:"Enter primary insurance no.",isBasic:!0},{name:"secondaryInsurance",apiType:"insurance",label:"Secondary Insurance",option:j,component:"asyncSelect",placeholder:"Select secondary insurance"},{name:"secondaryInsuranceNo",label:"Seconday Insurance No.",type:"text",component:i.II,placeholder:"Enter secondary insurance no.",isBasic:!0},{name:"insuranceDocument",label:"Upload Insurance Verification",component:"PdfUpload"},{name:"notes",label:"Notes",type:"text",component:i.II,isBasic:!0,placeholder:"Enter notes",textArea:!0}],A=[{name:"deviceType",label:"Device Type",type:"select",key:"deviceType",option:N,placeholder:"Select",component:r.Z,isMulti:!1},{name:"lCode",label:"LCode",type:"select",key:"lCode",option:h,placeholder:"Select",component:r.Z,isMulti:!1},{name:"icdCode",label:"ICD Code",type:"select",key:"icdCode",option:I,placeholder:"Select",component:r.Z,isMulti:!0},{name:"quantity",label:"LCode Quantity",type:"number",key:"quantity",placeholder:"Enter Quantity",component:i.II}],_={DELETE:"delete",EXPORT:"export",VIEW:"view",CALENDOR:"calendor",DOWNLOAD:"download",INSURANCE:"insurance",STATUS_CHANGE:"statusChange",DELIVERY_RECEIPT:"deliveryReceipt",MEDICAL_NECESSITY:"medicalNecessity"},P={calendor:"Appointment",download:"Download Package",insurance:"Insurance",statusChange:"Update Order Status"},w=[{label:"Left",value:1},{label:"Right",value:2},{label:"Spine",value:3},{label:"Bilateral",value:4}]},80034:(e,n,l)=>{l.d(n,{Z:()=>p});var i=l(87462),o=l(72791),a=l(69880),d=l(8003),t=l(4942),r=l(1413),u=l(29439),s=l(45987),c=l(74999),v=["defaultOptions","cacheOptions","loadOptions","options","isLoading","onInputChange","filterOption"];l(54164),l(51672);const p=(0,o.forwardRef)((function(e,n){var l=function(e){var n=e.defaultOptions,l=void 0!==n&&n,i=e.cacheOptions,a=void 0!==i&&i,d=e.loadOptions;e.options;var p=e.isLoading,m=void 0!==p&&p,y=e.onInputChange,h=e.filterOption,I=void 0===h?null:h,x=(0,s.Z)(e,v),f=x.inputValue,b=(0,o.useRef)(void 0),N=(0,o.useRef)(!1),g=(0,o.useState)(Array.isArray(l)?l:void 0),j=(0,u.Z)(g,2),S=j[0],D=j[1],C=(0,o.useState)("undefined"!==typeof f?f:""),T=(0,u.Z)(C,2),A=T[0],_=T[1],P=(0,o.useState)(!0===l),w=(0,u.Z)(P,2),E=w[0],k=w[1],L=(0,o.useState)(void 0),R=(0,u.Z)(L,2),$=R[0],O=R[1],Z=(0,o.useState)([]),F=(0,u.Z)(Z,2),q=F[0],z=F[1],V=(0,o.useState)(!1),M=(0,u.Z)(V,2),U=M[0],Y=M[1],B=(0,o.useState)({}),G=(0,u.Z)(B,2),H=G[0],W=G[1],J=(0,o.useState)(void 0),K=(0,u.Z)(J,2),Q=K[0],X=K[1],ee=(0,o.useState)(void 0),ne=(0,u.Z)(ee,2),le=ne[0],ie=ne[1];a!==le&&(W({}),ie(a)),l!==Q&&(D(Array.isArray(l)?l:void 0),X(l)),(0,o.useEffect)((function(){return N.current=!0,function(){N.current=!1}}),[]);var oe=(0,o.useCallback)((function(e,n){if(!d)return n();var l=d(e,n);l&&"function"===typeof l.then&&l.then(n,(function(){return n()}))}),[d]);(0,o.useEffect)((function(){!0===l&&oe(A,(function(e){N.current&&(D(e||[]),k(!!b.current))}))}),[]);var ae=(0,o.useCallback)((function(e,n){var l=(0,c.L)(e,n,y);if(!l)return b.current=void 0,_(""),O(""),z([]),k(!1),void Y(!1);if(a&&H[l])_(l),O(l),z(H[l]),k(!1),Y(!1);else{var i=b.current={};_(l),k(!0),Y(!$),oe(l,(function(e){N&&i===b.current&&(b.current=void 0,k(!1),O(l),z(e||[]),Y(!1),W(e?(0,r.Z)((0,r.Z)({},H),{},(0,t.Z)({},l,e)):H))}))}}),[a,oe,$,H,y]),de=U?[]:A&&$?q:S||[];return(0,r.Z)((0,r.Z)({},x),{},{options:de,isLoading:E||m,onInputChange:ae,filterOption:I})}(e),p=(0,d.u)(l);return o.createElement(a.S,(0,i.Z)({ref:n},p))}))}}]);
//# sourceMappingURL=9096.6708183c.chunk.js.map