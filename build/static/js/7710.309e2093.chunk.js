"use strict";(self.webpackChunknasp=self.webpackChunknasp||[]).push([[7710],{27710:function(e,n,l){l.r(n),l.d(n,{default:function(){return _}});var o=l(1413),a=l(29439),i=l(72791),d=l(16146),t=l(92506),r=l(93433),u=l(75737),s=l.n(u),c=(l(70902),l(9494)),v=l(11723),m=l(48573),p=l.n(m),h=l(80034),g=l(40018),b=l(52639),y=[{label:"SNF_ALF",value:1},{label:"MEDICAL_CENTERS",value:2},{label:"HMO",value:3},{label:"WORKERS_COMP",value:4}],x=[{name:"firstName",label:"First Name",type:"text",component:d.II,placeholder:"Enter first name",isBasic:!0},{name:"lastName",label:"Last Name",type:"text",component:d.II,placeholder:"Enter last name",isBasic:!0},{name:"companyName",label:"Company Name",type:"text",component:d.II,placeholder:"Enter company name",isBasic:!0},{name:"phoneNumber",countryCode:"countryCode",label:"Mobile No.",component:"phoneNumber",placeholder:"Enter mobile no."},{name:"email",label:"Email",type:"text",component:d.II,placeholder:"Enter email",isBasic:!0},{name:"password",label:"Password",type:"password",component:"password",placeholder:"Enter Password",ishidden:!0},{name:"userSubType",label:"Provider Type",component:"select",option:y,placeholder:"Enter provider type"},{name:"gender",label:"Gender",type:"number",component:"radio"},{name:"dob",label:"DOB",component:"datepicker"},{name:"address",label:"Address",type:"text",component:d.II,placeholder:"Enter address",textArea:!0,isBasic:!0},{name:"state",label:"State",type:"text",component:"asyncSelect",placeholder:"Enter State"},{name:"country",label:"Country",type:"text",component:d.II,placeholder:"Enter country",isBasic:!0},{name:"city",label:"City",type:"text",component:d.II,placeholder:"Enter city",isBasic:!0},{name:"pincode",label:"Pincode",type:"text",component:d.II,placeholder:"Enter pincode",isBasic:!0},{name:"alternatePhoneNumber",countryCode:"alternateCountryCode",component:"phoneNumber",label:"Alternate Mobile No.",placeholder:"Enter alternate mobile no."}],f=l(80184),N=function(e){var n=e.id,l=e.field,o=e.setFieldValue,a=e.values,i=(e.errors,e.touched,p()((function(e,n){"state"===l.name&&(0,c.ac)(v.vh.GET_CODE,{type:4,search:e}).then((function(e){var l,o=null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.data.map((function(e){return{label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e.id}}));n(o)})),"deviceType"===l.name&&(0,c.ac)(v.vh.GET_CODE,{type:2,search:e}).then((function(e){var l,o=null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.data.map((function(e){return{label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e.id}}));n(o)}))}),300));return(0,f.jsxs)(f.Fragment,{children:["datepicker"===l.component&&(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(d.Mt,{name:l.name,inputFormat:b.zT,defaultValue:new Date(null===a||void 0===a?void 0:a[l.name]),value:new Date(null===a||void 0===a?void 0:a[l.name]),onChange:function(e){return o(l.name,e)}})}),"radio"===l.component&&(0,f.jsx)(f.Fragment,{children:b.j9.map((function(e,n){return(0,f.jsx)(d.Y8,{className:"mr-4",name:"gender",value:e.value,onChange:function(e){return o(l.name,e)},checked:e.value===(null===a||void 0===a?void 0:a[l.name]),children:e.label})}))}),"phoneNumber"===l.component&&(0,f.jsx)(s(),{inputStyle:{width:"369px",padding:"11px 14px 11px 60px"},enableSearch:!0,country:"us",countryCodeEditable:!0,value:"".concat(null===a||void 0===a?void 0:a[l.name]),onChange:function(e,n){o(l.name,e),o(l.countryCode,null===n||void 0===n?void 0:n.dialCode)}}),"upload"===l.component&&(0,f.jsxs)(d.BZ,{className:"mb-4",children:[(0,f.jsx)(d.II,{value:a[l.name]}),(0,f.jsx)(d.gq,{uploadLimit:1,showList:!1,accept:["image/jpeg","image/png"],name:l.name,onChange:function(e){for(var n=new FormData,a=0;a<(null===e||void 0===e?void 0:e.length);a++)n.append("image",e[a]);(0,c.Fv)(v.vh.UPLOAD_IMAGE,n).then((function(e){var n,a,i=[];i=null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.length?[].concat((0,r.Z)(i),(0,r.Z)(null===e||void 0===e?void 0:e.data)):[].concat((0,r.Z)(i),[null===e||void 0===e?void 0:e.data]),o(l.name,null===(a=i[0])||void 0===a?void 0:a.original)}))}})]}),"asyncSelect"===l.component&&(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(t.gN,{component:d.Ph,autoComplete:"off",placeholder:l.placeholder,defaultOptions:!0,cacheOptions:!0,loadOptions:i,componentAs:h.Z,onChange:function(e){o(l.name,e)},name:l.name,value:null===a||void 0===a?void 0:a[l.name]})}),"password"===l.component&&!n&&(0,f.jsx)(t.gN,{autoComplete:"off",name:"password",placeholder:"Password",component:g.WU}),"select"===l.component&&(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(t.gN,{component:d.Ph,autoComplete:"off",placeholder:l.placeholder,options:l.option,onChange:function(e){o(l.name,null===e||void 0===e?void 0:e.value)},name:l.name,value:y.find((function(e){return(null===e||void 0===e?void 0:e.value)===(null===a||void 0===a?void 0:a[l.name])}))})})]})},C=l(57689),j=l(62797),E=l(78820),w=l(54048),I=function(e){e.id,e.touched;var n,l,o=e.errors,a=e.values,i=e.setFieldValue;e.name;return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:"grid grid-cols-2 mb-5 gap-x-4",children:[(0,f.jsx)(d.xJ,{label:"Upload Image",invalid:null===o||void 0===o?void 0:o.image,errorMessage:null===o||void 0===o?void 0:o.image,children:(0,f.jsx)(d.gq,{uploadLimit:1,draggable:!0,name:"image",showList:!1,onChange:function(e){return function(e){for(var n=new FormData,l=0;l<(null===e||void 0===e?void 0:e.length);l++)n.append("image",e[l]);(0,c.Fv)(v.vh.UPLOAD_IMAGE,n).then((function(e){var n,l=[];l=null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.length?[].concat((0,r.Z)(l),(0,r.Z)(null===e||void 0===e?void 0:e.data)):[].concat((0,r.Z)(l),[null===e||void 0===e?void 0:e.data]),i("image",l)}))}(e)},children:(0,f.jsx)(g.A9,{className:"mx-auto",src:"/img/others/upload.png",darkModeSrc:"/img/others/upload-dark.png"})})}),(null===a||void 0===a||null===(n=a.image)||void 0===n?void 0:n.length)>0&&(0,f.jsx)("div",{className:"flex justify-center",children:(0,f.jsx)(d.Zb,{className:"mt-6 mb-5 ",style:{height:"112px"},children:(0,f.jsx)("div",{className:"flex flex-wrap",children:null===a||void 0===a||null===(l=a.image)||void 0===l?void 0:l.map((function(e,n,l){return(0,f.jsxs)("div",{className:"flex items-center justify-between  p-2 border-2 rounded-xl  ",children:[(0,f.jsx)("div",{className:"flex items-center ",children:(0,f.jsx)("img",{className:"w-14 h-12 rounded-xl mr-2",alt:null!==e&&void 0!==e&&e.imageUrlOriginal?null===e||void 0===e?void 0:e.imageUrlOriginal:null===e||void 0===e?void 0:e.original,src:"".concat(w.Z.apiBaseUrl,"bucket/").concat(null!==e&&void 0!==e&&e.imageUrlOriginal?null===e||void 0===e?void 0:e.imageUrlOriginal:null===e||void 0===e?void 0:e.original)})}),(0,f.jsx)(E.oHP,{className:"text-sm cursor-pointer",onClick:function(){return n=e,void(0,c.Fv)(v.vh.DELETE_IMAGE,{original:null===n||void 0===n?void 0:n.original,thumbnail:null===n||void 0===n?void 0:n.thumbnail}).then((function(){var e,l=null===a||void 0===a||null===(e=a.images)||void 0===e?void 0:e.filter((function(e){return(null===e||void 0===e?void 0:e.original)!==(null===n||void 0===n?void 0:n.original)}));i("image",l)}));var n}})]},n)}))})})})]})})},Z=j.Ry().shape({firstName:j.Z_().required("Required"),lastName:j.Z_().required("Required"),dob:j.Z_().required("Required"),gender:j.Z_().required("Required"),email:j.Z_().email().required("Required"),phoneNumber:j.Z_().required(),companyName:j.Z_().required("Required")}),q=j.Ry().shape({firstName:j.Z_().required("Required"),lastName:j.Z_().required("Required"),dob:j.Z_().required("Required"),gender:j.Z_().required("Required"),email:j.Z_().email().required("Required"),phoneNumber:j.Z_().required()}),P={userSubType:1,firstName:"",lastName:"",email:"",password:"",gender:1,dob:new Date,address:"",state:"",phoneNumber:"",pincode:"",city:"",countryCode:"+1",alternateCountryCode:"+1",alternatePhoneNumber:"",companyName:""},_=function(){var e=(0,C.UO)().id,n=(0,i.useState)({}),l=(0,a.Z)(n,2),r=l[0],u=l[1],s=(0,i.useState)(!0),m=(0,a.Z)(s,2),p=m[0],h=m[1],g=(0,C.s0)();(0,i.useEffect)((function(){e?(0,c.ac)(v.vh.GET_USERS,{userType:1,userId:e}).then((function(e){var n,l=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data;u({userSubType:null===l||void 0===l?void 0:l.userSubType,firstName:null===l||void 0===l?void 0:l.firstName,lastName:null===l||void 0===l?void 0:l.lastName,email:null===l||void 0===l?void 0:l.email,gender:null===l||void 0===l?void 0:l.gender,dob:null===l||void 0===l?void 0:l.dob,image:null!==l&&void 0!==l&&l.imageUrlOriginal?[{original:null===l||void 0===l?void 0:l.imageUrlOriginal,thumbnail:null===l||void 0===l?void 0:l.imageUrlThumbnail}]:[],countryCode:null!==(null===l||void 0===l?void 0:l.countryCode)?null===l||void 0===l?void 0:l.countryCode:"+1",country:null===l||void 0===l?void 0:l.country,companyName:null===l||void 0===l?void 0:l.companyName,pincode:null===l||void 0===l?void 0:l.pincode,city:null===l||void 0===l?void 0:l.city,state:{label:null===l||void 0===l?void 0:l.state,value:null===l||void 0===l?void 0:l.state},alternateCountryCode:null!==(null===l||void 0===l?void 0:l.alternateCountryCode)?null===l||void 0===l?void 0:l.alternateCountryCode:"+1",address:null===l||void 0===l?void 0:l.address,phoneNumber:null!==(null===l||void 0===l?void 0:l.countryCode)&&null!==(null===l||void 0===l?void 0:l.phoneNumber)?"".concat(null===l||void 0===l?void 0:l.countryCode).concat(null===l||void 0===l?void 0:l.phoneNumber):"",alternatePhoneNumber:null!==(null===l||void 0===l?void 0:l.alternateCountryCode)&&null!==(null===l||void 0===l?void 0:l.alternatePhoneNumber)?"".concat(null===l||void 0===l?void 0:l.alternateCountryCode).concat(null===l||void 0===l?void 0:l.alternatePhoneNumber):""})})).finally((function(){h(!1)})):h(!1)}),[e]);var y=(0,t.TA)({initialValues:e?r:P,enableReinitialize:!0,validationSchema:e?q:Z,onSubmit:function(n){var l,a,i,t,r,u;(e&&(n.id=e),n.alternatePhoneNumber=null===n||void 0===n||null===(l=n.alternatePhoneNumber)||void 0===l?void 0:l.replace(null===n||void 0===n?void 0:n.alternateCountryCode,""),n.phoneNumber=null===n||void 0===n||null===(a=n.phoneNumber)||void 0===a?void 0:a.replace(null===n||void 0===n?void 0:n.countryCode,""),""===n.alternatePhoneNumber&&delete n.alternatePhoneNumber,""===n.phoneNumber&&delete n.phoneNumber,null!==n&&void 0!==n&&null!==(i=n.alternateCountryCode)&&void 0!==i&&i.includes("+")||(n.alternateCountryCode="+".concat(n.alternateCountryCode)),null!==n&&void 0!==n&&null!==(t=n.countryCode)&&void 0!==t&&t.includes("+")||(n.countryCode="+".concat(n.countryCode)),n.state)&&(n.state=null===n||void 0===n||null===(u=n.state)||void 0===u?void 0:u.label);null!==n&&void 0!==n&&n.image&&(null===n||void 0===n||null===(r=n.image)||void 0===r?void 0:r.length)>0&&(n.original=n.image[0].original,n.thumbnail=n.image[0].thumbnail),delete n.image,(0,c.Fv)(v.vh.ADD_EDIT_PROVIDER,(0,o.Z)({},n)).then((function(n){d.Am.push((0,f.jsx)(d.P_,{type:"success",children:e?b.D5:b.Te})),g(-1)}))}}),j=y.errors,E=y.touched,w=y.values,_=y.handleSubmit,F=(y.getFieldProps,y.setFieldValue),S=y.isSubmitting;return(0,f.jsx)(t.Hy,{value:y,children:(0,f.jsxs)(t.l0,{className:"p-1",onSubmit:_,autoComplete:"off",noValidate:!0,children:[(0,f.jsxs)("div",{className:"flex mb-3 justify-between w-3/4",children:[(0,f.jsx)("h3",{children:e?"Edit Provider":"Add Provider"}),(0,f.jsxs)("div",{className:"flex",children:[(0,f.jsx)(d.zx,{size:"sm",variant:"solid",onClick:function(){return g(-1)},type:"button",children:"Back / Cancel"}),(0,f.jsx)(d.zx,{size:"sm",variant:"solid",style:{marginLeft:"5px"},loading:S,type:"submit",children:e?"Update":"Save"})]})]}),(0,f.jsxs)("div",{children:[p&&(0,f.jsx)("div",{className:"flex justify-center",children:(0,f.jsx)(d.$j,{size:"3.25rem"})}),!p&&(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(d.Zb,{className:"mt-2.5 w-3/4 ",children:(0,f.jsxs)(d.Yb,{className:" md:w-full lg:w-1/2",children:[(0,f.jsx)("h5",{className:"mb-4",children:"Personal Information"}),(0,f.jsx)(I,{touched:E,errors:j,values:w,setFieldValue:F}),x.map((function(n,l,o){return(0,f.jsxs)(f.Fragment,{children:[(null===n||void 0===n?void 0:n.title)&&(0,f.jsx)("h6",{className:"my-3",children:null===n||void 0===n?void 0:n.title}),(0,f.jsx)(d.xJ,{label:"password"===n.component&&e?null:null===n||void 0===n?void 0:n.label,className:"ml-3 ",invalid:(null===j||void 0===j?void 0:j[null===n||void 0===n?void 0:n.name])&&(null===E||void 0===E?void 0:E[null===n||void 0===n?void 0:n.name]),errorMessage:null===j||void 0===j?void 0:j[null===n||void 0===n?void 0:n.name],children:n.isBasic?(0,f.jsx)(t.gN,{textArea:!(null===n||void 0===n||!n.textArea),type:null===n||void 0===n?void 0:n.type,autoComplete:"off",name:null===n||void 0===n?void 0:n.name,placeholder:null===n||void 0===n?void 0:n.placeholder,component:null===n||void 0===n?void 0:n.component}):(0,f.jsx)(N,{id:e,errors:j,field:n,setFieldValue:F,values:w})},l)]})}))]})})})]})]})})}}}]);
//# sourceMappingURL=7710.309e2093.chunk.js.map