"use strict";(self.webpackChunknasp=self.webpackChunknasp||[]).push([[6311],{25764:(e,l,n)=>{n.d(l,{Z:()=>i});n(72791);var t=n(73038),a=n(80184);const i=e=>{let{header:l,des:n,onDialogClose:i,isWarning:s,onConfirmClick:o,isOpen:d,buttonLabel:r}=e;return(0,a.jsx)(t.Vq,{isOpen:d,onClose:i,onRequestClose:i,contentClassName:"pb-0 px-0 mt-36 min-w-36",children:(0,a.jsxs)("div",{className:"px-5 pb-5",children:[(0,a.jsx)("h5",{className:"mb-4",children:l}),(0,a.jsx)("p",{children:n}),s&&(0,a.jsx)("p",{className:"text-red-700",children:s}),(0,a.jsxs)("div",{className:"text-right mt-6",children:[(0,a.jsx)(t.zx,{className:"ltr:mr-2 rtl:ml-2",variant:"plain",onClick:i,children:"Cancel"}),(0,a.jsx)(t.zx,{variant:"solid",onClick:o,children:r})]})]})})}},52452:(e,l,n)=>{n.d(l,{Z:()=>s});var t=n(23532),a=n(73038),i=n(80184);const s=e=>{let{row:l,onActionHandle:n,actionsMenu:s}=e;const{textTheme:o}=(0,t.Z)();return(0,i.jsx)("div",{className:"flex items-center justify-between",children:null===s||void 0===s?void 0:s.map(((e,t)=>{var s,d;if(null===(s=null===e||void 0===e||null===(d=e.show)||void 0===d?void 0:d.call(e))||void 0===s||s)return(0,i.jsx)(a.u,{title:null===e||void 0===e?void 0:e.toolTip,visible:!(null===e||void 0===e||!e.toolTip),children:null!==e&&void 0!==e&&e.isImage?(0,i.jsx)("img",{src:e.label,alt:"view Icon",style:{maxWidth:"20px"},className:"cursor-pointer mx-0.5",onClick:t=>n(t,e.key,l)}):(0,i.jsx)("span",{className:`${o} cursor-pointer select-none font-semibold ml-2 `,onClick:t=>n(t,e.key,l),children:e.label})})}))})}},31673:(e,l,n)=>{n.d(l,{Z:()=>s});n(72791);var t=n(52639),a=n(73038),i=n(80184);const s=e=>{var l,n;let{dataObj:s,setSelectedData:o,setActiveConfirm:d,setOpenModal:r}=e;const c=null===s||void 0===s||null===(l=s.row)||void 0===l||null===(n=l.original)||void 0===n?void 0:n._id,u=t.uN.find(((e,l)=>{var n,t;return e.identifier===(null===s||void 0===s||null===(n=s.row)||void 0===n||null===(t=n.original)||void 0===t?void 0:t.status)}));return(0,i.jsx)(a.XZ,{checked:null===u||void 0===u?void 0:u.value,onChange:e=>((e,l,n)=>{let t="";1===l&&(t=2),2===l&&(t=1),o({id:n,action:t}),d(!0),r(!0)})(0,null===u||void 0===u?void 0:u.identifier,c)})}},93156:(e,l,n)=>{n.d(l,{Z:()=>p});var t=n(72791),a=n(73038),i=n(10515),s=n(76053),o=n(9494),d=n(11723),r=n(763),c=n(80034),u=n(52639),v=n(80184);const m=e=>{let{buttonMenu:l,buttonClick:n}=e;return(0,v.jsx)("div",{className:"mb-4",children:null===l||void 0===l?void 0:l.map(((e,l,t)=>(0,v.jsx)(a.zx,{size:"sm",variant:"solid",onClick:l=>n(l,e.key),style:{marginLeft:"5px"},icon:e.icon,children:e.label})))})},h=e=>{let{setSearch:l,FilterMenu:n,setFilterValue:m,filterValue:h,asyncApiType:p,searchPlaceholder:x}=e;const f=(0,r.debounce)(((e,l)=>{(0,o.ac)(1===p?d.vh.GET_USERS:d.vh.GET_CATEGORIES,{search:e}).then((e=>{var n;l(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data)}))}),300);return(0,v.jsxs)("div",{className:"md:flex gap-4 w-full",children:[(0,v.jsx)(i.Z,{placeholder:x,onChange:e=>l(e)}),null===n||void 0===n?void 0:n.map(((e,n)=>(0,v.jsxs)(t.Fragment,{children:["select"===e.component&&(0,v.jsx)(a.Ph,{autoComplete:"off",size:"sm",className:e.className,placeholder:e.placeholder,options:e.options,value:h[null===e||void 0===e?void 0:e.filterKey],onChange:l=>{m({...h,[null===e||void 0===e?void 0:e.filterKey]:l})}}),"resetButton"===e.component&&(0,v.jsx)(a.zx,{size:"sm",className:e.className,onClick:()=>{m(null===e||void 0===e?void 0:e.filterKey),l("")},icon:(0,v.jsx)(s.pYJ,{}),children:e.label}),"asyncSelect"===e.component&&(0,v.jsx)(a.Ph,{autoComplete:"off",placeholder:e.placeholder,defaultOptions:!0,cacheOptions:!0,size:"sm",className:e.className,value:null===h||void 0===h?void 0:h[null===e||void 0===e?void 0:e.filterKey],loadOptions:f,componentAs:c.Z,getOptionLabel:l=>`${null===l||void 0===l?void 0:l[e.label]} ${null!==e&&void 0!==e&&e.label1?null===l||void 0===l?void 0:l[e.label1]:""}`,getOptionValue:e=>null===e||void 0===e?void 0:e.id,onChange:l=>{m({...h,[null===e||void 0===e?void 0:e.filterKey]:l})}}),"datePicker"===e.component&&(0,v.jsx)(a.Mt,{inputtable:!0,clearable:!0,selected:h[null===e||void 0===e?void 0:e.filterKey],onChange:l=>{m({...h,[null===e||void 0===e?void 0:e.filterKey]:l})},size:"sm",placeholder:"Patient DOB (MM/DD/YYYY)",name:"patientDob",className:e.className,placeholderText:e.placeholder,dateFormat:u.zT}),"input"===e.component&&(0,v.jsx)(a.II,{size:"sm",className:e.className,placeholder:e.placeholder,value:h[null===e||void 0===e?void 0:e.filterKey],onChange:l=>{m({...h,[null===e||void 0===e?void 0:e.filterKey]:l.target.value})}})]},n)))]})},p=e=>{let{buttonMenu:l,FilterMenu:n,setSearch:t,buttonClick:a,setFilterValue:i,filterValue:s,asyncApiType:o,searchPlaceholder:d}=e;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"md:flex items-center justify-end",children:(0,v.jsx)(m,{buttonMenu:l,buttonClick:a})}),(0,v.jsx)("div",{className:"items-center lg:flex",children:(0,v.jsx)(h,{searchPlaceholder:d,setSearch:t,FilterMenu:n,setFilterValue:i,filterValue:s,asyncApiType:o})})]})}},10515:(e,l,n)=>{n.d(l,{Z:()=>d});n(72791);var t=n(73038),a=n(58617),i=n(48573),s=n.n(i),o=n(80184);const d=e=>{let{onChange:l,placeholder:n}=e;const i=s()((function(e){null===l||void 0===l||l(e)}),500);return(0,o.jsx)(t.II,{className:"max-w-md md:w-96 mb-4",size:"sm",placeholder:n?`${n}`:"Filter by NAL, LCode, Referring Physician",prefix:(0,o.jsx)(a.O6C,{className:"text-lg"}),onChange:e=>{i(e.target.value)}})}},9494:(e,l,n)=>{n.d(l,{EY:()=>o,Fv:()=>s,ac:()=>i});var t=n(91181),a=n(14712);function i(e,l){return a.Z.get(e,{params:l}).then((e=>null===e||void 0===e?void 0:e.data))}function s(e,l){return a.Z.post(e,l).then((e=>null===e||void 0===e?void 0:e.data))}async function o(e){return t.Z.fetchData({url:"/search/query",method:"post",data:e})}},86311:(e,l,n)=>{n.r(l),n.d(l,{default:()=>N});var t=n(40018),a=n(72791),i=n(73038),s=n(23532),o=n(11087),d=n(57689),r=n(97892),c=n.n(r),u=n(9494),v=n(11723),m=n(58617),h=n(52452),p=n(25764),x=n(78820),f=n(93156),b=n(52639),j=n(31673),C=n(47511),g=n(80184);const E=[{label:"Edit",key:b.A6.EDIT,show:()=>(0,C.ZP)(C.Fm.SUBUSERS,C.qz.WRITE)},{label:(0,g.jsx)(x.YK6,{style:{fontSize:"1.2rem"}}),key:b.A6.DELETE,toolTip:"Delete",show:()=>(0,C.ZP)(C.Fm.SUBUSERS,C.qz.DELETE)}],S={header:b.BI.HEADER,des:b.BI.DELETE,buttonLabel:"Delete"},A=(0,C.ZP)(C.Fm.SUBUSERS,C.qz.WRITE)?[{label:"Add Sub Admin",key:b.A6.ADD,icon:(0,g.jsx)(m.HQD,{})}]:[],y=[],D=e=>{var l,n;let{row:t}=e;const{textTheme:a}=(0,s.Z)();return(0,g.jsxs)("div",{className:"flex items-center",children:[(0,g.jsx)(i.qE,{size:28,shape:"circle",children:null===t||void 0===t||null===(l=t.name)||void 0===l||null===(n=l[0])||void 0===n?void 0:n.toUpperCase()}),(0,g.jsx)(o.rU,{className:`hover:${a} ml-2 rtl:mr-2 font-semibold`,children:(null===t||void 0===t?void 0:t.name)||"-"})]})},N=()=>{const[e,l]=(0,a.useState)(!0),[n,s]=(0,a.useState)([]),[o,r]=(0,a.useState)(!1),[m,x]=(0,a.useState)(""),[N,k]=(0,a.useState)(1),[T,w]=(0,a.useState)(0),[F,I]=(0,a.useState)(10),[Z,z]=(0,a.useState)(""),[L,M]=(0,a.useState)(!1),[O,P]=(0,a.useState)(!1),R=(0,d.s0)();(0,a.useEffect)((()=>{(0,u.ac)(v.vh.LIST_DATA,{type:v.kD.ADMINS,limit:F,search:m,skip:F*(N-1)}).then((e=>{var l,n;s(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.data),w(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.count)})).finally((()=>l(!1)))}),[o,m,N,F]);const B=(e,l,n)=>{l===b.A6.EDIT&&R(`/app/sub-user/edit/${null===n||void 0===n?void 0:n._id}`),l===b.A6.DELETE&&(z({id:null===n||void 0===n?void 0:n._id}),M(!0))},H=()=>{z(""),M(!1)},K=[{Header:"Name",accessor:"name",Cell:e=>{const l=e.row.original;return(0,g.jsx)(D,{row:l})}},{Header:"Email",accessor:"email"},{Header:"Is Super Admin?",accessor:"superAdmin",Cell:e=>{const l=e.row.original;return null!==l&&void 0!==l&&l.superAdmin?"True":"False"}},{Header:"Date added",accessor:"createdAt",Cell:e=>{const l=e.row.original;return(0,g.jsx)("div",{className:"flex items-center",children:c()(null===l||void 0===l?void 0:l.createdAt).format(b.a1)})}},{Header:"Active",Cell:e=>(0,g.jsx)(j.Z,{dataObj:e,setSelectedData:z,setActiveConfirm:P,setOpenModal:M})},{Header:"Actions",id:"action",accessor:e=>e,Cell:e=>(0,g.jsx)(h.Z,{row:e.row.original,onActionHandle:B,actionsMenu:E})}],U={header:b.BI.HEADER,des:b.BI.DELETE,warning:b.BI.WARNING,buttonLabel:"Delete"};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(f.Z,{buttonMenu:A,FilterMenu:y,setSearch:x,buttonClick:(e,l)=>{l===b.A6.ADD&&R("/app/sub-user/add")}}),(0,g.jsx)(t.lG,{className:"h-full",bodyClass:"h-full",children:(0,g.jsx)(t.wQ,{isCursor:!1,columns:(0,C._P)(K,C.Fm.SUBUSERS,1),data:n,loading:e,skeletonAvatarColumns:[0],skeletonAvatarProps:{width:28,height:28},pagingData:{pageIndex:N,pageSize:F,total:T},onPaginationChange:e=>k(e),onSelectChange:e=>I(e)})}),(0,g.jsx)(p.Z,{isOpen:L,onConfirmClick:()=>{let e;const l={type:v.kD.ADMINS,id:null===Z||void 0===Z?void 0:Z.id};O?(e=b.D5,l.status=+(null===Z||void 0===Z?void 0:Z.action)):(e=b.O7,l.status=0),(0,u.Fv)(v.vh.BLOCK_DELETE_DATA,l).then((l=>{i.Am.push((0,g.jsx)(i.P_,{type:"success",children:e})),r((e=>!e)),H()}))},header:S.header,des:O?null===b.uF||void 0===b.uF?void 0:b.uF.des:U.des,onDialogClose:H,isWarning:!O&&U.warning,buttonLabel:O?null===b.uF||void 0===b.uF?void 0:b.uF.buttonLabel:U.buttonLabel})]})}}}]);
//# sourceMappingURL=6311.f4d7e22f.chunk.js.map