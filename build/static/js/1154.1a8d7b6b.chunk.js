"use strict";(self.webpackChunknasp=self.webpackChunknasp||[]).push([[1154],{79739:(e,t,a)=>{a.d(t,{Y:()=>l});const l={VIEW_IMAGE:"/img/prescription.png",REPLY:"/img/reply.png",STATUS:"/img/status.png",EXPORT:"/img/fileExport.svg",RECEIPT:"/img/receipt.svg",DOWNLOAD_PDF:"/img/download.png"}},25764:(e,t,a)=>{a.d(t,{Z:()=>i});a(72791);var l=a(73038),n=a(80184);const i=e=>{let{header:t,des:a,onDialogClose:i,isWarning:o,onConfirmClick:s,isOpen:d,buttonLabel:r}=e;return(0,n.jsx)(l.Vq,{isOpen:d,onClose:i,onRequestClose:i,contentClassName:"pb-0 px-0 mt-36 min-w-36",children:(0,n.jsxs)("div",{className:"px-5 pb-5",children:[(0,n.jsx)("h5",{className:"mb-4",children:t}),(0,n.jsx)("p",{children:a}),o&&(0,n.jsx)("p",{className:"text-red-700",children:o}),(0,n.jsxs)("div",{className:"text-right mt-6",children:[(0,n.jsx)(l.zx,{className:"ltr:mr-2 rtl:ml-2",variant:"plain",onClick:i,children:"Cancel"}),(0,n.jsx)(l.zx,{variant:"solid",onClick:s,children:r})]})]})})}},52452:(e,t,a)=>{a.d(t,{Z:()=>o});var l=a(23532),n=a(73038),i=a(80184);const o=e=>{let{row:t,onActionHandle:a,actionsMenu:o}=e;const{textTheme:s}=(0,l.Z)();return(0,i.jsx)("div",{className:"flex items-center justify-between",children:null===o||void 0===o?void 0:o.map(((e,l)=>{var o,d;if(null===(o=null===e||void 0===e||null===(d=e.show)||void 0===d?void 0:d.call(e))||void 0===o||o)return(0,i.jsx)(n.u,{title:null===e||void 0===e?void 0:e.toolTip,visible:!(null===e||void 0===e||!e.toolTip),children:null!==e&&void 0!==e&&e.isImage?(0,i.jsx)("img",{src:e.label,alt:"view Icon",style:{maxWidth:"20px"},className:"cursor-pointer mx-0.5",onClick:l=>a(l,e.key,t)}):(0,i.jsx)("span",{className:`${s} cursor-pointer select-none font-semibold ml-2 `,onClick:l=>a(l,e.key,t),children:e.label})})}))})}},54167:(e,t,a)=>{a.d(t,{Z:()=>d});var l=a(73038),n=a(54048),i=a(11723),o=(a(72791),a(9494)),s=a(80184);const d=e=>{let{type:t,onDialogClose:a,isOpen:d,user:r,Payload:c}=e;return(0,s.jsx)(l.Vq,{isOpen:d,onClose:a,onRequestClose:a,contentClassName:"pb-0 px-0 mt-36 min-w-36",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("p",{className:"text-md mb-6 font-bold ",children:"Please download the Excel file for the data."}),(0,s.jsx)("div",{className:"text-right mt-6",children:(0,s.jsx)(l.zx,{variant:"solid",type:"button",onClick:()=>{const e={type:t,...c};r&&(e.userId=null===r||void 0===r?void 0:r._id),(0,o.Fv)(i.vh.EXPORT_DATA,e).then((e=>{var t;l.Am.push((0,s.jsx)(l.P_,{type:"success",children:"Exported successfully"}));const i=document.createElement("a");i.href=n.Z.imageBaseUrl+(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.fileName),i.download="file_name.xlsx",document.body.appendChild(i),i.click(),document.body.removeChild(i),a()})).catch((e=>{l.Am.push((0,s.jsxs)(l.P_,{type:"error",children:["Export failed: ",e.message]}))}))},children:"Export/Download File"})})]})})}},60791:(e,t,a)=>{a.d(t,{Z:()=>w});var l=a(72791),n=a(81694),i=a.n(n),o=a(68585),s=a(73038),d=a(58617),r=a(9494),c=a(57689);function u(e,t){return e.length===t+1}a(80354);var v=a(23532),m=a(60364),p=a(71672),h=a(11723),x=a(97892),b=a.n(x),D=a(52639),S=a(80184);const y="h-72",g=1,N=2,f=3,j=4,E=5,I=6,C=7,A=8,T=9,R=e=>{let{className:t,content:a}=e;return(0,S.jsx)("div",{className:i()("text-2xl",t),children:a?(0,S.jsx)(s.Ct,{badgeStyle:{top:"3px",right:"6px"},content:a,children:(0,S.jsx)(d.Uet,{})}):(0,S.jsx)(d.Uet,{})})},w=(0,o.Z)((e=>{let{className:t}=e;const[a,n]=(0,l.useState)([]),o=(0,l.useRef)(),[d,x]=(0,l.useState)(0),[w,P]=(0,l.useState)(0),[F,k]=(0,l.useState)(!1),[O,_]=(0,l.useState)(),[L,z]=(0,l.useState)(!1),[$,V]=(0,l.useState)(!1),Z=(0,c.s0)(),{bgTheme:M}=(0,v.Z)(),{larger:q}=(0,p.Z)(),H=((0,m.v9)((e=>e.theme.direction)),()=>{});(0,l.useEffect)((()=>{const e=setInterval(H,6e4);return()=>clearInterval(e)}),[]),(0,l.useEffect)((()=>{}),[d,F,w]);const U=e=>{const t=a.map((t=>(t.id===e&&(console.log(),(0,r.Fv)(h.vh.UNREAD_NOTIFICATION,{id:e}),((e,t)=>{switch(e){case g:Z(`/app/orderManagement/ecom-order/view/${t}`);break;case N:Z(`/app/service-order/view/${t}`);break;case f:Z(`/app/order-management/cancel-request/order-reply/${t}`);break;case j:Z(`/app/patient/edit/${t}`);break;case E:Z(`/app/provider/edit/${t}`);break;case I:Z(`/app/staff/edit/${t}`);break;case C:Z("/app/users-feedback");break;case A:Z("/app/contact-queries");break;case T:Z(`/app/products/edit/${t}`);break;default:;}})(null===t||void 0===t?void 0:t.type,null===t||void 0===t?void 0:t.recordId)),t)));n(t)};return(0,S.jsxs)(s.Lt,{renderTitle:(0,S.jsx)(R,{content:O,className:t}),menuClass:"p-0 min-w-[280px] md:min-w-[540px]",placement:q.md?"bottom-end":"bottom-center",onOpen:H,children:[(0,S.jsx)(s.Lt.Item,{variant:"header",children:(0,S.jsxs)("div",{className:"border-b border-gray-200 dark:border-gray-600 px-4 py-2 flex items-center justify-between",children:[(0,S.jsx)("h6",{children:"Notifications"}),(0,S.jsx)(s.u,{title:"Mark all as read"})]})}),(0,S.jsxs)("div",{ref:o,onScroll:()=>{if(o.current){const{scrollTop:e,scrollHeight:t,clientHeight:a}=o.current;e+a===t&&x(d+1)}},className:i()("overflow-y-auto",y),children:[a.length>0&&a.map(((e,t)=>(0,S.jsxs)(s.Lt.Item,{className:" relative flex px-4 py-4 cursor-pointer hover:bg-gray-50 active:bg-gray-100 dark:hover:bg-black dark:hover:bg-opacity-20  "+(u(a,t)?"":"border-b border-gray-200 dark:border-gray-600"),onClick:()=>U(e.id),children:[(0,S.jsxs)("div",{className:"ltr:ml-3 rtl:mr-3 ",children:[(0,S.jsxs)("div",{children:[e.title&&(0,S.jsxs)("div",{className:"font-semibold heading-text",children:[e.title," "]}),(0,S.jsx)("p",{children:e.body})]}),(0,S.jsx)("div",{className:"text-xs",children:b()(e.createdAt).format(D.a1)})]}),(0,S.jsx)(s.Ct,{className:"absolute top-4 ltr:right-4 rtl:left-4 mt-1.5",innerClass:`${1===e.isRead?"bg-gray-300":M} `})]},e.id))),$&&(0,S.jsx)("div",{className:i()("flex items-center justify-center",y),children:(0,S.jsx)(s.$j,{size:40})}),L&&(0,S.jsx)("div",{className:i()("flex items-center justify-center",y),children:(0,S.jsxs)("div",{className:"text-center",children:[(0,S.jsx)("img",{className:"mx-auto mb-2 max-w-[150px]",src:"/img/others/no-notification.png",alt:"no-notification"}),(0,S.jsx)("h6",{className:"font-semibold",children:"No notifications!"}),(0,S.jsx)("p",{className:"mt-1",children:"Please Try again later"})]})})]})]})}))},10515:(e,t,a)=>{a.d(t,{Z:()=>d});a(72791);var l=a(73038),n=a(58617),i=a(48573),o=a.n(i),s=a(80184);const d=e=>{let{onChange:t,placeholder:a}=e;const i=o()((function(e){null===t||void 0===t||t(e)}),500);return(0,s.jsx)(l.II,{className:"max-w-md md:w-96 mb-4",size:"sm",placeholder:a?`${a}`:"Filter by NAL, LCode, Referring Physician",prefix:(0,s.jsx)(n.O6C,{className:"text-lg"}),onChange:e=>{i(e.target.value)}})}},9494:(e,t,a)=>{a.d(t,{EY:()=>s,Fv:()=>o,ac:()=>i});var l=a(91181),n=a(14712);function i(e,t){return n.Z.get(e,{params:t}).then((e=>null===e||void 0===e?void 0:e.data))}function o(e,t){return n.Z.post(e,t).then((e=>null===e||void 0===e?void 0:e.data))}async function s(e){return l.Z.fetchData({url:"/search/query",method:"post",data:e})}},68585:(e,t,a)=>{a.d(t,{Z:()=>o});a(72791);var l=a(81694),n=a.n(l),i=a(80184);const o=e=>t=>{const{className:a,hoverable:l=!0}=t;return(0,i.jsx)(e,{...t,className:n()("header-action-item",l&&"header-action-item-hoverable",a)})}},71672:(e,t,a)=>{a.d(t,{Z:()=>u});var l=a(72791);const n="576",i="640px",o="768px",s="1024px",d="1280px",r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return parseInt(e.replace("px",""))},c={"2xl":r("1536px"),xl:r(d),lg:r(s),md:r(o),sm:r(i),xs:r(n)},u=()=>{const e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"smaller";const t=window.innerWidth;return Object.fromEntries(Object.entries(c).map((a=>{let[l,n]=a;return[l,"larger"===e?t>n:t<n]})))},t=()=>({windowWidth:window.innerWidth,larger:e("larger"),smaller:e("smaller")}),[a,n]=(0,l.useState)(t()),i=()=>{const e=t();n(e)};return(0,l.useEffect)((()=>(window.addEventListener("resize",i),()=>window.removeEventListener("resize",i))),[a.windowWidth]),a}},61015:(e,t,a)=>{a.r(t),a.d(t,{default:()=>H});var l=a(72791),n=a(73038),i=a(76053),o=a(10515),s=a(9494),d=a(11723),r=a(763),c=a(80034),u=a(52639),v=a(72426),m=a.n(v),p=a(83776),h=a(57689),x=a(80184);const b=e=>{let{setSearch:t,filtervalue:a,setFilterValue:l,setFilterPatientId:v,filterPatientId:b,selectedDate:D,setSelectedDate:S,filterPatientDob:y,setFilterPatientDob:g,filterNad:N,setFilterNad:f}=e;const j=(0,r.debounce)(((e,t)=>{(0,s.ac)(d.vh.LIST_DATA,{type:d.kD.PATIENTS,search:e}).then((e=>{var a;t(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data)}))}),300),E=(0,h.s0)();return(0,x.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-5",children:[(0,x.jsx)(o.Z,{onChange:e=>t(e)}),(0,x.jsx)(n.Ph,{autoComplete:"off",size:"sm",className:"mb-4 w-30",placeholder:"Filter by Order Status",options:p.IC,value:a,onChange:e=>{l(e)}}),(0,x.jsx)(n.Ph,{autoComplete:"off",placeholder:"Filter by Patient (Name, Phone, ID)",defaultOptions:!0,cacheOptions:!0,size:"sm",className:"mb-4",value:b,loadOptions:j,componentAs:c.Z,getOptionLabel:e=>`${null===e||void 0===e?void 0:e.firstName} ${null!==e&&void 0!==e&&e.lastName?null===e||void 0===e?void 0:e.lastName:""} ${null!==e&&void 0!==e&&e.patientNo?`(${null===e||void 0===e?void 0:e.patientNo})`:""} ${null!==e&&void 0!==e&&e.dob?`(${m()(null===e||void 0===e?void 0:e.dob).format(u.zT)})`:""}`,getOptionValue:e=>null===e||void 0===e?void 0:e._id,onChange:e=>{v(e)}}),(0,x.jsx)(n.Mt,{inputtable:!0,clearable:!1,className:"",placeholder:`Filter by Patient DOB ${u.zT}`,size:"sm",name:"patientDob",inputFormat:u.zT,maxDate:new Date,value:y,onChange:e=>g(m()(e).format(u.zT))}),(0,x.jsx)(n.Mt,{clearable:!1,className:"",placeholder:"Order Start Date",size:"sm",name:"startDate",inputFormat:u.zT,maxDate:null!==D&&void 0!==D&&D.endDate?new Date(null===D||void 0===D?void 0:D.endDate):new Date,value:null===D||void 0===D?void 0:D.startDate,onChange:e=>S({...D,startDate:m()(e).format(u.zT)})}),(0,x.jsx)(n.Mt,{clearable:!1,name:"endDate",className:"",placeholder:"Order End Date",size:"sm",inputFormat:u.zT,minDate:null!==D&&void 0!==D&&D.startDate?new Date(null===D||void 0===D?void 0:D.startDate):null,maxDate:new Date,value:null===D||void 0===D?void 0:D.endDate,onChange:e=>S({...D,endDate:m()(e).format(u.zT)})}),(0,x.jsx)(n.Mt,{inputtable:!0,clearable:!1,className:"",placeholder:"Filter By NAD",size:"sm",name:"nad",inputFormat:u.zT,value:N,onChange:e=>f(m()(e).format(u.zT))}),(0,x.jsx)(n.zx,{size:"sm",onClick:()=>{g(null),l(""),v(""),S({startDate:null,endDate:null}),f(null),E("/app/orderManagement/service-order")},icon:(0,x.jsx)(i.pYJ,{}),children:"Reset"})]})},D=e=>{let{setSearch:t,buttonMenu:a,buttonClick:l,filtervalue:i,setFilterValue:o,setFilterPatientId:s,filterPatientId:d,selectedDate:r,setSelectedDate:c,filterPatientDob:u,setFilterPatientDob:v,filterNad:m,setFilterNad:p}=e;const h=e=>{let{buttonClick:t,buttonMenu:a}=e;return(0,x.jsx)("div",{className:"mb-4 ",children:null===a||void 0===a?void 0:a.map(((e,a,l)=>(0,x.jsx)(n.zx,{size:"sm",variant:"solid",onClick:a=>t(a,e.key),style:{marginLeft:"5px"},icon:e.icon,children:e.label},a)))})};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"md:flex items-center justify-end",children:(0,x.jsx)(h,{buttonMenu:a,buttonClick:l})}),(0,x.jsx)("div",{className:"items-center lg:flex",children:(0,x.jsx)(b,{selectedDate:r,setSelectedDate:c,setFilterPatientDob:v,filterPatientDob:u,setSearch:t,setFilterValue:o,filtervalue:i,setFilterPatientId:s,filterPatientId:d,setFilterNad:p,filterNad:m})})]})};var S=a(40018),y=a(92506),g=a(78820),N=a(81724),f=a(11799),j=a.n(f);a(81778);const E=N.Ry().shape({appointmentDate:N.Z_().required("Required"),appointmentTime:N.Z_().required("Required"),appointmentAddress:N.Z_().required("Required")}),I=e=>{let{onSubmit:t,selectedData:a}=e;return(0,x.jsx)(y.J9,{initialValues:{appointmentDate:null!==(null===a||void 0===a?void 0:a.appointmentDate)?new Date(null===a||void 0===a?void 0:a.appointmentDate):"",appointmentTime:null!==(null===a||void 0===a?void 0:a.appointmentTime)?new Date(null===a||void 0===a?void 0:a.appointmentTime):"",appointmentAddress:null!==(null===a||void 0===a?void 0:a.appointmentAddress)?null===a||void 0===a?void 0:a.appointmentAddress:""},validationSchema:E,onSubmit:t,enableReinitialize:!0,children:e=>{let{errors:t,touched:a,values:l,isSubmitting:i,setFieldValue:o}=e;return(0,x.jsx)(y.l0,{className:"p-5",children:(0,x.jsxs)(n.Yb,{children:[(0,x.jsx)(n.xJ,{label:"Appointment Date",invalid:(null===t||void 0===t?void 0:t.appointmentDate)&&(null===a||void 0===a?void 0:a.appointmentDate),errorMessage:null===t||void 0===t?void 0:t.appointmentDate,children:(0,x.jsx)(n.Mt,{value:null===l||void 0===l?void 0:l.appointmentDate,inputFormat:u.zT,name:"appointmentDate",placeholder:"Select appointment date",onChange:e=>{o("appointmentDate",e)}})}),(0,x.jsx)(n.xJ,{label:"Appointment Time",invalid:(null===t||void 0===t?void 0:t.appointmentTime)&&(null===a||void 0===a?void 0:a.appointmentTime),errorMessage:null===t||void 0===t?void 0:t.appointmentTime,children:(0,x.jsx)(j(),{onChange:e=>{e._isValid&&o("appointmentTime",e)},value:new Date(null===l||void 0===l?void 0:l.appointmentTime),dateFormat:!1,timeFormat:"hh:mm  A",inputProps:{placeholder:"Enter time",style:{width:"100%",borderWidth:"1px",height:"2.75rem",borderRadius:"0.375rem",padding:"0.5rem 0.75rem"}}})}),(0,x.jsx)(n.xJ,{label:"Appointment Address",invalid:(null===t||void 0===t?void 0:t.appointmentAddress)&&(null===a||void 0===a?void 0:a.appointmentAddress),errorMessage:null===t||void 0===t?void 0:t.appointmentAddress,children:(0,x.jsx)(y.gN,{textArea:!0,type:"text",autoComplete:"off",name:"appointmentAddress",placeholder:"Enter appointment address",component:n.II})}),(0,x.jsxs)(S.gi,{className:"-mx-8 px-8 flex items-center justify-between py-4",stickyClass:"border-t bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[(0,x.jsx)("div",{}),(0,x.jsx)("div",{className:"md:flex items-center",children:(0,x.jsx)(n.zx,{size:"sm",variant:"solid",loading:i,type:"submit",icon:(0,x.jsx)(g.JMf,{}),children:"Set Appoinment"})})]})]})})}})};var C=a(79739);const A=[{label:"Prescription",value:1},{label:"Letter of Medical Necessity",value:2},{label:"Insurance verification",value:3},{label:"Insurance authorization",value:4},{label:"Delivery Receipt",value:5}],T=e=>{var t,a,l;let{onSubmit:i,selectedData:o}=e;return(0,x.jsxs)("div",{className:"px-5 py-2.5",children:[(0,x.jsxs)("div",{className:"text-base font-bold mb-4",children:["Selected Patient:"," ",(0,x.jsx)("span",{className:"text-blue-900",children:`${null===o||void 0===o||null===(t=o.patientId)||void 0===t?void 0:t.firstName} ${null===o||void 0===o||null===(a=o.patientId)||void 0===a?void 0:a.lastName} (${null===o||void 0===o||null===(l=o.patientId)||void 0===l?void 0:l.patientNo})`})]}),A.map(((e,t)=>(0,x.jsxs)("div",{className:"my-2.5 w-7/12 flex justify-between font-bold text-blue-900 text-base",children:[(0,x.jsxs)("div",{children:[t+1,". ","  ",null===e||void 0===e?void 0:e.label]}),(0,x.jsx)(n.u,{title:"Download",visible:!0,children:(0,x.jsx)("img",{src:C.Y.DOWNLOAD_PDF,alt:"donwload Icon",style:{maxWidth:"20px"},className:"cursor-pointer mx-0.5",onClick:()=>i("onDownload")})},t)]},t)))]})},R=N.Ry().shape({insuranceStatus:N.Ry().required("Required"),insuranceAmount:N.Rx().required("Required"),insuranceNotes:N.Z_().required("Required")}),w=e=>{let{onSubmit:t,selectedData:a}=e;return(0,x.jsx)(y.J9,{initialValues:{insuranceStatus:null!==(null===a||void 0===a?void 0:a.insuranceStatus)?u.Em.find(((e,t)=>e.value===(null===a||void 0===a?void 0:a.insuranceStatus))):"",insuranceAmount:null!==(null===a||void 0===a?void 0:a.insuranceAmount)?null===a||void 0===a?void 0:a.insuranceAmount:"",insuranceNotes:null!==(null===a||void 0===a?void 0:a.insuranceNotes)?null===a||void 0===a?void 0:a.insuranceNotes:""},validationSchema:R,onSubmit:t,enableReinitialize:!0,children:e=>{let{errors:t,touched:a,values:l,isSubmitting:i,setFieldValue:o}=e;return(0,x.jsx)(y.l0,{className:"p-5",children:(0,x.jsxs)(n.Yb,{children:[(0,x.jsx)(n.xJ,{label:"Insurance Status",invalid:(null===t||void 0===t?void 0:t.insuranceStatus)&&(null===a||void 0===a?void 0:a.insuranceStatus),errorMessage:null===t||void 0===t?void 0:t.insuranceStatus,children:(0,x.jsx)(y.gN,{component:n.Ph,autoComplete:"off",placeholder:"Select Status",defaultOptions:!0,cacheOptions:!0,options:u.Em,getOptionLabel:e=>null===e||void 0===e?void 0:e.label,getOptionValue:e=>null===e||void 0===e?void 0:e.value,onChange:e=>o("insuranceStatus",e),name:"insuranceStatus",value:null===l||void 0===l?void 0:l.insuranceStatus})}),(0,x.jsx)(n.xJ,{label:"Insurance Amount in ($) (If Approved)",invalid:(null===t||void 0===t?void 0:t.insuranceAmount)&&(null===a||void 0===a?void 0:a.insuranceAmount),errorMessage:null===t||void 0===t?void 0:t.insuranceAmount,children:(0,x.jsx)(y.gN,{textArea:!1,type:"number",autoComplete:"off",name:"insuranceAmount",placeholder:"Enter Amount",component:n.II})}),(0,x.jsx)(n.xJ,{label:"Remarks",invalid:(null===t||void 0===t?void 0:t.insuranceNotes)&&(null===a||void 0===a?void 0:a.insuranceNotes),errorMessage:null===t||void 0===t?void 0:t.insuranceNotes,children:(0,x.jsx)(y.gN,{textArea:!0,type:"text",autoComplete:"off",name:"insuranceNotes",placeholder:"Enter Remarks",component:n.II})}),(0,x.jsxs)(S.gi,{className:"-mx-8 px-8 flex items-center justify-between py-4",stickyClass:"border-t bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[(0,x.jsx)("div",{}),(0,x.jsx)("div",{className:"md:flex items-center",children:(0,x.jsx)(n.zx,{size:"sm",variant:"solid",loading:i,icon:(0,x.jsx)(g.JMf,{}),type:"submit",children:"Submit"})})]})]})})}})},P=e=>{let{onSubmit:t,selectedData:a}=e;return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(y.J9,{initialValues:{orderStatus:null===a||void 0===a?void 0:a.orderStatus,id:null===a||void 0===a?void 0:a.id},onSubmit:t,enableReinitialize:!0,children:e=>{let{errors:t,touched:a,values:l,isSubmitting:i,setFieldValue:o}=e;return(0,x.jsx)(y.l0,{className:"p-5",children:(0,x.jsxs)(n.Yb,{children:[(0,x.jsx)(n.xJ,{label:"Order Status",children:(0,x.jsx)(y.gN,{component:n.Ph,autoComplete:"off",name:"orderStatus",value:p.IC.find(((e,t)=>e.value===(null===l||void 0===l?void 0:l.orderStatus))),placeholder:"Select Status",options:p.IC,defaultOptions:!0,onChange:e=>o("orderStatus",e),cacheOptions:!0})}),(0,x.jsxs)(S.gi,{className:"-mx-8 px-8 flex items-center justify-between py-4",stickyClass:"border-t bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[(0,x.jsx)("div",{}),(0,x.jsx)("div",{className:"md:flex items-center",children:(0,x.jsx)(n.zx,{size:"sm",variant:"solid",loading:i,icon:(0,x.jsx)(g.JMf,{}),type:"submit",children:"Submit"})})]})]})})}})})},F=e=>{let{selectedKey:t,selectedData:a,closeDialog:i}=e;const[o,r]=(0,l.useState)(),c=e=>{if(t===p.Fh.STATUS_CHANGE){var l;e.orderStatus=null===e||void 0===e||null===(l=e.orderStatus)||void 0===l?void 0:l.value;const t=new FormData;t.append("id",null===a||void 0===a?void 0:a._id),t.append("orderStatus",null===e||void 0===e?void 0:e.orderStatus),(0,s.Fv)(d.vh.ADD_EDIT_PRESCRIPTION,t).then((e=>{n.Am.push((0,x.jsx)(n.P_,{type:"success",children:u.D5})),i()}))}var o;(t===p.Fh.CALENDOR&&(0,s.Fv)(d.vh.ADD_EDIT_SERVICE_ORDER,{...e,id:null===a||void 0===a?void 0:a._id}).then((e=>{n.Am.push((0,x.jsx)(n.P_,{type:"success",children:u.D5})),i()})),t===p.Fh.INSURANCE)&&(e.insuranceStatus=null===e||void 0===e||null===(o=e.insuranceStatus)||void 0===o?void 0:o.value,(0,s.Fv)(d.vh.ADD_EDIT_SERVICE_ORDER,{...e,id:null===a||void 0===a?void 0:a.id}).then((e=>{n.Am.push((0,x.jsx)(n.P_,{type:"success",children:u.D5})),i()})))};return(0,l.useEffect)((()=>{r(p.m0[t])}),[t]),(0,x.jsxs)("div",{style:{minHeight:"250px"},children:[(0,x.jsx)("div",{className:"text-base font-bold\tpl-5",children:o}),t===p.Fh.CALENDOR&&(0,x.jsx)(I,{onSubmit:c,selectedData:a}),t===p.Fh.DOWNLOAD&&(0,x.jsx)(T,{onSubmit:c,selectedData:a}),t===p.Fh.INSURANCE&&(0,x.jsx)(w,{onSubmit:c,selectedData:a}),t===p.Fh.STATUS_CHANGE&&(0,x.jsx)(P,{onSubmit:c,selectedData:a})]})};var k=a(97892),O=a.n(k),_=a(56355),L=a(54167),z=a(52452),$=a(47511),V=a(25764),Z=a(60791);const M=[{label:(0,x.jsx)(_.tU3,{}),key:p.Fh.VIEW,toolTip:"View/Edit",show:()=>(0,$.ZP)($.Fm.SERVICEORDER,$.qz.WRITE)},{label:(0,x.jsx)(_.aBF,{}),key:p.Fh.DOWNLOAD,toolTip:"Download Forms",show:()=>(0,$.ZP)($.Fm.SERVICEORDER,$.qz.READ)},{label:C.Y.EXPORT,key:p.Fh.MEDICAL_NECESSITY,isImage:!0,toolTip:"Medical Necessity",show:()=>(0,$.ZP)($.Fm.SERVICEORDER,$.qz.READ)},{label:C.Y.RECEIPT,key:p.Fh.DELIVERY_RECEIPT,isImage:!0,toolTip:"Delivery Receipt",show:()=>(0,$.ZP)($.Fm.SERVICEORDER,$.qz.READ)},{label:(0,x.jsx)(g.YK6,{style:{fontSize:"1rem"}}),key:p.Fh.DELETE,toolTip:"Delete",show:()=>(0,$.ZP)($.Fm.SERVICEORDER,$.qz.DELETE)}],q=[{label:"Export Excel",key:u.A6.EXPORT,icon:(0,x.jsx)(g.opy,{}),show:()=>(0,$.ZP)($.Fm.SERVICEORDER,$.qz.READ)},{label:"Add Prescription",key:u.A6.ADD,icon:(0,x.jsx)(g.QZL,{})}],H=()=>{const{id:e}=(0,h.UO)(),[t,a]=(0,l.useState)([]),[i,o]=(0,l.useState)(!0),[r,c]=(0,l.useState)(""),[v,m]=(0,l.useState)(1),[b,y]=(0,l.useState)(0),[g,N]=(0,l.useState)(10),[f,j]=(0,l.useState)(!1),[E,I]=(0,l.useState)(""),[C,A]=(0,l.useState)(""),[T,R]=(0,l.useState)({startDate:"",endDate:""}),[w,P]=(0,l.useState)(""),[k,_]=(0,l.useState)(""),[H,U]=(0,l.useState)(""),[W,Y]=(0,l.useState)(""),[J,B]=(0,l.useState)(""),[G,X]=(0,l.useState)(!1),[K,Q]=(0,l.useState)(!1),ee=(0,h.s0)();(0,l.useEffect)((()=>{e&&(0,s.ac)(d.vh.LIST_DATA,{type:d.kD.PATIENTS,id:e}).then((e=>{var t;return P(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data)}))}),[]),(0,l.useEffect)((()=>{const e={limit:g,search:r,patientId:w&&(null===w||void 0===w?void 0:w._id),skip:g*(v-1)};B(e),k&&""!==k&&(e.patientDob=k),C&&null!==C&&void 0!==C&&C.value&&(e.status=null===C||void 0===C?void 0:C.value),null!==T&&void 0!==T&&T.startDate&&null!==T&&void 0!==T&&T.endDate&&(e.startDate=null===T||void 0===T?void 0:T.startDate,e.endDate=null===T||void 0===T?void 0:T.endDate),H&&""!==H&&(e.nad=H),(0,s.ac)(d.vh.GET_SERVICE_ORDER,e).then((e=>{var t,l;a(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data),y(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.count)})).finally((()=>o(!1)))}),[r,v,g,C,w,G,T,k,H]);const te=(e,t,a)=>{e.preventDefault(),t===p.Fh.VIEW?ee(`/app/service-order/edit/${null===a||void 0===a?void 0:a._id}`):t===p.Fh.DELIVERY_RECEIPT?ee(`/app/orderManagement/delivery-receipt/${null===a||void 0===a?void 0:a._id}`):t===p.Fh.MEDICAL_NECESSITY?ee(`/app/orderManagement/medical-necessity/${null===a||void 0===a?void 0:a._id}`):(j(!0),I(t),Y(a))},ae=()=>{I(""),j(!1),X(!G),Y(""),Q(!1)},le=e=>{let{status:t,selectedRow:a}=e;const l=p.IC.find((e=>(null===e||void 0===e?void 0:e.value)===t));return(0,x.jsx)("div",{className:"flex justify-center",onClick:()=>{I(p.Fh.STATUS_CHANGE),j(!0),Y(a)},children:(0,x.jsx)(n.Vp,{className:`bg-${[null===l||void 0===l?void 0:l.color]}-100 text-gray-600 rounded border-0 cursor-pointer`,children:null===l||void 0===l?void 0:l.label})})},ne=[{Header:"Presc. Date",Cell:e=>{const t=e.row.original;return(0,x.jsx)("div",{className:"flex items-center w-35",children:O()(null===t||void 0===t?void 0:t.createdAt).format(u.a1)})}},{Header:"Patient Details",Cell:e=>{var t,a,l;const n=e.row.original;return(0,x.jsxs)("div",{className:"w-40",children:[(0,x.jsx)("p",{children:`${null===n||void 0===n||null===(t=n.patientId)||void 0===t?void 0:t.lastName}, ${null===n||void 0===n||null===(a=n.patientId)||void 0===a?void 0:a.firstName}`}),(0,x.jsx)("span",{className:"text-gray-600 text-xs font-semibold",children:null===n||void 0===n||null===(l=n.patientId)||void 0===l?void 0:l.patientNo})]})}},{Header:"NAD",Cell:e=>{const t=e.row.original;return`${O()(null===t||void 0===t?void 0:t.nextAppointmentDate).format(u.zT)||"-"}`}},{Header:"NAL",Cell:e=>{var t;const a=e.row.original;return`${(null===a||void 0===a||null===(t=a.appointmentLocationId)||void 0===t?void 0:t.name)||"-"}`}},{Header:"LCodes",accessor:"",Cell:e=>{var t;const a=e.row.original;return null===a||void 0===a||null===(t=a.prescriptions)||void 0===t?void 0:t.map(((e,t)=>{var a;return(0,x.jsx)("div",{className:"w-40",children:`${null===e||void 0===e||null===(a=e.lCode)||void 0===a?void 0:a.code} - ${null===e||void 0===e?void 0:e.quantity} qty.`},t)}))}},{Header:"Referring Physician",Cell:e=>{var t,a;const l=e.row.original;return`${null!==l&&void 0!==l&&null!==(t=l.physicianId)&&void 0!==t&&t.name?null===l||void 0===l||null===(a=l.physicianId)||void 0===a?void 0:a.name:""}`}},{Header:"Insurance",accessor:"",Cell:e=>{var t,a;const l=e.row.original;return(0,x.jsx)("div",{className:"flex items-center",children:(null===l||void 0===l||null===(t=l.patientId)||void 0===t||null===(a=t.primaryInsurance)||void 0===a?void 0:a.name)||"Self Pay"})}},{Header:"Presc. Status",accessor:"",Cell:e=>{const t=e.row.original;return(0,x.jsx)(le,{status:null===t||void 0===t?void 0:t.orderStatus,selectedRow:t})}},{Header:"Actions",id:"action",accessor:e=>e,Cell:e=>(0,x.jsx)(z.Z,{row:e.row.original,onActionHandle:te,actionsMenu:M})}];return(0,x.jsxs)(x.Fragment,{children:[e&&w&&(0,x.jsxs)("h3",{children:["Of ",null===w||void 0===w?void 0:w.firstName," ",null===w||void 0===w?void 0:w.lastName]}),(0,x.jsx)(D,{buttonMenu:(0,$.ZP)($.Fm.SERVICEORDER,$.qz.WRITE)?q:q.slice(0,q.length-1),buttonClick:(t,a)=>{if(a===u.A6.ADD){const t="/app/service-order/add";e&&w?ee(t,{state:{patientData:w}}):ee(t)}a===u.A6.EXPORT&&Q(!0)},setSearch:c,filtervalue:C,setFilterValue:A,setFilterPatientId:P,filterPatientId:w,selectedDate:T,setSelectedDate:R,setFilterPatientDob:_,filterPatientDob:k,setFilterNad:U,filterNad:H}),(0,x.jsx)(S.lG,{className:"h-full",bodyClass:"h-full",children:(0,x.jsx)(S.wQ,{isCursor:!1,columns:ne,data:t,loading:i,skeletonAvatarColumns:[0],skeletonAvatarProps:{width:28,height:28},pagingData:{pageIndex:v,pageSize:g,total:b},onPaginationChange:e=>m(e),onSelectChange:e=>N(e)})}),E===p.Fh.DELETE&&(0,x.jsx)(V.Z,{isOpen:f,onConfirmClick:()=>{(0,s.Fv)(d.vh.BLOCK_DELETE_DATA,{id:null===W||void 0===W?void 0:W._id,type:d.kD.PRESCRIPTIONS,status:0}).then((e=>{n.Am.push((0,x.jsx)(Z.Z,{type:"success",children:u.O7})),ae()})).catch((e=>{var t,a;n.Am.push((0,x.jsx)(Z.Z,{type:"error",children:null===e||void 0===e||null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message}))}))},header:u.BI.HEADER,des:u.BI.DELETE,onDialogClose:ae,isWarning:u.BI.WARNING,buttonLabel:"Delete"}),E!==p.Fh.DELETE&&(0,x.jsx)(n.Vq,{isOpen:f,onClose:ae,onRequestClose:ae,contentClassName:"pb-0 px-0 mt-30 min-w-36",children:(0,x.jsx)(F,{selectedKey:E,selectedData:W,closeDialog:ae})}),(0,x.jsx)(L.Z,{Payload:J,user:w,type:"1",isOpen:K,onDialogClose:ae})]})}},83776:(e,t,a)=>{a.d(t,{AH:()=>I,Fh:()=>T,IC:()=>j,MS:()=>C,m0:()=>R,mf:()=>E,qe:()=>w,xG:()=>A});var l=a(73038),n=(a(81724),a(9494)),i=a(48573),o=a.n(i),s=a(11723),d=a(80034),r=a(52639),c=a(97892),u=a.n(c);const v=(e,t)=>{(0,n.ac)(s.vh.LIST_DATA,{type:s.kD.PHYSICIANS,search:e}).then((e=>{var a;const l=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data.map((e=>({label:`${null===e||void 0===e?void 0:e.name}`,value:null===e||void 0===e?void 0:e._id})));t(l)}))},m=(e,t)=>{(0,n.ac)(s.vh.LIST_DATA,{type:s.kD.LOCATIONS,search:e}).then((e=>{var a;const l=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data.map((e=>({label:`${null===e||void 0===e?void 0:e.name}`,value:null===e||void 0===e?void 0:e._id})));t(l)}))},p=o()(v,300),h=o()(v,300),x=o()(((e,t)=>{(0,n.ac)(s.vh.LIST_DATA,{type:s.kD.CODES,search:e,codeType:r.FF.Lcode}).then((e=>{var a;const l=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data.map((e=>({label:null===e||void 0===e?void 0:e.code,value:null===e||void 0===e?void 0:e._id})));t(l)}))}),300),b=o()(((e,t)=>{(0,n.ac)(s.vh.LIST_DATA,{type:s.kD.CODES,search:e,codeType:r.FF.Icd}).then((e=>{var a;const l=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data.map((e=>({label:null===e||void 0===e?void 0:e.code,value:null===e||void 0===e?void 0:e._id})));t(l)}))}),300),D=o()(m,300),S=o()(m,300),y=o()(((e,t)=>{(0,n.ac)(s.vh.LIST_DATA,{type:s.kD.PATIENTS,search:e}).then((e=>{var a;const l=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data.map((e=>({label:`${null===e||void 0===e?void 0:e.firstName} ${null===e||void 0===e?void 0:e.lastName} - ${u()(null===e||void 0===e?void 0:e.dob).format(r.zT)} (${null===e||void 0===e?void 0:e.patientNo})`,value:null===e||void 0===e?void 0:e._id,data:e})));t(l)}))}),300),g=o()(((e,t)=>{(0,n.ac)(s.vh.LIST_DATA,{type:s.kD.DEVICE_TYPES,search:e}).then((e=>{var a;const l=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data.map((e=>({label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e._id})));t(l)}))}),300),N=o()(((e,t)=>{(0,n.ac)(s.vh.LIST_DATA,{type:s.kD.INSURANCES,search:e}).then((e=>{var a;const l=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data.map((e=>({label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e._id})));t(l)}))}),300),f=o()(((e,t)=>{(0,n.ac)(s.vh.LIST_DATA,{type:s.kD.INSURANCES,search:e}).then((e=>{var a;const l=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data.map((e=>({label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e._id})));t(l)}))}),300),j=[{label:"Referral Sent",value:1,color:"red"},{label:"Intake Completed",value:2,color:"indigo"},{label:"Insurance Completed",value:3,color:"blue"},{label:"Order Fulfilment in Process",value:4,color:"emerald"},{label:"Order Fulfilment Completed",value:5,color:"cyan"},{label:"Delivery Ready",value:6,color:"orange"},{label:"Delivered",value:7,color:"green"},{label:"DR Sent to PPS",value:8,color:"purple"},{label:"Billed",value:9,color:"orange"},{label:"RNR",value:10,color:"orange"},{label:"Denied",value:11,color:"red"}],E=[{label:"Self Pay",value:1},{label:"Insurance",value:2}],I=[{name:"patientId",label:"Select Patient (Search with name)",component:"asyncSelect",option:y,placeholder:"Select Patient"},{name:"nextAppointmentDate",label:"Next Appointment Date",component:"datepicker"},{name:"locationId",label:"Select Prescription Location (Search with name)",component:"asyncSelect",option:D,placeholder:"Select Location"},{name:"appointmentLocationId",label:"Next Appointment Location (Search with name)",component:"asyncSelect",option:S,placeholder:"Search/Select with Name"},{name:"physicianId",label:"Referring Physician (Search with name)",component:"asyncSelect",option:p,placeholder:"Search Physician"},{name:"renderingPhysicianId",label:"Rendering Physician (Search with name)",component:"asyncSelect",option:h,placeholder:"Search/Select with Name"},{name:"prescriptionDocument",label:"Upload Prescription",component:"PdfUpload"},{name:"physicianNotes",label:"Physician Notes",type:"switch",component:"switch"}],C=[{name:"primaryInsurance",apiType:"insurance",label:"Primary Insurance",option:N,component:"asyncSelect",placeholder:"Select primary insurance"},{name:"primaryInsuranceNo",label:"Primary Insurance No.",type:"text",component:l.II,placeholder:"Enter primary insurance no.",isBasic:!0},{name:"secondaryInsurance",apiType:"insurance",label:"Secondary Insurance",option:f,component:"asyncSelect",placeholder:"Select secondary insurance"},{name:"secondaryInsuranceNo",label:"Seconday Insurance No.",type:"text",component:l.II,placeholder:"Enter secondary insurance no.",isBasic:!0},{name:"insuranceDocument",label:"Upload Insurance Verification",component:"PdfUpload"},{name:"notes",label:"Notes",type:"text",component:l.II,isBasic:!0,placeholder:"Enter notes",textArea:!0}],A=[{name:"deviceType",label:"Device Type",type:"select",key:"deviceType",option:g,placeholder:"Select",component:d.Z,isMulti:!1},{name:"lCode",label:"LCode",type:"select",key:"lCode",option:x,placeholder:"Select",component:d.Z,isMulti:!1},{name:"icdCode",label:"ICD Code",type:"select",key:"icdCode",option:b,placeholder:"Select",component:d.Z,isMulti:!0},{name:"quantity",label:"LCode Quantity",type:"number",key:"quantity",placeholder:"Enter Quantity",component:l.II}],T={DELETE:"delete",EXPORT:"export",VIEW:"view",CALENDOR:"calendor",DOWNLOAD:"download",INSURANCE:"insurance",STATUS_CHANGE:"statusChange",DELIVERY_RECEIPT:"deliveryReceipt",MEDICAL_NECESSITY:"medicalNecessity"},R={calendor:"Appointment",download:"Download Package",insurance:"Insurance",statusChange:"Update Order Status"},w=[{label:"Left",value:1},{label:"Right",value:2},{label:"Spine",value:3},{label:"Bilateral",value:4}]}}]);
//# sourceMappingURL=1154.1a8d7b6b.chunk.js.map