"use strict";(self.webpackChunknasp=self.webpackChunknasp||[]).push([[1628],{25764:function(e,n,t){t(72791);var i=t(16146),l=t(80184);n.Z=function(e){var n=e.header,t=e.des,o=e.onDialogClose,a=e.isWarning,r=e.onConfirmClick,s=e.isOpen,u=e.buttonLabel;return(0,l.jsx)(i.Vq,{isOpen:s,onClose:o,onRequestClose:o,contentClassName:"pb-0 px-0 mt-36 min-w-36",children:(0,l.jsxs)("div",{className:"px-5 pb-5",children:[(0,l.jsx)("h5",{className:"mb-4",children:n}),(0,l.jsx)("p",{children:t}),a&&(0,l.jsx)("p",{className:"text-red-700",children:a}),(0,l.jsxs)("div",{className:"text-right mt-6",children:[(0,l.jsx)(i.zx,{className:"ltr:mr-2 rtl:ml-2",variant:"plain",onClick:o,children:"Cancel"}),(0,l.jsx)(i.zx,{variant:"solid",onClick:r,children:u})]})]})})}},52452:function(e,n,t){var i=t(23532),l=t(16146),o=t(80184);n.Z=function(e){var n=e.row,t=e.onActionHandle,a=e.actionsMenu,r=(0,i.Z)().textTheme;return(0,o.jsx)("div",{className:"flex items-center justify-between",children:null===a||void 0===a?void 0:a.map((function(e,i){var a,s;if(null===(a=null===e||void 0===e||null===(s=e.show)||void 0===s?void 0:s.call(e))||void 0===a||a)return(0,o.jsx)(l.u,{title:null===e||void 0===e?void 0:e.toolTip,visible:!(null===e||void 0===e||!e.toolTip),children:null!==e&&void 0!==e&&e.isImage?(0,o.jsx)("img",{src:e.label,alt:"view Icon",style:{maxWidth:"20px"},className:"cursor-pointer mx-0.5",onClick:function(i){return t(i,e.key,n)}}):(0,o.jsx)("span",{className:"".concat(r," cursor-pointer select-none font-semibold ml-2 "),onClick:function(i){return t(i,e.key,n)},children:e.label})})}))})}},31673:function(e,n,t){t(72791);var i=t(52639),l=t(16146),o=t(80184);n.Z=function(e){var n,t,a=e.dataObj,r=e.setSelectedData,s=e.setActiveConfirm,u=e.setOpenModal,c=null===a||void 0===a||null===(n=a.row)||void 0===n||null===(t=n.original)||void 0===t?void 0:t._id,d=i.uN.find((function(e,n){var t,i;return e.identifier===(null===a||void 0===a||null===(t=a.row)||void 0===t||null===(i=t.original)||void 0===i?void 0:i.status)}));return(0,o.jsx)(l.XZ,{checked:null===d||void 0===d?void 0:d.value,onChange:function(e){return function(e,n,t){var i="";1===n&&(i=2),2===n&&(i=1),r({id:t,action:i}),s(!0),u(!0)}(0,null===d||void 0===d?void 0:d.identifier,c)}})}},93156:function(e,n,t){var i=t(4942),l=t(1413),o=t(74165),a=t(15861),r=t(29439),s=t(72791),u=t(16146),c=t(10515),d=t(76053),v=t(9494),f=t(11723),m=t(763),p=t(80034),h=t(52639),x=t(60364),C=t(80184),y=function(e){var n=e.buttonMenu,t=e.buttonClick;return(0,C.jsx)("div",{className:"mb-4",children:null===n||void 0===n?void 0:n.map((function(e,n,i){return(0,C.jsx)(u.zx,{size:"sm",variant:"solid",onClick:function(n){return t(n,e.key)},style:{marginLeft:"5px"},icon:e.icon,children:e.label})}))})},b=function(e){var n=e.setSearch,t=e.FilterMenu,y=e.setFilterValue,b=e.filterValue,g=e.asyncApiType,j=e.searchPlaceholder,D=e.setFilterCompanyId,E=e.filterCompanyId,S=(0,x.v9)((function(e){return e.auth.user})),Z=(localStorage.getItem("selectedHospitalId"),(0,s.useState)([])),I=(0,r.Z)(Z,2),T=I[0],A=I[1];(0,s.useEffect)((function(){var e=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(){var n,t,i,l;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null===S||void 0===S||!S.companyId){e.next=7;break}return e.next=4,(0,v.ac)(f.vh.LIST_DATA,{companyIds:JSON.stringify(S.companyId),type:f.kD.COMPANY});case 4:l=e.sent,e.next=10;break;case 7:return e.next=9,(0,v.ac)(f.vh.LIST_DATA,{type:f.kD.COMPANY});case 9:l=e.sent;case 10:console.log(null===(n=l)||void 0===n?void 0:n.data),A((null===(t=l)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.data)||[]),console.log(T),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error("Error loading company list:",e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();e()}),[S]);var k=(0,m.debounce)((function(e,n){(0,v.ac)(1===g?f.vh.GET_USERS:f.vh.GET_CATEGORIES,{search:e}).then((function(e){var t;n(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data)}))}),300);return(0,C.jsxs)("div",{className:"md:flex gap-4 w-full",children:[n&&(0,C.jsx)(c.Z,{placeholder:j,onChange:function(e){return n(e)}}),null===t||void 0===t?void 0:t.map((function(e,t){return(0,C.jsxs)(s.Fragment,{children:["select"===e.component&&(0,C.jsx)(u.Ph,{autoComplete:"off",placeholder:"Company",defaultOptions:!0,cacheOptions:!0,size:"sm",className:"mb-2",value:E,options:T,getOptionLabel:function(e){return"".concat((null===e||void 0===e?void 0:e.name)||"")},getOptionValue:function(e){return null===e||void 0===e?void 0:e._id},onChange:function(e){D(e),y("")}}),"select"===e.component&&(0,C.jsx)(u.Ph,{autoComplete:"off",size:"sm",className:e.className,placeholder:e.placeholder,options:e.options,value:b[null===e||void 0===e?void 0:e.filterKey],onChange:function(n){y((0,l.Z)((0,l.Z)({},b),{},(0,i.Z)({},null===e||void 0===e?void 0:e.filterKey,n)))}}),"resetButton"===e.component&&(0,C.jsx)(u.zx,{size:"sm",className:e.className,onClick:function(){y(null===e||void 0===e?void 0:e.filterKey),D(null),n("")},icon:(0,C.jsx)(d.pYJ,{}),children:e.label}),"asyncSelect"===e.component&&(0,C.jsx)(u.Ph,{autoComplete:"off",placeholder:e.placeholder,defaultOptions:!0,cacheOptions:!0,size:"sm",className:e.className,value:null===b||void 0===b?void 0:b[null===e||void 0===e?void 0:e.filterKey],loadOptions:k,componentAs:p.Z,getOptionLabel:function(n){return"".concat(null===n||void 0===n?void 0:n[e.label]," ").concat(null!==e&&void 0!==e&&e.label1?null===n||void 0===n?void 0:n[e.label1]:"")},getOptionValue:function(e){return null===e||void 0===e?void 0:e.id},onChange:function(n){y((0,l.Z)((0,l.Z)({},b),{},(0,i.Z)({},null===e||void 0===e?void 0:e.filterKey,n)))}}),"datePicker"===e.component&&(0,C.jsx)(u.Mt,{inputtable:!0,clearable:!0,selected:b[null===e||void 0===e?void 0:e.filterKey],onChange:function(n){y((0,l.Z)((0,l.Z)({},b),{},(0,i.Z)({},null===e||void 0===e?void 0:e.filterKey,n)))},size:"sm",placeholder:"Patient DOB (MM/DD/YYYY)",name:"patientDob",className:e.className,placeholderText:e.placeholder,dateFormat:h.zT}),"input"===e.component&&(0,C.jsx)(u.II,{size:"sm",className:e.className,placeholder:e.placeholder,value:b[null===e||void 0===e?void 0:e.filterKey],onChange:function(n){y((0,l.Z)((0,l.Z)({},b),{},(0,i.Z)({},null===e||void 0===e?void 0:e.filterKey,n.target.value)))}})]},t)}))]})};n.Z=function(e){var n=e.buttonMenu,t=e.FilterMenu,i=e.setSearch,l=e.buttonClick,o=e.setFilterValue,a=e.filterValue,r=e.asyncApiType,s=e.searchPlaceholder,u=e.setFilterCompanyId,c=e.filterCompanyId;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:"md:flex items-center justify-end",children:(0,C.jsx)(y,{buttonMenu:n,buttonClick:l})}),(0,C.jsx)("div",{className:"items-center lg:flex",children:(0,C.jsx)(b,{searchPlaceholder:s,setSearch:i,FilterMenu:t,setFilterValue:o,filterValue:a,asyncApiType:r,setFilterCompanyId:u,filterCompanyId:c})})]})}},10515:function(e,n,t){t(72791);var i=t(16146),l=t(58617),o=t(48573),a=t.n(o),r=t(80184);n.Z=function(e){var n=e.onChange,t=e.placeholder,o=a()((function(e){null===n||void 0===n||n(e)}),500);return(0,r.jsx)(i.II,{className:"max-w-md md:w-96 mb-4",size:"sm",placeholder:t?"".concat(t):"Filter by NAL, LCode, Referring Physician",prefix:(0,r.jsx)(l.O6C,{className:"text-lg"}),onChange:function(e){o(e.target.value)}})}},9494:function(e,n,t){t.d(n,{EY:function(){return u},Fv:function(){return s},ac:function(){return r}});var i=t(74165),l=t(15861),o=t(91181),a=t(14712);function r(e,n){return a.Z.get(e,{params:n}).then((function(e){return null===e||void 0===e?void 0:e.data}))}function s(e,n){return a.Z.post(e,n).then((function(e){return null===e||void 0===e?void 0:e.data}))}function u(e){return c.apply(this,arguments)}function c(){return(c=(0,l.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.Z.fetchData({url:"/search/query",method:"post",data:n}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},61628:function(e,n,t){t.r(n),t.d(n,{default:function(){return T}});var i=t(29439),l=t(72791),o=t(9494),a=t(11723),r=t(40018),s=t(16146),u=t(58617),c=t(92506),d=t(62797),v=t(78820),f=t(60364),m=t(80184),p=function(e){var n=e.editData,t=e.onCancel,i=e.onSave,l=e.isLoading;return(0,m.jsxs)("div",{className:"text-right w-full",children:[(0,m.jsx)(s.zx,{className:"mr-2",onClick:t,disabled:l,icon:(0,m.jsx)(v.SV5,{}),children:"Cancel"}),(0,m.jsx)(s.zx,{variant:"solid",type:"submit",onClick:i,disabled:l,icon:(0,m.jsx)(v.JMf,{}),children:null!==n&&void 0!==n&&n.id?"Update":"Save"})]})},h=d.Ry().shape({name:d.Z_().required("Required")}),x={name:"",companyId:""},C=function(e){var n=e.editData,t=e.show,u=e.onClose,d=e.refreshPage,v=localStorage.getItem("selectedHospitalId"),C=(0,l.useState)([]),y=(0,i.Z)(C,2),b=(y[0],y[1],(0,f.v9)((function(e){return e.auth.user})),(0,l.useRef)()),g=(0,l.useState)(!1),j=(0,i.Z)(g,2),D=j[0],E=j[1];return(0,m.jsx)(s.dy,{isOpen:t,onClose:u,onRequestClose:u,closable:!1,bodyClass:"p-0",title:null!==n&&void 0!==n&&n.id?"Edit Device Type":"Add Device Type",footer:(0,m.jsx)(p,{onCancel:u,onSave:function(){var e;return null===b||void 0===b||null===(e=b.current)||void 0===e?void 0:e.submitForm()},isLoading:D,editData:n}),children:(0,m.jsx)(r.lG,{children:(0,m.jsx)(c.J9,{innerRef:b,initialValues:n||x,validationSchema:h,onSubmit:function(e,n){var t=e.name,i=e.id,l=(e.companyId,n.setSubmitting);E(!0);var r={name:t,modelType:a.kD.DEVICE_TYPES,companyId:v};i&&(r.id=i),(0,o.Fv)(a.vh.ADD_EDIT_DATA,r).then((function(){u(),d(),s.Am.push((0,m.jsx)(s.P_,{type:"success",children:"Device Type saved!"}))})).catch((function(){l(!1)})).finally((function(){return E(!1)}))},enableReinitialize:!0,children:function(e){var n=e.errors,t=e.touched;e.setFieldValue,e.values;return(0,m.jsx)(c.l0,{className:"p-5",children:(0,m.jsx)(s.Yb,{children:(0,m.jsx)(s.xJ,{label:"Device Type",invalid:(null===n||void 0===n?void 0:n.name)&&(null===t||void 0===t?void 0:t.name),errorMessage:null===n||void 0===n?void 0:n.name,children:(0,m.jsx)(c.gN,{type:"text",autoComplete:"off",name:"name",placeholder:"Enter Name",component:s.II})})})})}})})})},y=t(52452),b=t(93156),g=t(25764),j=t(52639),D=t(31673),E=t(47511),S=[{label:"Edit",key:j.A6.EDIT,show:function(){return(0,E.ZP)(E.Fm.TYPESOFDEVICES,E.qz.WRITE)}},{label:(0,m.jsx)(v.YK6,{style:{fontSize:"1.2rem"}}),key:j.A6.DELETE,toolTip:"Delete",show:function(){return(0,E.ZP)(E.Fm.TYPESOFDEVICES,E.qz.DELETE)}}],Z=(0,E.ZP)(E.Fm.TYPESOFDEVICES,E.qz.WRITE)?[{label:"Add Device Type",key:j.A6.ADD,icon:(0,m.jsx)(u.HQD,{})}]:[],I={header:j.BI.HEADER,des:j.BI.DELETE,buttonLabel:"Delete"},T=function(){var e=localStorage.getItem("selectedHospitalId"),n=(0,l.useState)([]),t=(0,i.Z)(n,2),u=t[0],c=t[1],d=(0,l.useState)(!1),v=(0,i.Z)(d,2),f=v[0],p=v[1],h=(0,l.useState)(1),x=(0,i.Z)(h,2),T=x[0],A=x[1],k=(0,l.useState)(0),N=(0,i.Z)(k,2),F=N[0],O=N[1],P=(0,l.useState)(10),w=(0,i.Z)(P,2),z=w[0],L=w[1],_=(0,l.useState)(""),V=(0,i.Z)(_,2),M=V[0],Y=V[1],R=(0,l.useState)(!1),K=(0,i.Z)(R,2),H=K[0],q=K[1],B=(0,l.useState)(!1),G=(0,i.Z)(B,2),W=G[0],J=G[1],Q=(0,l.useState)(""),U=(0,i.Z)(Q,2),X=U[0],$=U[1],ee=(0,l.useState)(!1),ne=(0,i.Z)(ee,2),te=ne[0],ie=ne[1],le=(0,l.useState)(!1),oe=(0,i.Z)(le,2),ae=oe[0],re=oe[1];(0,l.useEffect)((function(){p(!0),(0,o.ac)(a.vh.LIST_DATA,{type:a.kD.DEVICE_TYPES,limit:z,search:M,companyId:e,skip:z*(T-1)}).then((function(e){var n,t;c([]),c(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data),O(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.count)})).finally((function(){return p(!1)}))}),[M,T,z,W]);var se=function(e,n,t){n===j.A6.EDIT&&($({id:null===t||void 0===t?void 0:t._id,name:null===t||void 0===t?void 0:t.name}),q(!0)),n===j.A6.DELETE&&($({id:null===t||void 0===t?void 0:t._id}),ie(!0))},ue=[{Header:"name",accessor:"name"},{Header:"Active",Cell:function(e){return(0,m.jsx)(D.Z,{dataObj:e,setSelectedData:$,setActiveConfirm:re,setOpenModal:ie})}},{Header:"Actions",id:"action",accessor:function(e){return e},Cell:function(e){return(0,m.jsx)(y.Z,{row:e.row.original,onActionHandle:se,actionsMenu:S})}}],ce=function(){$(""),ie(!1),re(!1)};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(b.Z,{buttonMenu:Z,setSearch:Y,buttonClick:function(e,n){n===j.A6.ADD&&q(!0)}}),(0,m.jsx)(r.lG,{className:"h-full",bodyClass:"h-full",children:(0,m.jsx)(r.wQ,{columns:(0,E._P)(ue,E.Fm.TYPESOFDEVICES,1),isCursor:!1,data:u,loading:f,skeletonAvatarColumns:[0],skeletonAvatarProps:{width:28,height:28},pagingData:{pageIndex:T,pageSize:z,total:F},onPaginationChange:function(e){return A(e)},onSelectChange:function(e){return L(e)}})}),(0,m.jsx)(C,{show:H,onClose:function(){$(""),q(!1)},refreshPage:function(){return J((function(e){return!e}))},editData:X}),(0,m.jsx)(g.Z,{isOpen:te,onConfirmClick:function(){var e,n={type:a.kD.DEVICE_TYPES,id:null===X||void 0===X?void 0:X.id};ae?(e=j.D5,n.status=+(null===X||void 0===X?void 0:X.action)):(e=j.O7,n.status=0),(0,o.Fv)(a.vh.BLOCK_DELETE_DATA,n).then((function(n){s.Am.push((0,m.jsx)(s.P_,{type:"success",children:e})),J((function(e){return!e})),ce()}))},header:I.header,des:ae?null===j.uF||void 0===j.uF?void 0:j.uF.des:I.des,onDialogClose:ce,isWarning:!ae&&j.BI.WARNING,buttonLabel:ae?null===j.uF||void 0===j.uF?void 0:j.uF.buttonLabel:I.buttonLabel})]})}}}]);
//# sourceMappingURL=1628.0e9ea338.chunk.js.map