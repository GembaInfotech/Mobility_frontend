"use strict";(self.webpackChunknasp=self.webpackChunknasp||[]).push([[829],{54167:function(e,i,n){var l=n(1413),t=n(16146),o=n(54048),a=n(11723),s=(n(72791),n(9494)),r=n(80184);i.Z=function(e){var i=e.type,n=e.onDialogClose,d=e.isOpen,c=e.user,u=e.Payload;return(0,r.jsx)(t.Vq,{isOpen:d,onClose:n,onRequestClose:n,contentClassName:"pb-0 px-0 mt-36 min-w-36",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("p",{className:"text-md mb-6 font-bold ",children:"Please download the Excel file for the data."}),(0,r.jsx)("div",{className:"text-right mt-6",children:(0,r.jsx)(t.zx,{variant:"solid",type:"button",onClick:function(){var e=(0,l.Z)({type:i},u);c&&(e.userId=null===c||void 0===c?void 0:c._id),(0,s.Fv)(a.vh.EXPORT_DATA,e).then((function(e){var i;t.Am.push((0,r.jsx)(t.P_,{type:"success",children:"Exported successfully"}));var l=document.createElement("a");l.href=o.Z.imageBaseUrl+(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.fileName),l.download="file_name.xlsx",document.body.appendChild(l),l.click(),document.body.removeChild(l),n()})).catch((function(e){t.Am.push((0,r.jsxs)(t.P_,{type:"error",children:["Export failed: ",e.message]}))}))},children:"Export/Download File"})})]})})}},27091:function(e,i,n){n(72791);var l=n(16146),t=n(62797),o=n(92506),a=n(40018),s=n(9494),r=n(11723),d=n(52639),c=n(80184),u=[{label:"Password",identifier:"password"},{label:"Confirm Password",identifier:"confirmPassword"}],v=t.Ry().shape({password:t.Z_().required("Please enter a password").min(8,"Password must have at least 8 characters"),confirmPassword:t.Z_().oneOf([t.iH("password"),null],"Your passwords do not match").required("Please enter confirm password")}),m={password:"",confirmPassword:""};i.Z=function(e){var i=e.selectedId,n=e.onDialogClose,t=e.isOpen,f=e.setRefresh;return(0,c.jsx)(l.Vq,{isOpen:t,onClose:n,onRequestClose:n,contentClassName:"pb-0 px-0 mt-36 min-w-36",children:(0,c.jsxs)("div",{className:"px-5 pb-5",children:[(0,c.jsx)("h5",{className:"mb-4",children:"Reset Password"}),(0,c.jsx)(o.J9,{initialValues:m,validationSchema:v,onSubmit:function(e){(0,s.Fv)(r.vh.USER_PASSWORD_RESET,{id:i,password:null===e||void 0===e?void 0:e.password}).then((function(e){l.Am.push((0,c.jsx)(l.P_,{type:"success",children:d.D5})),f((function(e){return!e})),n()}))},children:function(e){var i=e.touched,t=e.errors,s=e.isSubmitting;return(0,c.jsx)(o.l0,{children:(0,c.jsx)(l.Yb,{children:(0,c.jsxs)(c.Fragment,{children:[u.map((function(e,n){return(0,c.jsx)(l.xJ,{label:e.label,invalid:(null===t||void 0===t?void 0:t[e.identifier])&&(null===i||void 0===i?void 0:i[e.identifier]),errorMessage:null===t||void 0===t?void 0:t[e.identifier],children:(0,c.jsx)(o.gN,{autoComplete:"off",name:e.identifier,placeholder:e.label,component:a.WU})},"".concat(e.identifier,"-").concat(n))})),(0,c.jsxs)("div",{className:"text-right mt-6",children:[(0,c.jsx)(l.zx,{className:"ltr:mr-2 rtl:ml-2",variant:"plain",onClick:n,children:"Cancel"}),(0,c.jsx)(l.zx,{className:"ltr:mr-2 rtl:ml-2",loading:s,variant:"solid",type:"submit",children:s?"Reseting...":"Reset"})]})]})})})}})]})})}},26235:function(e,i,n){n.d(i,{L:function(){return r}});var l=n(1413),t=(n(72791),n(81694)),o=n.n(t),a=n(52639),s=n(80184),r="/img/logo/",d=function(e){e.type,e.mode;var i=e.gutter,n=e.className,t=e.imgClass,d=e.style,c=e.logoWidth,u=e.imgHeight,v=void 0===u?100:u,m=e.imgWidth,f=void 0===m?100:m;return(0,s.jsx)("div",{className:o()("logo",n,i),style:(0,l.Z)((0,l.Z)({},d),{width:c}),children:(0,s.jsx)("img",{className:t,src:"".concat(r,"app-logo2.png"),alt:"".concat(a.iC," logo"),style:{width:f,height:v}})})};d.defaultProps={mode:"light",type:"full",logoWidth:"auto"},i.Z=d},50829:function(e,i,n){n.r(i);var l=n(29439),t=n(40018),o=n(72791),a=n(97892),s=n.n(a),r=n(9494),d=n(11723),c=n(16146),u=n(52452),v=n(78820),m=n(25764),f=n(93156),h=n(54048),p=n(52639),x=n(56355),g=n(31673),b=n(27091),j=n(58617),w=n(57689),C=n(26235),N=n(54167),E=n(76053),A=n(47511),S=n(80184),y=[{label:"Clinician",value:1},{label:"Technician",value:2}],D=[{label:"Edit",key:p.A6.EDIT},{label:(0,S.jsx)(x.q2z,{style:{fontSize:"1.2rem"}}),key:p.A6.CHANGE_PASSWORD,toolTip:"Change Password"},{label:(0,S.jsx)(v.YK6,{style:{fontSize:"1.2rem"}}),key:p.A6.DELETE,toolTip:"Delete"}],P={header:p.BI.HEADER,des:p.BI.DELETE,warning:p.BI.WARNING,buttonLabel:"Delete"},Z=[{label:"Add Staff",key:p.A6.ADD,icon:(0,S.jsx)(j.HQD,{})},{label:"Export Excel",key:p.A6.EXPORT,icon:(0,S.jsx)(v.opy,{})}],T=[{component:"select",options:p.W_,className:"mb-4 w-40\t",placeholder:"Status",filterKey:"status"},{component:"resetButton",label:"Reset",icon:(0,S.jsx)(E.pYJ,{}),className:"mb-4",filterKey:{status:""}}],R=function(e){var i,n,l=e.row;return(0,S.jsxs)("div",{className:"flex items-center",children:[null!==(null===l||void 0===l?void 0:l.imageUrlThumbnail)&&null!==l&&void 0!==l&&l.imageUrlThumbnail?(0,S.jsx)(c.qE,{size:28,shape:"circle",className:"mr-2",src:"".concat(h.Z.imageBaseUrl).concat(null===l||void 0===l?void 0:l.imageUrlThumbnail)}):(0,S.jsx)(c.qE,{size:28,shape:"circle",className:"mr-2",children:null===l||void 0===l||null===(i=l.firstName)||void 0===i||null===(n=i[0])||void 0===n?void 0:n.toUpperCase()}),(0,S.jsx)("div",{className:"w-36",children:"".concat(null!==l&&void 0!==l&&l.firstName||null!==l&&void 0!==l&&l.lastName?"".concat(null!==l&&void 0!==l&&l.firstName?null===l||void 0===l?void 0:l.firstName:""," ").concat(null!==l&&void 0!==l&&l.lastName?null===l||void 0===l?void 0:l.lastName:""," \n            "):"-")})]})};i.default=function(){var e=(0,o.useState)(!0),i=(0,l.Z)(e,2),n=i[0],a=i[1],v=(0,o.useState)([]),h=(0,l.Z)(v,2),x=h[0],j=h[1],E=(0,o.useState)(""),F=(0,l.Z)(E,2),O=F[0],_=F[1],k=(0,o.useState)(!1),H=(0,l.Z)(k,2),I=H[0],z=H[1],L=(0,o.useState)(1),U=(0,l.Z)(L,2),W=U[0],q=U[1],M=(0,o.useState)(0),V=(0,l.Z)(M,2),B=V[0],G=V[1],J=(0,o.useState)(10),X=(0,l.Z)(J,2),Y=X[0],K=X[1],Q=(0,o.useState)(""),$=(0,l.Z)(Q,2),ee=$[0],ie=$[1],ne=(0,o.useState)(!1),le=(0,l.Z)(ne,2),te=le[0],oe=le[1],ae=(0,o.useState)(!1),se=(0,l.Z)(ae,2),re=se[0],de=se[1],ce=(0,o.useState)(""),ue=(0,l.Z)(ce,2),ve=ue[0],me=ue[1],fe=(0,o.useState)(!1),he=(0,l.Z)(fe,2),pe=he[0],xe=he[1],ge=(0,o.useState)({status:""}),be=(0,l.Z)(ge,2),je=be[0],we=be[1],Ce=(0,w.s0)();(0,o.useEffect)((function(){var e;(0,r.ac)(d.vh.GET_USERS,{limit:Y,search:O,userType:2,status:null!==je&&void 0!==je&&je.status?null===je||void 0===je||null===(e=je.status)||void 0===e?void 0:e.value:null,skip:Y*(W-1)}).then((function(e){var i,n;j(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.data),G(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.count)})).finally((function(){return a(!1)}))}),[O,W,Y,I,je]);var Ne=function(e,i,n){i===p.A6.DELETE&&(ie({id:null===n||void 0===n?void 0:n.id}),oe(!0)),i===p.A6.EDIT&&Ce("/app/staff/edit/".concat(null===n||void 0===n?void 0:n.id)),i===p.A6.CHANGE_PASSWORD&&me(null===n||void 0===n?void 0:n.id)},Ee=function(){ie(""),oe(!1),de(!1),me(""),xe(!1)},Ae=[{Header:"Actions",id:"action",accessor:function(e){return e},Cell:function(e){return(0,S.jsx)(u.Z,{row:e.row.original,onActionHandle:Ne,actionsMenu:(0,A.Md)(A.Fm.PROVIDER,D)})}},{Header:"Active",Cell:function(e){return(0,S.jsx)(g.Z,{dataObj:e,setSelectedData:ie,setActiveConfirm:de,setOpenModal:oe})}},{Header:"Enrollment Number",Cell:function(e){var i=e.row.original;return null===i||void 0===i?void 0:i.enrollmentNumber}},{Header:"Member Details",Cell:function(e){var i=e.row.original;return(0,S.jsx)(R,{row:i})}},{Header:"Job Type",Cell:function(e){var i=y.find((function(i,n){var l,t;return i.value===(null===e||void 0===e||null===(l=e.row)||void 0===l||null===(t=l.original)||void 0===t?void 0:t.jobType)}));return null!==i&&void 0!==i&&i.label?null===i||void 0===i?void 0:i.label:"-"}},{Header:"Email",Cell:function(e){var i=e.row.original,n=null===i||void 0===i?void 0:i.isEmailVerify;return(0,S.jsxs)("div",{className:"flex items-center whitespace-nowrap",children:[(0,S.jsxs)("p",{children:[null===i||void 0===i?void 0:i.email," "]}),1===n&&(0,S.jsx)("img",{className:"ml-1 h-5 w-5",src:"".concat(C.L,"verified.png"),alt:"".concat(p.iC," logo")})]})}},{Header:"Phone",Cell:function(e){var i=e.row.original,n=null===i||void 0===i?void 0:i.isPhoneVerify;return(0,S.jsxs)("div",{className:"flex items-center whitespace-nowrap",children:[(0,S.jsx)("p",{children:"".concat(null===i||void 0===i?void 0:i.countryCode," ").concat((0,A.Oz)(null===i||void 0===i?void 0:i.phoneNumber))}),1===n&&(0,S.jsx)("img",{className:"ml-1 h-5 w-5",src:"".concat(C.L,"verified.png"),alt:"".concat(p.iC," logo")})]})}},{Header:"Staff ID",Cell:function(e){var i=e.row.original;return null===(null===i||void 0===i?void 0:i.patientNo)?"-":null===i||void 0===i?void 0:i.patientNo}},{Header:"DOB",Cell:function(e){var i=e.row.original;return(0,S.jsx)("div",{className:"flex items-center ",children:s()(null===i||void 0===i?void 0:i.dob).format(p.zT)})}},{Header:"Registered On",Cell:function(e){var i=e.row.original;return(0,S.jsx)("div",{className:"flex items-center w-40",children:s()(null===i||void 0===i?void 0:i.createdAt).format(p.a1)})}}];return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(f.Z,{buttonMenu:(0,A.ZP)(A.Fm.STAFF,A.qz.WRITE)?Z:[null===Z||void 0===Z?void 0:Z[1]],FilterMenu:T,setSearch:_,buttonClick:function(e,i){i===p.A6.ADD&&Ce("/app/staff/add"),i===p.A6.EXPORT&&xe(!0)},setFilterValue:we,filterValue:je,searchPlaceholder:"Search with Name, Email, Mobile"}),(0,S.jsx)(t.lG,{className:"h-full",bodyClass:"h-full",children:(0,S.jsx)(t.wQ,{isCursor:!1,columns:(0,A.wX)(Ae,A.Fm.STAFF),data:x,loading:n,skeletonAvatarColumns:[0],skeletonAvatarProps:{width:28,height:28},pagingData:{pageIndex:W,pageSize:Y,total:B},onPaginationChange:function(e){return q(e)},onSelectChange:function(e){return K(e)}})}),(0,S.jsx)(m.Z,{isOpen:te,onConfirmClick:function(){re?(0,r.Fv)(d.vh.UPDATE_STATUS,{id:null===ee||void 0===ee?void 0:ee.id,action:+(null===ee||void 0===ee?void 0:ee.action)}).then((function(e){c.Am.push((0,S.jsx)(c.P_,{type:"success",children:p.D5})),z((function(e){return!e})),Ee()})):(0,r.Fv)(d.vh.DELETE_DATA,{id:null===ee||void 0===ee?void 0:ee.id,type:2}).then((function(e){c.Am.push((0,S.jsx)(c.P_,{type:"success",children:p.O7})),z((function(e){return!e})),Ee()}))},header:P.header,des:re?null===p.uF||void 0===p.uF?void 0:p.uF.des:P.des,onDialogClose:Ee,isWarning:!re&&P.warning,buttonLabel:re?null===p.uF||void 0===p.uF?void 0:p.uF.buttonLabel:P.buttonLabel}),(0,S.jsx)(b.Z,{isOpen:!!ve,onDialogClose:Ee,selectedId:ve,setRefresh:z}),(0,S.jsx)(N.Z,{type:"2",isOpen:pe,onDialogClose:Ee})]})}}}]);
//# sourceMappingURL=829.ffe0330c.chunk.js.map