"use strict";(self.webpackChunknasp=self.webpackChunknasp||[]).push([[7898],{77898:function(e,n,t){t.r(n),t.d(n,{default:function(){return L}});var a=t(29439),o=t(72791),l=t(57689),i=t(9494),c=t(11723),d=t(16146),r=t(40018),u=t(58617),s=t(76053),v=t(763),p=t(80034),m=t(80184),f=function(e){var n=e.setFilterLocationId,t=e.filterLocationId,r=e.filterCompanyId,u=e.setFilterCompanyId,f=(0,o.useState)([]),h=(0,a.Z)(f,2),y=h[0],I=h[1],S=(0,o.useState)([]),b=(0,a.Z)(S,2),C=b[0],D=b[1],T=localStorage.getItem("selectedHospitalId"),A=(0,v.debounce)((function(e,n){console.log("savedHospitalId",T),(0,i.ac)(c.vh.LIST_DATA,{type:c.kD.LOCATIONS,companyId:T,search:e}).then((function(e){var t,a;n(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data),I(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data)}))}),300),g=(0,v.debounce)((function(e,n){(0,i.ac)(c.vh.LIST_DATA,{type:c.kD.COMPANY,search:e}).then((function(e){var t,a;n(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data),D(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data)}))}),300),E=(0,l.s0)(),L=y.find((function(e){return e._id===t})),N=C.find((function(e){return e._id===r}));return(0,m.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-5",children:[(0,m.jsx)(p.Z,{autoComplete:"off",placeholder:"Filter by Location",defaultOptions:!0,cacheOptions:!0,size:"sm",className:"mb-4",value:L||null,loadOptions:A,getOptionLabel:function(e){return"".concat((null===e||void 0===e?void 0:e.name)||"")},getOptionValue:function(e){return null===e||void 0===e?void 0:e._id},onChange:function(e){console.log("Selected Location: ",e),n(null===e||void 0===e?void 0:e._id)}}),(0,m.jsx)(p.Z,{autoComplete:"off",placeholder:"Filter by Company",defaultOptions:!0,cacheOptions:!0,size:"sm",className:"mb-4",value:N||null,loadOptions:g,getOptionLabel:function(e){return"".concat((null===e||void 0===e?void 0:e.name)||"")},getOptionValue:function(e){return null===e||void 0===e?void 0:e._id},onChange:function(e){console.log("Selected Location: ",e),u(null===e||void 0===e?void 0:e._id)}}),(0,m.jsx)(d.zx,{size:"sm",onClick:function(){n(""),u(""),E("/app/inventory/stockEntry")},icon:(0,m.jsx)(s.pYJ,{}),children:"Reset"})]})},h=function(e){var n=e.setSearch,t=e.buttonMenu,a=e.buttonClick,o=e.filtervalue,l=e.setFilterValue,i=e.filterLocationId,c=e.filterCompanyId,r=e.setFilterLocationId,u=e.setFilterCompanyId,s=function(e){var n=e.buttonClick,t=e.buttonMenu;return(0,m.jsx)("div",{className:"mb-4",children:null===t||void 0===t?void 0:t.map((function(e,t){return(0,m.jsx)(d.zx,{size:"sm",variant:"solid",onClick:function(t){return n(t,e.key)},style:{marginLeft:"5px"},icon:e.icon,children:e.label},t)}))})};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"md:flex items-center justify-end",children:(0,m.jsx)(s,{buttonMenu:t,buttonClick:a})}),(0,m.jsx)("div",{className:"items-center lg:flex",children:(0,m.jsx)(f,{setSearch:n,setFilterValue:l,filtervalue:o,filterCompanyId:c,setFilterLocationId:r,setFilterCompanyId:u,filterLocationId:i})})]})},y=t(52452),I=t(25764),S=t(31673),b=t(47511),C=t(56355),D=t(83776),T=t(52639),A={header:T.BI.HEADER,des:T.BI.DELETE,warning:T.BI.WARNING,buttonLabel:"Delete"},g=[{label:(0,m.jsx)(C.tU3,{}),key:D.Fh.VIEW,toolTip:"View/Edit",show:function(){return(0,b.ZP)(b.Fm.STOCKENTRY,b.qz.WRITE)}}],E=[{label:"Add Stock",key:T.A6.ADD,icon:(0,m.jsx)(u.HQD,{}),show:function(){return(0,b.ZP)(b.Fm.STOCKENTRY,b.qz.WRITE)}}],L=function(){var e=localStorage.getItem("selectedHospitalId"),n=(0,o.useState)([]),t=(0,a.Z)(n,2),u=t[0],s=t[1],v=(0,o.useState)(!0),p=(0,a.Z)(v,2),f=p[0],C=p[1],L=(0,o.useState)(!1),N=(0,a.Z)(L,2),k=N[0],x=N[1],_=(0,o.useState)(1),F=(0,a.Z)(_,2),O=F[0],P=F[1],R=(0,o.useState)(0),Z=(0,a.Z)(R,2),j=Z[0],w=Z[1],H=(0,o.useState)(10),V=(0,a.Z)(H,2),M=V[0],Y=V[1],z=(0,o.useState)(""),U=(0,a.Z)(z,2),W=U[0],B=U[1],q=(0,o.useState)(!1),K=(0,a.Z)(q,2),Q=K[0],G=K[1],J=(0,o.useState)(!1),X=(0,a.Z)(J,2),$=X[0],ee=X[1],ne=(0,o.useState)(""),te=(0,a.Z)(ne,2),ae=te[0],oe=te[1],le=(0,o.useState)(""),ie=(0,a.Z)(le,2),ce=ie[0],de=ie[1],re=(0,o.useState)(""),ue=(0,a.Z)(re,2),se=ue[0],ve=ue[1],pe=(0,o.useState)(""),me=(0,a.Z)(pe,2),fe=(me[0],me[1]),he=(0,l.s0)();console.log("filterCompanyId",se);var ye=e;(0,o.useEffect)((function(){C(!0),se&&(ye=se),(0,i.ac)(c.vh.LIST_DATA,{type:c.kD.STOCK_ENTRY,locationId:ce||"",companyId:ye,limit:M,skip:M*(O-1)}).then((function(e){var n,t;s(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data),w(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.count)})).finally((function(){return C(!1)}))}),[O,M,k,ae,ce,se]);var Ie=function(e,n,t){e.preventDefault(),n===D.Fh.VIEW&&he("/app/stockEntry/edit/".concat(null===t||void 0===t?void 0:t._id),{state:{editData:t}})},Se=function(){B(""),G(!1),ee(!1)},be=[{Header:"LCodes",accessor:function(e){var n;return(null===(n=e.lcodeId)||void 0===n?void 0:n.code)||"-"}},{Header:"Description",accessor:function(e){var n;return(null===(n=e.lcodeId)||void 0===n?void 0:n.description)||"-"}},{Header:"Quantity",accessor:"quantity",Cell:function(e){var n=e.value;return(0,m.jsx)("span",{style:{color:n<=5?"red":"black"},children:n})}},{Header:"Location",accessor:function(e){var n;return(null===(n=e.locationId)||void 0===n?void 0:n.name)||"-"}},{Header:"Active",Cell:function(e){return(0,m.jsx)(S.Z,{dataObj:e,setSelectedData:B,setActiveConfirm:ee,setOpenModal:G})}},{Header:"Actions",id:"action",accessor:function(e){return e},Cell:function(e){return(0,m.jsx)(y.Z,{row:e.row.original,onActionHandle:Ie,actionsMenu:g})}}];return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(h,{buttonMenu:(0,b.ZP)(b.Fm.STOCKENTRY,b.qz.WRITE)?E:E.slice(0,E.length-1),buttonClick:function(e,n){n===T.A6.ADD&&he("/app/stockEntry/add")},setSearch:fe,filtervalue:ae,setFilterValue:oe,setFilterLocationId:de,setFilterCompanyId:ve,filterLocationId:ce,filterCompanyId:se}),(0,m.jsx)(r.lG,{className:"h-full",bodyClass:"h-full",children:(0,m.jsx)(r.wQ,{isCursor:!1,columns:(0,b._P)(be,b.Fm.STOCKENTRY,1),data:u,loading:f,skeletonAvatarColumns:[0],skeletonAvatarProps:{width:28,height:28},pagingData:{pageIndex:O,pageSize:M,total:j},onPaginationChange:function(e){return P(e)},onSelectChange:function(e){return Y(e)}})}),(0,m.jsx)(I.Z,{isOpen:Q,onConfirmClick:function(){var e,n={type:c.kD.INVENTORY,id:null===W||void 0===W?void 0:W.id};$?(e=T.D5,n.status=+(null===W||void 0===W?void 0:W.action)):(e=T.O7,n.status=0),(0,i.Fv)(c.vh.BLOCK_DELETE_DATA,n).then((function(n){d.Am.push((0,m.jsx)(d.P_,{type:"success",children:e})),x((function(e){return!e})),Se()}))},header:A.header,des:$?null===T.uF||void 0===T.uF?void 0:T.uF.des:A.des,onDialogClose:Se,isWarning:!$&&A.warning,buttonLabel:$?null===T.uF||void 0===T.uF?void 0:T.uF.buttonLabel:A.buttonLabel})]})}},83776:function(e,n,t){t.d(n,{AH:function(){return L},Fh:function(){return x},IC:function(){return g},MS:function(){return N},m0:function(){return _},mf:function(){return E},qe:function(){return F},xG:function(){return k}});var a=t(16146),o=(t(62797),t(9494)),l=t(48573),i=t.n(l),c=t(11723),d=t(80034),r=t(52639),u=t(97892),s=t.n(u),v=localStorage.getItem("selectedHospitalId"),p=function(e,n){(0,o.ac)(c.vh.LIST_DATA,{type:c.kD.PHYSICIANS,companyId:v,search:e}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data.map((function(e){return{label:"".concat(null===e||void 0===e?void 0:e.name),value:null===e||void 0===e?void 0:e._id}}));n(a)}))},m=function(e,n){(0,o.ac)(c.vh.LIST_DATA,{type:c.kD.LOCATIONS,companyId:v,search:e}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data.map((function(e){return{label:"".concat(null===e||void 0===e?void 0:e.name),value:null===e||void 0===e?void 0:e._id}}));n(a)}))},f=i()(p,300),h=i()(p,300),y=i()((function(e,n){(0,o.ac)(c.vh.LIST_DATA,{type:c.kD.CODES,companyId:v,search:e,codeType:r.FF.Lcode}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data.map((function(e){return{label:null===e||void 0===e?void 0:e.code,value:null===e||void 0===e?void 0:e._id}}));n(a)}))}),300),I=i()((function(e,n){(0,o.ac)(c.vh.LIST_DATA,{type:c.kD.CODES,companyId:v,search:e,codeType:r.FF.Icd}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data.map((function(e){return{label:null===e||void 0===e?void 0:e.code,value:null===e||void 0===e?void 0:e._id}}));n(a)}))}),300),S=i()(m,300),b=i()(m,300),C=i()((function(e,n){(0,o.ac)(c.vh.LIST_DATA,{type:c.kD.PATIENTS,companyId:v,search:e}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data.map((function(e){return{label:"".concat(null===e||void 0===e?void 0:e.firstName," ").concat(null===e||void 0===e?void 0:e.lastName," - ").concat(s()(null===e||void 0===e?void 0:e.dob).format(r.zT)," (").concat(null===e||void 0===e?void 0:e.patientNo,")"),value:null===e||void 0===e?void 0:e._id,data:e}}));n(a)}))}),300),D=i()((function(e,n){(0,o.ac)(c.vh.LIST_DATA,{type:c.kD.DEVICE_TYPES,companyId:v,search:e}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data.map((function(e){return{label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e._id}}));n(a)}))}),300),T=i()((function(e,n){(0,o.ac)(c.vh.LIST_DATA,{type:c.kD.INSURANCES,companyId:v,search:e}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data.map((function(e){return{label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e._id}}));n(a)}))}),300),A=i()((function(e,n){(0,o.ac)(c.vh.LIST_DATA,{type:c.kD.INSURANCES,companyId:v,search:e}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data.map((function(e){return{label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e._id}}));n(a)}))}),300),g=[{label:"Referral Sent",value:1,color:"red"},{label:"Intake Completed",value:2,color:"indigo"},{label:"Insurance in process",value:13,color:"emerald"},{label:"Insurance Completed",value:3,color:"blue"},{label:"Order Fulfilment in Process",value:4,color:"emerald"},{label:"Order Fulfilment Completed",value:5,color:"cyan"},{label:"Delivery Ready",value:6,color:"orange"},{label:"Delivery Scheduled",value:15,color:"orange"},{label:"Dropship in Process",value:12,color:"emerald"},{label:"Delivered",value:7,color:"green"},{label:"DR Sent to PPS",value:8,color:"purple"},{label:"Billed",value:9,color:"orange"},{label:"RNR",value:10,color:"orange"},{label:"Denied",value:11,color:"red"},{label:"High Deductible",value:14,color:"emerald"}],E=[{label:"Self Pay",value:1},{label:"Insurance",value:2}],L=[{name:"patientId",label:"Select Patient (Search with name)",component:"asyncSelect",option:C,placeholder:"Select Patient"},{name:"nextAppointmentDate",label:"Next Appointment Date",component:"datepicker"},{name:"locationId",label:"Select Prescription Location (Search with name)",component:"asyncSelect",option:S,placeholder:"Select Location"},{name:"appointmentLocationId",label:"Next Appointment Location (Search with name)",component:"asyncSelect",option:b,placeholder:"Search/Select with Name"},{name:"physicianId",label:"Referring Physician (Search with name)",component:"asyncSelect",option:f,placeholder:"Search Physician"},{name:"renderingPhysicianId",label:"Rendering Physician (Search with name)",component:"asyncSelect",option:h,placeholder:"Search/Select with Name"},{name:"prescriptionDocument",label:"Upload Prescription",component:"PdfUpload"},{name:"physicianNotes",label:"Physician Notes",type:"switch",component:"switch"}],N=[{name:"primaryInsurance",apiType:"insurance",label:"Primary Insurance",option:T,component:"asyncSelect",placeholder:"Select primary insurance"},{name:"primaryInsuranceNo",label:"Primary Insurance No.",type:"text",component:a.II,placeholder:"Enter primary insurance no.",isBasic:!0},{name:"secondaryInsurance",apiType:"insurance",label:"Secondary Insurance",option:A,component:"asyncSelect",placeholder:"Select secondary insurance"},{name:"secondaryInsuranceNo",label:"Seconday Insurance No.",type:"text",component:a.II,placeholder:"Enter secondary insurance no.",isBasic:!0},{name:"insuranceDocument",label:"Upload Insurance Verification",component:"PdfUpload"},{name:"notes",label:"Notes",type:"text",component:a.II,isBasic:!0,placeholder:"Enter notes",textArea:!0}],k=[{name:"deviceType",label:"Device Type",type:"select",key:"deviceType",option:D,placeholder:"Select",component:d.Z,isMulti:!1},{name:"lCode",label:"LCode",type:"select",key:"lCode",option:y,placeholder:"Select",component:d.Z,isMulti:!1},{name:"icdCode",label:"ICD Code",type:"select",key:"icdCode",option:I,placeholder:"Select",component:d.Z,isMulti:!0},{name:"quantity",label:"LCode Quantity",type:"number",key:"quantity",placeholder:"Enter Quantity",component:a.II}],x={DELETE:"delete",EXPORT:"export",VIEW:"view",CALENDOR:"calendor",DOWNLOAD:"download",INSURANCE:"insurance",STATUS_CHANGE:"statusChange",DELIVERY_RECEIPT:"deliveryReceipt",MEDICAL_NECESSITY:"medicalNecessity",STATUS_VIEW:"statusView"},_={calendor:"Appointment",download:"Download Package",insurance:"Insurance",statusChange:"Update Order Status"},F=[{label:"Left",value:1},{label:"Right",value:2},{label:"Spine",value:3},{label:"Bilateral",value:4}]}}]);
//# sourceMappingURL=7898.0382a09d.chunk.js.map