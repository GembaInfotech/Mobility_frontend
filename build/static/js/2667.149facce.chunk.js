"use strict";(self.webpackChunknasp=self.webpackChunknasp||[]).push([[2667],{79739:(e,l,i)=>{i.d(l,{Y:()=>s});const s={VIEW_IMAGE:"/img/prescription.png",REPLY:"/img/reply.png",STATUS:"/img/status.png",EXPORT:"/img/fileExport.svg",RECEIPT:"/img/receipt.svg",DOWNLOAD_PDF:"/img/download.png"}},25764:(e,l,i)=>{i.d(l,{Z:()=>a});i(72791);var s=i(73038),n=i(80184);const a=e=>{let{header:l,des:i,onDialogClose:a,isWarning:t,onConfirmClick:o,isOpen:d,buttonLabel:r}=e;return(0,n.jsx)(s.Vq,{isOpen:d,onClose:a,onRequestClose:a,contentClassName:"pb-0 px-0 mt-36 min-w-36",children:(0,n.jsxs)("div",{className:"px-5 pb-5",children:[(0,n.jsx)("h5",{className:"mb-4",children:l}),(0,n.jsx)("p",{children:i}),t&&(0,n.jsx)("p",{className:"text-red-700",children:t}),(0,n.jsxs)("div",{className:"text-right mt-6",children:[(0,n.jsx)(s.zx,{className:"ltr:mr-2 rtl:ml-2",variant:"plain",onClick:a,children:"Cancel"}),(0,n.jsx)(s.zx,{variant:"solid",onClick:o,children:r})]})]})})}},52452:(e,l,i)=>{i.d(l,{Z:()=>t});var s=i(23532),n=i(73038),a=i(80184);const t=e=>{let{row:l,onActionHandle:i,actionsMenu:t}=e;const{textTheme:o}=(0,s.Z)();return(0,a.jsx)("div",{className:"flex items-center justify-between",children:null===t||void 0===t?void 0:t.map(((e,s)=>{var t,d;if(null===(t=null===e||void 0===e||null===(d=e.show)||void 0===d?void 0:d.call(e))||void 0===t||t)return(0,a.jsx)(n.u,{title:null===e||void 0===e?void 0:e.toolTip,visible:!(null===e||void 0===e||!e.toolTip),children:null!==e&&void 0!==e&&e.isImage?(0,a.jsx)("img",{src:e.label,alt:"view Icon",style:{maxWidth:"20px"},className:"cursor-pointer mx-0.5",onClick:s=>i(s,e.key,l)}):(0,a.jsx)("span",{className:`${o} cursor-pointer select-none font-semibold ml-2 `,onClick:s=>i(s,e.key,l),children:e.label})})}))})}},31673:(e,l,i)=>{i.d(l,{Z:()=>t});i(72791);var s=i(52639),n=i(73038),a=i(80184);const t=e=>{var l,i;let{dataObj:t,setSelectedData:o,setActiveConfirm:d,setOpenModal:r}=e;const c=null===t||void 0===t||null===(l=t.row)||void 0===l||null===(i=l.original)||void 0===i?void 0:i._id,u=s.uN.find(((e,l)=>{var i,s;return e.identifier===(null===t||void 0===t||null===(i=t.row)||void 0===i||null===(s=i.original)||void 0===s?void 0:s.status)}));return(0,a.jsx)(n.XZ,{checked:null===u||void 0===u?void 0:u.value,onChange:e=>((e,l,i)=>{let s="";1===l&&(s=2),2===l&&(s=1),o({id:i,action:s}),d(!0),r(!0)})(0,null===u||void 0===u?void 0:u.identifier,c)})}},54167:(e,l,i)=>{i.d(l,{Z:()=>d});var s=i(73038),n=i(54048),a=i(11723),t=(i(72791),i(9494)),o=i(80184);const d=e=>{let{type:l,onDialogClose:i,isOpen:d,user:r,Payload:c}=e;return(0,o.jsx)(s.Vq,{isOpen:d,onClose:i,onRequestClose:i,contentClassName:"pb-0 px-0 mt-36 min-w-36",children:(0,o.jsxs)("div",{className:"p-6",children:[(0,o.jsx)("p",{className:"text-md mb-6 font-bold ",children:"Please download the Excel file for the data."}),(0,o.jsx)("div",{className:"text-right mt-6",children:(0,o.jsx)(s.zx,{variant:"solid",type:"button",onClick:()=>{const e={type:l,...c};r&&(e.userId=null===r||void 0===r?void 0:r._id),(0,t.Fv)(a.vh.EXPORT_DATA,e).then((e=>{var l;s.Am.push((0,o.jsx)(s.P_,{type:"success",children:"Exported successfully"}));const a=document.createElement("a");a.href=n.Z.imageBaseUrl+(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.fileName),a.download="file_name.xlsx",document.body.appendChild(a),a.click(),document.body.removeChild(a),i()})).catch((e=>{s.Am.push((0,o.jsxs)(s.P_,{type:"error",children:["Export failed: ",e.message]}))}))},children:"Export/Download File"})})]})})}},93156:(e,l,i)=>{i.d(l,{Z:()=>h});var s=i(72791),n=i(73038),a=i(10515),t=i(76053),o=i(9494),d=i(11723),r=i(763),c=i(80034),u=i(52639),v=i(80184);const m=e=>{let{buttonMenu:l,buttonClick:i}=e;return(0,v.jsx)("div",{className:"mb-4",children:null===l||void 0===l?void 0:l.map(((e,l,s)=>(0,v.jsx)(n.zx,{size:"sm",variant:"solid",onClick:l=>i(l,e.key),style:{marginLeft:"5px"},icon:e.icon,children:e.label})))})},p=e=>{let{setSearch:l,FilterMenu:i,setFilterValue:m,filterValue:p,asyncApiType:h,searchPlaceholder:x}=e;const f=(0,r.debounce)(((e,l)=>{(0,o.ac)(1===h?d.vh.GET_USERS:d.vh.GET_CATEGORIES,{search:e}).then((e=>{var i;l(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.data)}))}),300);return(0,v.jsxs)("div",{className:"md:flex gap-4 w-full",children:[(0,v.jsx)(a.Z,{placeholder:x,onChange:e=>l(e)}),null===i||void 0===i?void 0:i.map(((e,i)=>(0,v.jsxs)(s.Fragment,{children:["select"===e.component&&(0,v.jsx)(n.Ph,{autoComplete:"off",size:"sm",className:e.className,placeholder:e.placeholder,options:e.options,value:p[null===e||void 0===e?void 0:e.filterKey],onChange:l=>{m({...p,[null===e||void 0===e?void 0:e.filterKey]:l})}}),"resetButton"===e.component&&(0,v.jsx)(n.zx,{size:"sm",className:e.className,onClick:()=>{m(null===e||void 0===e?void 0:e.filterKey),l("")},icon:(0,v.jsx)(t.pYJ,{}),children:e.label}),"asyncSelect"===e.component&&(0,v.jsx)(n.Ph,{autoComplete:"off",placeholder:e.placeholder,defaultOptions:!0,cacheOptions:!0,size:"sm",className:e.className,value:null===p||void 0===p?void 0:p[null===e||void 0===e?void 0:e.filterKey],loadOptions:f,componentAs:c.Z,getOptionLabel:l=>`${null===l||void 0===l?void 0:l[e.label]} ${null!==e&&void 0!==e&&e.label1?null===l||void 0===l?void 0:l[e.label1]:""}`,getOptionValue:e=>null===e||void 0===e?void 0:e.id,onChange:l=>{m({...p,[null===e||void 0===e?void 0:e.filterKey]:l})}}),"datePicker"===e.component&&(0,v.jsx)(n.Mt,{inputtable:!0,clearable:!0,selected:p[null===e||void 0===e?void 0:e.filterKey],onChange:l=>{m({...p,[null===e||void 0===e?void 0:e.filterKey]:l})},size:"sm",placeholder:"Patient DOB (MM/DD/YYYY)",name:"patientDob",className:e.className,placeholderText:e.placeholder,dateFormat:u.zT}),"input"===e.component&&(0,v.jsx)(n.II,{size:"sm",className:e.className,placeholder:e.placeholder,value:p[null===e||void 0===e?void 0:e.filterKey],onChange:l=>{m({...p,[null===e||void 0===e?void 0:e.filterKey]:l.target.value})}})]},i)))]})},h=e=>{let{buttonMenu:l,FilterMenu:i,setSearch:s,buttonClick:n,setFilterValue:a,filterValue:t,asyncApiType:o,searchPlaceholder:d}=e;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"md:flex items-center justify-end",children:(0,v.jsx)(m,{buttonMenu:l,buttonClick:n})}),(0,v.jsx)("div",{className:"items-center lg:flex",children:(0,v.jsx)(p,{searchPlaceholder:d,setSearch:s,FilterMenu:i,setFilterValue:a,filterValue:t,asyncApiType:o})})]})}},10515:(e,l,i)=>{i.d(l,{Z:()=>d});i(72791);var s=i(73038),n=i(58617),a=i(48573),t=i.n(a),o=i(80184);const d=e=>{let{onChange:l,placeholder:i}=e;const a=t()((function(e){null===l||void 0===l||l(e)}),500);return(0,o.jsx)(s.II,{className:"max-w-md md:w-96 mb-4",size:"sm",placeholder:i?`${i}`:"Filter by NAL, LCode, Referring Physician",prefix:(0,o.jsx)(n.O6C,{className:"text-lg"}),onChange:e=>{a(e.target.value)}})}},9494:(e,l,i)=>{i.d(l,{EY:()=>o,Fv:()=>t,ac:()=>a});var s=i(91181),n=i(14712);function a(e,l){return n.Z.get(e,{params:l}).then((e=>null===e||void 0===e?void 0:e.data))}function t(e,l){return n.Z.post(e,l).then((e=>null===e||void 0===e?void 0:e.data))}async function o(e){return s.Z.fetchData({url:"/search/query",method:"post",data:e})}},2667:(e,l,i)=>{i.r(l),i.d(l,{default:()=>F});var s=i(40018),n=i(72791),a=i(97892),t=i.n(a),o=i(9494),d=i(11723),r=i(73038),c=i(52452),u=i(78820),v=i(25764),m=i(93156),p=i(58617),h=i(57689),x=i(54048),f=i(52639),b=i(79739),g=i(31673),N=i(81724),j=i(92506),C=i(80184);const E=[{label:"Password",identifier:"password"},{label:"Confirm Password",identifier:"confirmPassword"}],w=N.Ry().shape({password:N.Z_().required("Please enter a password").min(8,"Password must have at least 8 characters"),confirmPassword:N.Z_().oneOf([N.iH("password"),null],"Your passwords do not match").required("Please enter confirm password")}),A={password:"",confirmPassword:""},y=e=>{let{selectedId:l,onDialogClose:i,isOpen:n,setRefresh:a}=e;return(0,C.jsx)(r.Vq,{isOpen:n,onClose:i,onRequestClose:i,contentClassName:"pb-0 px-0 mt-36 min-w-36",children:(0,C.jsxs)("div",{className:"px-5 pb-5",children:[(0,C.jsx)("h5",{className:"mb-4",children:"Reset Password"}),(0,C.jsx)(j.J9,{initialValues:A,validationSchema:w,onSubmit:e=>{(0,o.Fv)(d.vh.USER_PASSWORD_RESET,{id:l,password:null===e||void 0===e?void 0:e.password}).then((e=>{r.Am.push((0,C.jsx)(r.P_,{type:"success",children:f.D5})),a((e=>!e)),i()}))},children:e=>{let{touched:l,errors:n,isSubmitting:a}=e;return(0,C.jsx)(j.l0,{children:(0,C.jsx)(r.Yb,{children:(0,C.jsxs)(C.Fragment,{children:[E.map(((e,i)=>(0,C.jsx)(r.xJ,{label:e.label,invalid:(null===n||void 0===n?void 0:n[e.identifier])&&(null===l||void 0===l?void 0:l[e.identifier]),errorMessage:null===n||void 0===n?void 0:n[e.identifier],children:(0,C.jsx)(j.gN,{autoComplete:"off",name:e.identifier,placeholder:e.label,component:s.WU})},`${e.identifier}-${i}`))),(0,C.jsxs)("div",{className:"text-right mt-6",children:[(0,C.jsx)(r.zx,{className:"ltr:mr-2 rtl:ml-2",variant:"plain",onClick:i,children:"Cancel"}),(0,C.jsx)(r.zx,{className:"ltr:mr-2 rtl:ml-2",loading:a,variant:"solid",type:"submit",children:a?"Reseting...":"Reset"})]})]})})})}})]})})};var D=i(54167),T=i(76053),P=i(47511);const S=[{label:"Edit",key:f.A6.EDIT,show:()=>(0,P.ZP)(P.Fm.PATIENT,P.qz.WRITE)},{label:(0,C.jsx)(u.YK6,{style:{fontSize:"1.1rem"}}),key:f.A6.DELETE,show:()=>(0,P.ZP)(P.Fm.PATIENT,P.qz.DELETE),toolTip:"Delete"},{label:b.Y.VIEW_IMAGE,key:f.A6.NAVIGATE,isImage:!0,toolTip:"View Prescriptions",show:()=>(0,P.ZP)(P.Fm.SERVICEORDER,P.qz.READ)}],I={header:f.BI.HEADER,des:f.BI.DELETE,warning:f.BI.WARNING,buttonLabel:"Delete"},O=[{label:"Add Patient",key:f.A6.ADD,icon:(0,C.jsx)(p.HQD,{})}],k=[{component:"select",options:f.W_,className:"mb-4 w-40",placeholder:"Status",filterKey:"status"},{component:"datePicker",placeholder:"DOB",className:"mb-4 w-64",filterKey:"dob"},{component:"input",placeholder:"Mobile Number",className:"mb-4 w-40",filterKey:"mobile"},{component:"resetButton",label:"Reset",icon:(0,C.jsx)(T.pYJ,{}),className:"mb-4",filterKey:{status:"",dob:null,search:""}}],F=()=>{const[e,l]=(0,n.useState)(!0),[i,a]=(0,n.useState)([]),[u,p]=(0,n.useState)(""),[b,N]=(0,n.useState)(!1),[j,E]=(0,n.useState)(1),[w,A]=(0,n.useState)(0),[T,F]=(0,n.useState)(10),[R,M]=(0,n.useState)(""),[Z,z]=(0,n.useState)(!1),[_,Y]=(0,n.useState)(!1),[V,L]=(0,n.useState)(""),[q,K]=(0,n.useState)(!1),$=(0,h.s0)(),[H,W]=(0,n.useState)({status:""}),B=e=>{var l,i;let{row:s}=e;return(0,C.jsxs)("div",{className:"flex items-center",children:[null!==(null===s||void 0===s?void 0:s.imageUrlThumbnail)&&null!==s&&void 0!==s&&s.imageUrlThumbnail?(0,C.jsx)(r.qE,{size:28,shape:"circle",className:"mr-2",src:`${x.Z.imageBaseUrl}${null===s||void 0===s?void 0:s.imageUrlThumbnail}`}):(0,C.jsx)(r.qE,{size:28,shape:"circle",className:"mr-2",children:null===s||void 0===s||null===(l=s.firstName)||void 0===l||null===(i=l[0])||void 0===i?void 0:i.toUpperCase()}),(0,C.jsx)("div",{className:"w-32",children:""+(null!==s&&void 0!==s&&s.firstName||null!==s&&void 0!==s&&s.lastName?`${null!==s&&void 0!==s&&s.lastName?null===s||void 0===s?void 0:s.lastName:""}, ${null!==s&&void 0!==s&&s.firstName?null===s||void 0===s?void 0:s.firstName:""} `:"-")})]})};(0,n.useEffect)((()=>{var e;(0,o.ac)(d.vh.LIST_DATA,{type:d.kD.PATIENTS,limit:T,search:u,status:null!==H&&void 0!==H&&H.status?null===H||void 0===H||null===(e=H.status)||void 0===e?void 0:e.value:null,patientDob:null!==H&&void 0!==H&&H.dob?t()(H.dob).format("MM/DD/YYYY"):null,mobile:null!==H&&void 0!==H&&H.mobile?H.mobile:null,skip:T*(j-1)}).then((e=>{var l,i;a(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.data),A(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.count)})).finally((()=>l(!1)))}),[u,j,T,b,H]);const U=(e,l,i)=>{l===f.A6.DELETE&&(M({id:null===i||void 0===i?void 0:i._id}),z(!0)),l===f.A6.EDIT&&$(`/app/patient/edit/${null===i||void 0===i?void 0:i._id}`),l===f.A6.NAVIGATE&&$(`/app/orderManagement/service-order/${null===i||void 0===i?void 0:i._id}`)},G=()=>{M(""),z(!1),Y(!1),K(!1),L("")},X=[{Header:"Patient ID",Cell:e=>{const l=e.row.original;return null===(null===l||void 0===l?void 0:l.patientNo)?"-":null===l||void 0===l?void 0:l.patientNo}},{Header:"Patient Name",Cell:e=>{const l=e.row.original;return(0,C.jsx)(B,{row:l})}},{Header:"Mobile",Cell:e=>{const l=e.row.original;return(0,C.jsx)("div",{className:"flex items-center whitespace-nowrap",children:(0,C.jsx)("p",{children:`${null===l||void 0===l?void 0:l.countryCode} ${(0,P.Oz)(null===l||void 0===l?void 0:l.phoneNumber)}`})})}},{Header:"DOB",Cell:e=>{const l=e.row.original;return(0,C.jsx)("div",{className:"flex items-center ",children:t()(null===l||void 0===l?void 0:l.dob).format("MM/DD/YYYY")})}},{Header:"NASPAC Case No.",Cell:e=>{const l=e.row.original;return(0,C.jsx)("div",{className:"flex items-center ",children:null!==l&&void 0!==l&&l.naspacNo?null===l||void 0===l?void 0:l.naspacNo:"-"})}},{Header:"Registered On",Cell:e=>{const l=e.row.original;return(0,C.jsx)("div",{className:"flex items-center ",children:t()(null===l||void 0===l?void 0:l.createdAt).format(f.a1)})}},{Header:"Active",Cell:e=>(0,C.jsx)(g.Z,{dataObj:e,setSelectedData:M,setActiveConfirm:Y,setOpenModal:z})},{Header:"Actions",id:"action",accessor:e=>e,Cell:e=>(0,C.jsx)(c.Z,{row:e.row.original,onActionHandle:U,actionsMenu:S})}];return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(m.Z,{buttonMenu:(0,P.ZP)(P.Fm.PATIENT,P.qz.WRITE)?O:O.slice(0,O.length-1),FilterMenu:k,setSearch:p,buttonClick:(e,l)=>{l===f.A6.ADD&&$("/app/patient/add"),l===f.A6.EXPORT&&K(!0)},setFilterValue:W,filterValue:H,searchPlaceholder:"Search with Code, Name, Email, Mobile"}),(0,C.jsx)(s.lG,{className:"h-full",bodyClass:"h-full",children:(0,C.jsx)(s.wQ,{isCursor:!1,columns:(0,P.wX)(X,P.Fm.PATIENT),data:i,loading:e,skeletonAvatarColumns:[0],skeletonAvatarProps:{width:28,height:28},pagingData:{pageIndex:j,pageSize:T,total:w},onPaginationChange:e=>E(e),onSelectChange:e=>F(e)})}),(0,C.jsx)(v.Z,{isOpen:Z,onConfirmClick:()=>{let e;const l={type:d.kD.PATIENTS,id:null===R||void 0===R?void 0:R.id};_?(e=f.D5,l.status=+(null===R||void 0===R?void 0:R.action)):(e=f.O7,l.status=0),(0,o.Fv)(d.vh.BLOCK_DELETE_DATA,l).then((l=>{r.Am.push((0,C.jsx)(r.P_,{type:"success",children:e})),N((e=>!e)),G()}))},header:I.header,des:_?null===f.uF||void 0===f.uF?void 0:f.uF.des:I.des,onDialogClose:G,isWarning:!_&&I.warning,buttonLabel:_?null===f.uF||void 0===f.uF?void 0:f.uF.buttonLabel:I.buttonLabel}),(0,C.jsx)(y,{isOpen:!!V,onDialogClose:G,selectedId:V,setRefresh:N}),(0,C.jsx)(D.Z,{type:"3",isOpen:q,onDialogClose:G})]})}}}]);
//# sourceMappingURL=2667.149facce.chunk.js.map