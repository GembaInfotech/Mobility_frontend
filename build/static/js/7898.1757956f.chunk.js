"use strict";(self.webpackChunknasp=self.webpackChunknasp||[]).push([[7898],{77898:function(e,n,o){o.r(n),o.d(n,{default:function(){return E}});var t=o(29439),a=o(72791),l=o(57689),i=o(9494),c=o(11723),d=o(16146),r=o(40018),u=o(58617),s=o(76053),v=o(763),p=o(80034),m=o(80184),f=function(e){var n=e.setFilterLocationId,o=e.filterLocationId,r=e.filterCompanyId,u=e.setFilterCompanyId,f=e.setFilterLCodes,h=e.filterLCodes,y=(0,a.useState)([]),I=(0,t.Z)(y,2),S=I[0],b=I[1],C=(0,a.useState)([]),D=(0,t.Z)(C,2),L=D[0],g=D[1],T=(0,a.useState)(null),A=(0,t.Z)(T,2),E=A[0],N=A[1],k=(0,a.useState)([]),O=(0,t.Z)(k,2),F=O[0],x=O[1],_=localStorage.getItem("selectedHospitalId");console.log("Locations",S),console.log("codes",F);var P=(0,v.debounce)((function(e,n){console.log("savedHospitalId",_),(0,i.ac)(c.vh.LIST_DATA,{type:c.kD.LOCATIONS,companyId:_,search:e}).then((function(e){var o,t;n(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.data),b(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data)}))}),300),Z=(0,v.debounce)((function(e,n){(0,i.ac)(c.vh.LIST_DATA,{type:c.kD.COMPANY,search:e}).then((function(e){var o,t;n(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.data),g(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data)}))}),300),R=(0,v.debounce)((function(e,n){(0,i.ac)(c.vh.LIST_DATA,{type:c.kD.CODES,companyId:_,search:e}).then((function(e){var o,t;n(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.data),x(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data)}))}),300),j=(0,l.s0)();console.log("Codes",R);var w=S.find((function(e){return e._id===o})),H=L.find((function(e){return e._id===r}));return(0,a.useEffect)((function(){var e=F.find((function(e){return e.id===h}));N(e||null)}),[h]),console.log("LCodes",E),(0,m.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-5",children:[(0,m.jsx)(p.Z,{autoComplete:"off",placeholder:"Filter by Location",defaultOptions:!0,cacheOptions:!0,size:"sm",className:"mb-4",value:w||null,loadOptions:P,getOptionLabel:function(e){return"".concat((null===e||void 0===e?void 0:e.name)||"")},getOptionValue:function(e){return null===e||void 0===e?void 0:e._id},onChange:function(e){console.log("Selected Location: ",e),n(null===e||void 0===e?void 0:e._id)}}),(0,m.jsx)(p.Z,{autoComplete:"off",placeholder:"Filter by Company",defaultOptions:!0,cacheOptions:!0,size:"sm",className:"mb-4",value:H||null,loadOptions:Z,getOptionLabel:function(e){return"".concat((null===e||void 0===e?void 0:e.name)||"")},getOptionValue:function(e){return null===e||void 0===e?void 0:e._id},onChange:function(e){console.log("Selected Location: ",e),u(null===e||void 0===e?void 0:e._id)}}),(0,m.jsx)(p.Z,{autoComplete:"off",placeholder:"Filter by LCodes",defaultOptions:!0,cacheOptions:!0,size:"sm",className:"mb-4",value:E||null,loadOptions:R,getOptionLabel:function(e){return"".concat((null===e||void 0===e?void 0:e.code)||"")},getOptionValue:function(e){return null===e||void 0===e?void 0:e._id},onChange:function(e){console.log("Selected Location: ",e),f(null===e||void 0===e?void 0:e._id)}}),(0,m.jsx)(d.zx,{size:"sm",onClick:function(){n(""),u(""),j("/app/inventory/stockEntry")},icon:(0,m.jsx)(s.pYJ,{}),children:"Reset"})]})},h=function(e){var n=e.setSearch,o=e.buttonMenu,t=e.buttonClick,a=e.filtervalue,l=e.setFilterValue,i=e.filterLocationId,c=e.filterCompanyId,r=e.setFilterLocationId,u=e.setFilterCompanyId,s=e.filterLCodes,v=e.setFilterLCodes,p=function(e){var n=e.buttonClick,o=e.buttonMenu;return(0,m.jsx)("div",{className:"mb-4",children:null===o||void 0===o?void 0:o.map((function(e,o){return(0,m.jsx)(d.zx,{size:"sm",variant:"solid",onClick:function(o){return n(o,e.key)},style:{marginLeft:"5px"},icon:e.icon,children:e.label},o)}))})};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"md:flex items-center justify-end",children:(0,m.jsx)(p,{buttonMenu:o,buttonClick:t})}),(0,m.jsx)("div",{className:"items-center lg:flex",children:(0,m.jsx)(f,{setSearch:n,setFilterValue:l,filtervalue:a,filterCompanyId:c,setFilterLocationId:r,setFilterCompanyId:u,filterLocationId:i,filterLCodes:s,setFilterLCodes:v})})]})},y=o(52452),I=o(25764),S=o(31673),b=o(47511),C=o(56355),D=o(83776),L=o(52639),g={header:L.BI.HEADER,des:L.BI.DELETE,warning:L.BI.WARNING,buttonLabel:"Delete"},T=[{label:(0,m.jsx)(C.tU3,{}),key:D.Fh.VIEW,toolTip:"View/Edit",show:function(){return(0,b.ZP)(b.Fm.STOCKENTRY,b.qz.WRITE)}}],A=[{label:"Add Stock",key:L.A6.ADD,icon:(0,m.jsx)(u.HQD,{}),show:function(){return(0,b.ZP)(b.Fm.STOCKENTRY,b.qz.WRITE)}}],E=function(){var e=localStorage.getItem("selectedHospitalId"),n=(0,a.useState)([]),o=(0,t.Z)(n,2),u=o[0],s=o[1],v=(0,a.useState)(!0),p=(0,t.Z)(v,2),f=p[0],C=p[1],E=(0,a.useState)(!1),N=(0,t.Z)(E,2),k=N[0],O=N[1],F=(0,a.useState)(1),x=(0,t.Z)(F,2),_=x[0],P=x[1],Z=(0,a.useState)(0),R=(0,t.Z)(Z,2),j=R[0],w=R[1],H=(0,a.useState)(10),V=(0,t.Z)(H,2),z=V[0],M=V[1],Y=(0,a.useState)(""),U=(0,t.Z)(Y,2),W=U[0],B=U[1],q=(0,a.useState)(!1),K=(0,t.Z)(q,2),Q=K[0],G=K[1],J=(0,a.useState)(!1),X=(0,t.Z)(J,2),$=X[0],ee=X[1],ne=(0,a.useState)(""),oe=(0,t.Z)(ne,2),te=oe[0],ae=oe[1],le=(0,a.useState)(""),ie=(0,t.Z)(le,2),ce=ie[0],de=ie[1],re=(0,a.useState)(""),ue=(0,t.Z)(re,2),se=ue[0],ve=ue[1],pe=(0,a.useState)(""),me=(0,t.Z)(pe,2),fe=me[0],he=me[1],ye=(0,a.useState)([]),Ie=(0,t.Z)(ye,2),Se=Ie[0],be=(Ie[1],(0,a.useState)("")),Ce=(0,t.Z)(be,2),De=(Ce[0],Ce[1]),Le=(0,l.s0)();console.log("filterCompanyId",se),console.log("filterLCodes",fe);var ge=e;(0,a.useEffect)((function(){C(!0),se&&(ge=se),(0,i.ac)(c.vh.LIST_DATA,{type:c.kD.STOCK_ENTRY,locationId:ce||"",companyId:ge,lcodeId:fe||"",limit:z,skip:z*(_-1)}).then((function(e){var n,o;s(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data),w(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.count)})).finally((function(){return C(!1)}))}),[_,z,k,te,ce,se,fe]),console.log("checking",u);var Te=function(e,n,o){e.preventDefault(),n===D.Fh.VIEW&&Le("/app/stockEntry/edit/".concat(null===o||void 0===o?void 0:o._id),{state:{editData:o}})},Ae=function(){B(""),G(!1),ee(!1)},Ee=[{Header:"LCodes",accessor:function(e){var n;return(null===(n=e.lcodeId)||void 0===n?void 0:n.code)||"-"}},{Header:"Description",accessor:function(e){var n;return(null===(n=e.lcodeId)||void 0===n?void 0:n.description)||"-"}},{Header:"Quantity",accessor:"quantity",Cell:function(e){var n=e.value;return(0,m.jsx)("span",{style:{color:n<=5?"red":"black"},children:n})}},{Header:"Location",accessor:function(e){var n;return(null===(n=e.locationId)||void 0===n?void 0:n.name)||"-"}},{Header:"Active",Cell:function(e){return(0,m.jsx)(S.Z,{dataObj:e,setSelectedData:B,setActiveConfirm:ee,setOpenModal:G})}},{Header:"Actions",id:"action",accessor:function(e){return e},Cell:function(e){return(0,m.jsx)(y.Z,{row:e.row.original,onActionHandle:Te,actionsMenu:T})}}];return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(h,{buttonMenu:(0,b.ZP)(b.Fm.STOCKENTRY,b.qz.WRITE)?A:A.slice(0,A.length-1),buttonClick:function(e,n){n===L.A6.ADD&&Le("/app/stockEntry/add")},setSearch:De,filtervalue:te,setFilterValue:ae,setFilterLocationId:de,setFilterCompanyId:ve,filterLocationId:ce,filterCompanyId:se,filterLCodes:fe,setFilterLCodes:he,LCodes:Se}),(0,m.jsx)(r.lG,{className:"h-full",bodyClass:"h-full",children:(0,m.jsx)(r.wQ,{isCursor:!1,columns:(0,b._P)(Ee,b.Fm.STOCKENTRY,1),data:u,loading:f,skeletonAvatarColumns:[0],skeletonAvatarProps:{width:28,height:28},pagingData:{pageIndex:_,pageSize:z,total:j},onPaginationChange:function(e){return P(e)},onSelectChange:function(e){return M(e)}})}),(0,m.jsx)(I.Z,{isOpen:Q,onConfirmClick:function(){var e,n={type:c.kD.INVENTORY,id:null===W||void 0===W?void 0:W.id};$?(e=L.D5,n.status=+(null===W||void 0===W?void 0:W.action)):(e=L.O7,n.status=0),(0,i.Fv)(c.vh.BLOCK_DELETE_DATA,n).then((function(n){d.Am.push((0,m.jsx)(d.P_,{type:"success",children:e})),O((function(e){return!e})),Ae()}))},header:g.header,des:$?null===L.uF||void 0===L.uF?void 0:L.uF.des:g.des,onDialogClose:Ae,isWarning:!$&&g.warning,buttonLabel:$?null===L.uF||void 0===L.uF?void 0:L.uF.buttonLabel:g.buttonLabel})]})}},83776:function(e,n,o){o.d(n,{AH:function(){return E},Fh:function(){return O},IC:function(){return T},MS:function(){return N},m0:function(){return F},mf:function(){return A},qe:function(){return x},xG:function(){return k}});var t=o(16146),a=(o(62797),o(9494)),l=o(48573),i=o.n(l),c=o(11723),d=o(80034),r=o(52639),u=o(97892),s=o.n(u),v=localStorage.getItem("selectedHospitalId"),p=function(e,n){(0,a.ac)(c.vh.LIST_DATA,{type:c.kD.PHYSICIANS,companyId:v,search:e}).then((function(e){var o,t=null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.data.map((function(e){return{label:"".concat(null===e||void 0===e?void 0:e.name),value:null===e||void 0===e?void 0:e._id}}));n(t)}))},m=function(e,n){(0,a.ac)(c.vh.LIST_DATA,{type:c.kD.LOCATIONS,companyId:v,search:e}).then((function(e){var o,t=null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.data.map((function(e){return{label:"".concat(null===e||void 0===e?void 0:e.name),value:null===e||void 0===e?void 0:e._id}}));n(t)}))},f=i()(p,300),h=i()(p,300),y=i()((function(e,n){(0,a.ac)(c.vh.LIST_DATA,{type:c.kD.CODES,companyId:v,search:e,codeType:r.FF.Lcode}).then((function(e){var o,t=null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.data.map((function(e){return{label:null===e||void 0===e?void 0:e.code,value:null===e||void 0===e?void 0:e._id}}));n(t)}))}),300),I=i()((function(e,n){(0,a.ac)(c.vh.LIST_DATA,{type:c.kD.CODES,companyId:v,search:e,codeType:r.FF.Icd}).then((function(e){var o,t=null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.data.map((function(e){return{label:null===e||void 0===e?void 0:e.code,value:null===e||void 0===e?void 0:e._id}}));n(t)}))}),300),S=i()(m,300),b=i()(m,300),C=i()((function(e,n){(0,a.ac)(c.vh.LIST_DATA,{type:c.kD.PATIENTS,companyId:v,search:e}).then((function(e){var o,t=null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.data.map((function(e){return{label:"".concat(null===e||void 0===e?void 0:e.firstName," ").concat(null===e||void 0===e?void 0:e.lastName," - ").concat(s()(null===e||void 0===e?void 0:e.dob).format(r.zT)," (").concat(null===e||void 0===e?void 0:e.patientNo,")"),value:null===e||void 0===e?void 0:e._id,data:e}}));n(t)}))}),300),D=i()((function(e,n){(0,a.ac)(c.vh.LIST_DATA,{type:c.kD.DEVICE_TYPES,companyId:v,search:e}).then((function(e){var o,t=null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.data.map((function(e){return{label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e._id}}));n(t)}))}),300),L=i()((function(e,n){(0,a.ac)(c.vh.LIST_DATA,{type:c.kD.INSURANCES,companyId:v,search:e}).then((function(e){var o,t=null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.data.map((function(e){return{label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e._id}}));n(t)}))}),300),g=i()((function(e,n){(0,a.ac)(c.vh.LIST_DATA,{type:c.kD.INSURANCES,companyId:v,search:e}).then((function(e){var o,t=null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.data.map((function(e){return{label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e._id}}));n(t)}))}),300),T=[{label:"Referral Sent",value:1,color:"red"},{label:"Intake Completed",value:2,color:"indigo"},{label:"Insurance in process",value:13,color:"emerald"},{label:"Insurance Completed",value:3,color:"blue"},{label:"Order Fulfilment in Process",value:4,color:"emerald"},{label:"Order Fulfilment Completed",value:5,color:"cyan"},{label:"Delivery Ready",value:6,color:"orange"},{label:"Delivery Scheduled",value:15,color:"orange"},{label:"Dropship in Process",value:12,color:"emerald"},{label:"Delivered",value:7,color:"green"},{label:"DR Sent to PPS",value:8,color:"purple"},{label:"Billed",value:9,color:"orange"},{label:"RNR",value:10,color:"orange"},{label:"Denied",value:11,color:"red"},{label:"High Deductible",value:14,color:"emerald"}],A=[{label:"Self Pay",value:1},{label:"Insurance",value:2}],E=[{name:"patientId",label:"Select Patient (Search with name)",component:"asyncSelect",option:C,placeholder:"Select Patient"},{name:"nextAppointmentDate",label:"Next Appointment Date",component:"datepicker"},{name:"locationId",label:"Select Prescription Location (Search with name)",component:"asyncSelect",option:S,placeholder:"Select Location"},{name:"appointmentLocationId",label:"Next Appointment Location (Search with name)",component:"asyncSelect",option:b,placeholder:"Search/Select with Name"},{name:"physicianId",label:"Referring Physician (Search with name)",component:"asyncSelect",option:f,placeholder:"Search Physician"},{name:"renderingPhysicianId",label:"Rendering Physician (Search with name)",component:"asyncSelect",option:h,placeholder:"Search/Select with Name"},{name:"prescriptionDocument",label:"Upload Prescription",component:"PdfUpload"},{name:"physicianNotes",label:"Physician Notes",type:"switch",component:"switch"}],N=[{name:"primaryInsurance",apiType:"insurance",label:"Primary Insurance",option:L,component:"asyncSelect",placeholder:"Select primary insurance"},{name:"primaryInsuranceNo",label:"Primary Insurance No.",type:"text",component:t.II,placeholder:"Enter primary insurance no.",isBasic:!0},{name:"secondaryInsurance",apiType:"insurance",label:"Secondary Insurance",option:g,component:"asyncSelect",placeholder:"Select secondary insurance"},{name:"secondaryInsuranceNo",label:"Seconday Insurance No.",type:"text",component:t.II,placeholder:"Enter secondary insurance no.",isBasic:!0},{name:"insuranceDocument",label:"Upload Insurance Verification",component:"PdfUpload"},{name:"notes",label:"Notes",type:"text",component:t.II,isBasic:!0,placeholder:"Enter notes",textArea:!0}],k=[{name:"deviceType",label:"Device Type",type:"select",key:"deviceType",option:D,placeholder:"Select",component:d.Z,isMulti:!1},{name:"lCode",label:"LCode",type:"select",key:"lCode",option:y,placeholder:"Select",component:d.Z,isMulti:!1},{name:"icdCode",label:"ICD Code",type:"select",key:"icdCode",option:I,placeholder:"Select",component:d.Z,isMulti:!0},{name:"quantity",label:"LCode Quantity",type:"number",key:"quantity",placeholder:"Enter Quantity",component:t.II}],O={DELETE:"delete",EXPORT:"export",VIEW:"view",CALENDOR:"calendor",DOWNLOAD:"download",INSURANCE:"insurance",STATUS_CHANGE:"statusChange",DELIVERY_RECEIPT:"deliveryReceipt",MEDICAL_NECESSITY:"medicalNecessity",STATUS_VIEW:"statusView"},F={calendor:"Appointment",download:"Download Package",insurance:"Insurance",statusChange:"Update Order Status"},x=[{label:"Left",value:1},{label:"Right",value:2},{label:"Spine",value:3},{label:"Bilateral",value:4}]}}]);
//# sourceMappingURL=7898.1757956f.chunk.js.map