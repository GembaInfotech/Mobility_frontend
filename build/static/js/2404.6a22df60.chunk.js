"use strict";(self.webpackChunknasp=self.webpackChunknasp||[]).push([[2404],{25764:(e,l,i)=>{i.d(l,{Z:()=>t});i(72791);var o=i(73038),n=i(80184);const t=e=>{let{header:l,des:i,onDialogClose:t,isWarning:a,onConfirmClick:s,isOpen:d,buttonLabel:r}=e;return(0,n.jsx)(o.Vq,{isOpen:d,onClose:t,onRequestClose:t,contentClassName:"pb-0 px-0 mt-36 min-w-36",children:(0,n.jsxs)("div",{className:"px-5 pb-5",children:[(0,n.jsx)("h5",{className:"mb-4",children:l}),(0,n.jsx)("p",{children:i}),a&&(0,n.jsx)("p",{className:"text-red-700",children:a}),(0,n.jsxs)("div",{className:"text-right mt-6",children:[(0,n.jsx)(o.zx,{className:"ltr:mr-2 rtl:ml-2",variant:"plain",onClick:t,children:"Cancel"}),(0,n.jsx)(o.zx,{variant:"solid",onClick:s,children:r})]})]})})}},52452:(e,l,i)=>{i.d(l,{Z:()=>a});var o=i(23532),n=i(73038),t=i(80184);const a=e=>{let{row:l,onActionHandle:i,actionsMenu:a}=e;const{textTheme:s}=(0,o.Z)();return(0,t.jsx)("div",{className:"flex items-center justify-between",children:null===a||void 0===a?void 0:a.map(((e,o)=>{var a,d;if(null===(a=null===e||void 0===e||null===(d=e.show)||void 0===d?void 0:d.call(e))||void 0===a||a)return(0,t.jsx)(n.u,{title:null===e||void 0===e?void 0:e.toolTip,visible:!(null===e||void 0===e||!e.toolTip),children:null!==e&&void 0!==e&&e.isImage?(0,t.jsx)("img",{src:e.label,alt:"view Icon",style:{maxWidth:"20px"},className:"cursor-pointer mx-0.5",onClick:o=>i(o,e.key,l)}):(0,t.jsx)("span",{className:`${s} cursor-pointer select-none font-semibold ml-2 `,onClick:o=>i(o,e.key,l),children:e.label})})}))})}},31673:(e,l,i)=>{i.d(l,{Z:()=>a});i(72791);var o=i(52639),n=i(73038),t=i(80184);const a=e=>{var l,i;let{dataObj:a,setSelectedData:s,setActiveConfirm:d,setOpenModal:r}=e;const c=null===a||void 0===a||null===(l=a.row)||void 0===l||null===(i=l.original)||void 0===i?void 0:i._id,u=o.uN.find(((e,l)=>{var i,o;return e.identifier===(null===a||void 0===a||null===(i=a.row)||void 0===i||null===(o=i.original)||void 0===o?void 0:o.status)}));return(0,t.jsx)(n.XZ,{checked:null===u||void 0===u?void 0:u.value,onChange:e=>((e,l,i)=>{let o="";1===l&&(o=2),2===l&&(o=1),s({id:i,action:o}),d(!0),r(!0)})(0,null===u||void 0===u?void 0:u.identifier,c)})}},53247:(e,l,i)=>{i.d(l,{Z:()=>t});i(72791);var o=i(73038),n=i(80184);const t=e=>{var l;let{uploadLoading:i,header:t,des:a,onDialogClose:s,isWarning:d,onConfirmClick:r,isOpen:c,buttonLabel:u,setUploadFile:v,uploadFile:p}=e;return(0,n.jsx)(o.Vq,{isOpen:c,onClose:s,onRequestClose:s,contentClassName:"pb-0 px-0 mt-36 min-w-36",children:(0,n.jsxs)("div",{className:"px-5 pb-5",children:[(0,n.jsx)("h5",{className:"mb-4",children:t}),(0,n.jsx)("p",{children:a}),d&&(0,n.jsx)("p",{className:"text-red-700",children:d}),(0,n.jsxs)(o.BZ,{className:"mb-4",children:[(0,n.jsx)(o.II,{value:null===p||void 0===p||null===(l=p[0])||void 0===l?void 0:l.name}),(0,n.jsx)(o.gq,{uploadLimit:1,showList:!1,accept:[".xlsx, .xls, .csv"],name:"uploadFile",onChange:e=>{v(e)}})]}),(0,n.jsxs)("div",{className:"text-right mt-6",children:[(0,n.jsx)(o.zx,{className:"ltr:mr-2 rtl:ml-2",variant:"plain",onClick:s,children:"Cancel"}),(0,n.jsx)(o.zx,{variant:"solid",onClick:r,loading:i,disabled:!p,children:u})]})]})})}},93156:(e,l,i)=>{i.d(l,{Z:()=>m});var o=i(72791),n=i(73038),t=i(10515),a=i(76053),s=i(9494),d=i(11723),r=i(763),c=i(80034),u=i(52639),v=i(80184);const p=e=>{let{buttonMenu:l,buttonClick:i}=e;return(0,v.jsx)("div",{className:"mb-4",children:null===l||void 0===l?void 0:l.map(((e,l,o)=>(0,v.jsx)(n.zx,{size:"sm",variant:"solid",onClick:l=>i(l,e.key),style:{marginLeft:"5px"},icon:e.icon,children:e.label})))})},h=e=>{let{setSearch:l,FilterMenu:i,setFilterValue:p,filterValue:h,asyncApiType:m,searchPlaceholder:x}=e;const C=(0,r.debounce)(((e,l)=>{(0,s.ac)(1===m?d.vh.GET_USERS:d.vh.GET_CATEGORIES,{search:e}).then((e=>{var i;l(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.data)}))}),300);return(0,v.jsxs)("div",{className:"md:flex gap-4 w-full",children:[(0,v.jsx)(t.Z,{placeholder:x,onChange:e=>l(e)}),null===i||void 0===i?void 0:i.map(((e,i)=>(0,v.jsxs)(o.Fragment,{children:["select"===e.component&&(0,v.jsx)(n.Ph,{autoComplete:"off",size:"sm",className:e.className,placeholder:e.placeholder,options:e.options,value:h[null===e||void 0===e?void 0:e.filterKey],onChange:l=>{p({...h,[null===e||void 0===e?void 0:e.filterKey]:l})}}),"resetButton"===e.component&&(0,v.jsx)(n.zx,{size:"sm",className:e.className,onClick:()=>{p(null===e||void 0===e?void 0:e.filterKey),l("")},icon:(0,v.jsx)(a.pYJ,{}),children:e.label}),"asyncSelect"===e.component&&(0,v.jsx)(n.Ph,{autoComplete:"off",placeholder:e.placeholder,defaultOptions:!0,cacheOptions:!0,size:"sm",className:e.className,value:null===h||void 0===h?void 0:h[null===e||void 0===e?void 0:e.filterKey],loadOptions:C,componentAs:c.Z,getOptionLabel:l=>`${null===l||void 0===l?void 0:l[e.label]} ${null!==e&&void 0!==e&&e.label1?null===l||void 0===l?void 0:l[e.label1]:""}`,getOptionValue:e=>null===e||void 0===e?void 0:e.id,onChange:l=>{p({...h,[null===e||void 0===e?void 0:e.filterKey]:l})}}),"datePicker"===e.component&&(0,v.jsx)(n.Mt,{inputtable:!0,clearable:!0,selected:h[null===e||void 0===e?void 0:e.filterKey],onChange:l=>{p({...h,[null===e||void 0===e?void 0:e.filterKey]:l})},size:"sm",placeholder:"Patient DOB (MM/DD/YYYY)",name:"patientDob",className:e.className,placeholderText:e.placeholder,dateFormat:u.zT}),"input"===e.component&&(0,v.jsx)(n.II,{size:"sm",className:e.className,placeholder:e.placeholder,value:h[null===e||void 0===e?void 0:e.filterKey],onChange:l=>{p({...h,[null===e||void 0===e?void 0:e.filterKey]:l.target.value})}})]},i)))]})},m=e=>{let{buttonMenu:l,FilterMenu:i,setSearch:o,buttonClick:n,setFilterValue:t,filterValue:a,asyncApiType:s,searchPlaceholder:d}=e;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"md:flex items-center justify-end",children:(0,v.jsx)(p,{buttonMenu:l,buttonClick:n})}),(0,v.jsx)("div",{className:"items-center lg:flex",children:(0,v.jsx)(h,{searchPlaceholder:d,setSearch:o,FilterMenu:i,setFilterValue:t,filterValue:a,asyncApiType:s})})]})}},10515:(e,l,i)=>{i.d(l,{Z:()=>d});i(72791);var o=i(73038),n=i(58617),t=i(48573),a=i.n(t),s=i(80184);const d=e=>{let{onChange:l,placeholder:i}=e;const t=a()((function(e){null===l||void 0===l||l(e)}),500);return(0,s.jsx)(o.II,{className:"max-w-md md:w-96 mb-4",size:"sm",placeholder:i?`${i}`:"Filter by NAL, LCode, Referring Physician",prefix:(0,s.jsx)(n.O6C,{className:"text-lg"}),onChange:e=>{t(e.target.value)}})}},9494:(e,l,i)=>{i.d(l,{EY:()=>s,Fv:()=>a,ac:()=>t});var o=i(91181),n=i(14712);function t(e,l){return n.Z.get(e,{params:l}).then((e=>null===e||void 0===e?void 0:e.data))}function a(e,l){return n.Z.post(e,l).then((e=>null===e||void 0===e?void 0:e.data))}async function s(e){return o.Z.fetchData({url:"/search/query",method:"post",data:e})}},72404:(e,l,i)=>{i.r(l),i.d(l,{default:()=>Z});var o=i(72791),n=i(9494),t=i(11723),a=i(40018),s=i(73038),d=i(58617),r=i(92506),c=i(81724),u=i(78820),v=i(80184);const p=[{label:"LCodes",value:1},{label:"ICD",value:2}],h=e=>{let{editData:l,onCancel:i,onSave:o,isLoading:n}=e;return(0,v.jsxs)("div",{className:"text-right w-full",children:[(0,v.jsx)(s.zx,{className:"mr-2",onClick:i,disabled:n,icon:(0,v.jsx)(u.SV5,{}),children:"Cancel"}),(0,v.jsx)(s.zx,{variant:"solid",type:"submit",onClick:o,disabled:n,icon:(0,v.jsx)(u.JMf,{}),children:null!==l&&void 0!==l&&l.id?"Update":"Save"})]})},m=c.Ry().shape({code:c.Z_().required("Required"),type:c.Ry().required("Required")}),x={code:"",description:"",type:""},C=e=>{let{editData:l,show:i,onClose:d,refreshPage:c}=e;const u=(0,o.useRef)(),[C,b]=(0,o.useState)(!1);return(0,v.jsx)(s.dy,{isOpen:i,onClose:d,onRequestClose:d,closable:!1,bodyClass:"p-0",title:null!==l&&void 0!==l&&l.id?"Edit Code":"Add Code",footer:(0,v.jsx)(h,{onCancel:d,onSave:()=>{var e;return null===u||void 0===u||null===(e=u.current)||void 0===e?void 0:e.submitForm()},isLoading:C,editData:l}),children:(0,v.jsx)(a.lG,{children:(0,v.jsx)(r.J9,{innerRef:u,initialValues:l||x,validationSchema:m,onSubmit:e=>{var l;let{code:i,id:o,description:a,type:r}=e;b(!0);let u={code:i,description:a,type:null===r||void 0===r||null===(l=r.value)||void 0===l?void 0:l.toString(),modelType:t.kD.CODES};o&&(u.id=o),(0,n.Fv)(t.vh.ADD_EDIT_DATA,u).then((()=>{d(),c(),s.Am.push((0,v.jsx)(s.P_,{type:"success",children:"Code saved!"}))})).finally((()=>b(!1)))},enableReinitialize:!0,children:e=>{let{errors:l,touched:i,setFieldValue:o,values:n}=e;return(0,v.jsx)(r.l0,{className:"p-5",children:(0,v.jsxs)(s.Yb,{children:[(0,v.jsx)(s.xJ,{label:"Type",invalid:(null===l||void 0===l?void 0:l.type)&&(null===i||void 0===i?void 0:i.type),errorMessage:null===l||void 0===l?void 0:l.type,children:(0,v.jsx)(s.Ph,{autoComplete:"off",size:"sm",name:"type",className:"mb-1 w-full",placeholder:"Select Type",options:p,value:n.type,onChange:e=>{o("type",e)}})}),(0,v.jsx)(s.xJ,{label:"Code",invalid:(null===l||void 0===l?void 0:l.code)&&(null===i||void 0===i?void 0:i.code),errorMessage:null===l||void 0===l?void 0:l.code,children:(0,v.jsx)(r.gN,{type:"text",autoComplete:"off",name:"code",placeholder:"Enter Code ",component:s.II})}),(0,v.jsx)(s.xJ,{label:"Description",children:(0,v.jsx)(r.gN,{type:"text",autoComplete:"off",name:"description",placeholder:"Enter Description ",component:s.II})})]})})}})})})};var b=i(52452),j=i(93156),f=i(25764),y=i(76053),g=i(54048),D=i(52639),S=i(53247),N=i(31673),E=i(47511);const T=[{label:"Edit",key:D.A6.EDIT,show:()=>(0,E.ZP)(E.Fm.CODES,E.qz.WRITE)},{label:(0,v.jsx)(u.YK6,{style:{fontSize:"1.2rem"}}),key:D.A6.DELETE,toolTip:"Delete",show:()=>(0,E.ZP)(E.Fm.CODES,E.qz.DELETE)}],A=[{label:"Add Code",key:D.A6.ADD,icon:(0,v.jsx)(d.HQD,{})}],k=[{component:"select",options:[{label:"Lcodes",value:1},{label:"icd",value:2}],className:"mb-4 w-40\t",placeholder:"Code Type",filterKey:"codeType"},{component:"resetButton",label:"Reset",icon:(0,v.jsx)(y.pYJ,{}),className:"mb-4",filterKey:{codeType:""}}],F={header:D.BI.HEADER,des:D.BI.DELETE,buttonLabel:"Delete"},O="Import",L="Choose File to upload",w="Upload",I="Uploading",Z=()=>{const[e,l]=(0,o.useState)([]),[i,d]=(0,o.useState)(!1),[r,c]=(0,o.useState)(1),[u,p]=(0,o.useState)(0),[h,m]=(0,o.useState)(10),[x,y]=(0,o.useState)(""),[Z,z]=(0,o.useState)(!1),[P,R]=(0,o.useState)(!1),[M,_]=(0,o.useState)(""),[q,V]=(0,o.useState)(!1),[K,B]=(0,o.useState)(!1),[H,U]=(0,o.useState)(),[Y,W]=(0,o.useState)(""),[J,G]=(0,o.useState)({codeType:""}),[$,Q]=(0,o.useState)(!1),[X,ee]=(0,o.useState)(!1);(0,o.useEffect)((()=>{d(!0);const e={type:t.kD.CODES,limit:h,search:x,skip:h*(r-1)};var i;""!==(null===J||void 0===J?void 0:J.codeType)&&(e.codeType=null===J||void 0===J||null===(i=J.codeType)||void 0===i?void 0:i.value);(0,n.ac)(t.vh.LIST_DATA,{...e}).then((e=>{var i,o,n;W(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.lcodeSampleFile),l([]),l(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.data),p(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.count)})).finally((()=>d(!1)))}),[x,r,h,P,J]);const le=(e,l,i)=>{var o;l===D.A6.EDIT&&(_({id:null===i||void 0===i?void 0:i._id,code:null===i||void 0===i?void 0:i.code,description:null===i||void 0===i?void 0:i.description,type:(o=null===i||void 0===i?void 0:i.type,1===o?{label:"Lcodes",value:1}:{label:"icd",value:2})}),z(!0)),l===D.A6.DELETE&&(_({id:null===i||void 0===i?void 0:i._id}),V(!0))},ie=[{Header:"Code",accessor:"code"},{Header:"Description",Cell:e=>{var l;const i=null===e||void 0===e||null===(l=e.row)||void 0===l?void 0:l.original;return null!==i&&void 0!==i&&i.description?null===i||void 0===i?void 0:i.description:"-"}},{Header:"Type",accessor:"type",Cell:e=>1===e.row.original.type?"Lcodes":"icd"},{Header:"Active",Cell:e=>(0,v.jsx)(N.Z,{dataObj:e,setSelectedData:_,setActiveConfirm:Q,setOpenModal:V})},{Header:"Actions",id:"action",accessor:e=>e,Cell:e=>(0,v.jsx)(b.Z,{row:e.row.original,onActionHandle:le,actionsMenu:T})}],oe=()=>{_(""),V(!1),Q(!1)},ne=()=>{ee(!1),U("")};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(j.Z,{buttonMenu:(0,E.ZP)(E.Fm.CODES,E.qz.WRITE)?A:A.slice(0,A.length-1),FilterMenu:k,setSearch:y,buttonClick:(e,l)=>{if(l===D.A6.ADD&&z(!0),l===D.A6.IMPORT&&ee(!0),l===D.A6.DOWNLOAD){const e=`${null===g.Z||void 0===g.Z?void 0:g.Z.imageBaseUrl}${Y}`,l=document.createElement("a");l.href=e,l.download="example-file.txt",l.click(),window.URL.revokeObjectURL(e)}},setFilterValue:G,filterValue:J}),(0,v.jsx)(a.lG,{className:"h-full",bodyClass:"h-full",children:(0,v.jsx)(a.wQ,{columns:(0,E._P)(ie,E.Fm.CODES,1),isCursor:!1,data:e,loading:i,skeletonAvatarColumns:[0],skeletonAvatarProps:{width:28,height:28},pagingData:{pageIndex:r,pageSize:h,total:u},onPaginationChange:e=>c(e),onSelectChange:e=>m(e)})}),(0,v.jsx)(C,{show:Z,onClose:()=>{_(""),z(!1)},refreshPage:()=>R((e=>!e)),editData:M}),(0,v.jsx)(f.Z,{isOpen:q,onConfirmClick:()=>{let e;const l={type:t.kD.CODES,id:null===M||void 0===M?void 0:M.id};$?(e=D.D5,l.status=+(null===M||void 0===M?void 0:M.action)):(e=D.O7,l.status=0),(0,n.Fv)(t.vh.BLOCK_DELETE_DATA,l).then((l=>{s.Am.push((0,v.jsx)(s.P_,{type:"success",children:e})),R((e=>!e)),oe()}))},header:F.header,des:$?null===D.uF||void 0===D.uF?void 0:D.uF.des:D.BI.DELETE,onDialogClose:oe,isWarning:!$&&D.BI.WARNING,buttonLabel:$?null===D.uF||void 0===D.uF?void 0:D.uF.buttonLabel:F.buttonLabel}),(0,v.jsx)(S.Z,{uploadLoading:K,setUploadFile:U,isOpen:X,header:O,des:L,onDialogClose:ne,onConfirmClick:()=>{B(!0);let e=new FormData;for(let l=0;l<(null===H||void 0===H?void 0:H.length);l++)e.append("file",H[l]);(0,n.Fv)(t.vh.IMPORT_CODE,e).then((e=>{R((e=>!e)),B(!1),s.Am.push((0,v.jsx)(s.P_,{type:"success",children:D.pX})),ne()}))},buttonLabel:K?I:w,uploadFile:H})]})}}}]);
//# sourceMappingURL=2404.6a22df60.chunk.js.map