"use strict";(self.webpackChunknasp=self.webpackChunknasp||[]).push([[4125],{25764:function(e,n,l){l(72791);var o=l(16146),i=l(80184);n.Z=function(e){var n=e.header,l=e.des,t=e.onDialogClose,a=e.isWarning,r=e.onConfirmClick,d=e.isOpen,s=e.buttonLabel;return(0,i.jsx)(o.Vq,{isOpen:d,onClose:t,onRequestClose:t,contentClassName:"pb-0 px-0 mt-36 min-w-36",children:(0,i.jsxs)("div",{className:"px-5 pb-5",children:[(0,i.jsx)("h5",{className:"mb-4",children:n}),(0,i.jsx)("p",{children:l}),a&&(0,i.jsx)("p",{className:"text-red-700",children:a}),(0,i.jsxs)("div",{className:"text-right mt-6",children:[(0,i.jsx)(o.zx,{className:"ltr:mr-2 rtl:ml-2",variant:"plain",onClick:t,children:"Cancel"}),(0,i.jsx)(o.zx,{variant:"solid",onClick:r,children:s})]})]})})}},52452:function(e,n,l){var o=l(23532),i=l(16146),t=l(80184);n.Z=function(e){var n=e.row,l=e.onActionHandle,a=e.actionsMenu,r=(0,o.Z)().textTheme;return(0,t.jsx)("div",{className:"flex items-center justify-between",children:null===a||void 0===a?void 0:a.map((function(e,o){var a,d;if(null===(a=null===e||void 0===e||null===(d=e.show)||void 0===d?void 0:d.call(e))||void 0===a||a)return(0,t.jsx)(i.u,{title:null===e||void 0===e?void 0:e.toolTip,visible:!(null===e||void 0===e||!e.toolTip),children:null!==e&&void 0!==e&&e.isImage?(0,t.jsx)("img",{src:e.label,alt:"view Icon",style:{maxWidth:"20px"},className:"cursor-pointer mx-0.5",onClick:function(o){return l(o,e.key,n)}}):(0,t.jsx)("span",{className:"".concat(r," cursor-pointer select-none font-semibold ml-2 "),onClick:function(o){return l(o,e.key,n)},children:e.label})})}))})}},31673:function(e,n,l){l(72791);var o=l(52639),i=l(16146),t=l(80184);n.Z=function(e){var n,l,a=e.dataObj,r=e.setSelectedData,d=e.setActiveConfirm,s=e.setOpenModal,u=null===a||void 0===a||null===(n=a.row)||void 0===n||null===(l=n.original)||void 0===l?void 0:l._id,c=o.uN.find((function(e,n){var l,o;return e.identifier===(null===a||void 0===a||null===(l=a.row)||void 0===l||null===(o=l.original)||void 0===o?void 0:o.status)}));return(0,t.jsx)(i.XZ,{checked:null===c||void 0===c?void 0:c.value,onChange:function(e){return function(e,n,l){var o="";1===n&&(o=2),2===n&&(o=1),r({id:l,action:o}),d(!0),s(!0)}(0,null===c||void 0===c?void 0:c.identifier,u)}})}},53247:function(e,n,l){l(72791);var o=l(16146),i=l(80184);n.Z=function(e){var n,l=e.uploadLoading,t=e.header,a=e.des,r=e.onDialogClose,d=e.isWarning,s=e.onConfirmClick,u=e.isOpen,c=e.buttonLabel,v=e.setUploadFile,p=e.uploadFile;return(0,i.jsx)(o.Vq,{isOpen:u,onClose:r,onRequestClose:r,contentClassName:"pb-0 px-0 mt-36 min-w-36",children:(0,i.jsxs)("div",{className:"px-5 pb-5",children:[(0,i.jsx)("h5",{className:"mb-4",children:t}),(0,i.jsx)("p",{children:a}),d&&(0,i.jsx)("p",{className:"text-red-700",children:d}),(0,i.jsxs)(o.BZ,{className:"mb-4",children:[(0,i.jsx)(o.II,{value:null===p||void 0===p||null===(n=p[0])||void 0===n?void 0:n.name}),(0,i.jsx)(o.gq,{uploadLimit:1,showList:!1,accept:[".xlsx, .xls, .csv"],name:"uploadFile",onChange:function(e){v(e)}})]}),(0,i.jsxs)("div",{className:"text-right mt-6",children:[(0,i.jsx)(o.zx,{className:"ltr:mr-2 rtl:ml-2",variant:"plain",onClick:r,children:"Cancel"}),(0,i.jsx)(o.zx,{variant:"solid",onClick:s,loading:l,disabled:!p,children:c})]})]})})}},93156:function(e,n,l){var o=l(4942),i=l(1413),t=l(74165),a=l(15861),r=l(29439),d=l(72791),s=l(16146),u=l(10515),c=l(76053),v=l(9494),p=l(11723),m=l(763),f=l(80034),h=l(52639),x=l(60364),y=l(80184),C=function(e){var n=e.buttonMenu,l=e.buttonClick;return(0,y.jsx)("div",{className:"mb-4",children:null===n||void 0===n?void 0:n.map((function(e,n,o){return(0,y.jsx)(s.zx,{size:"sm",variant:"solid",onClick:function(n){return l(n,e.key)},style:{marginLeft:"5px"},icon:e.icon,children:e.label})}))})},g=function(e){var n=e.setSearch,l=e.FilterMenu,C=e.setFilterValue,g=e.filterValue,b=e.asyncApiType,j=e.searchPlaceholder,D=e.setFilterCompanyId,N=e.filterCompanyId,S=(0,x.v9)((function(e){return e.auth.user})),A=(localStorage.getItem("selectedHospitalId"),(0,d.useState)([])),I=(0,r.Z)(A,2),Z=I[0],E=I[1];(0,d.useEffect)((function(){var e=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){var n,l,o,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null===S||void 0===S||!S.companyId){e.next=7;break}return e.next=4,(0,v.ac)(p.vh.LIST_DATA,{companyIds:JSON.stringify(S.companyId),type:p.kD.COMPANY});case 4:i=e.sent,e.next=10;break;case 7:return e.next=9,(0,v.ac)(p.vh.LIST_DATA,{type:p.kD.COMPANY});case 9:i=e.sent;case 10:console.log(null===(n=i)||void 0===n?void 0:n.data),E((null===(l=i)||void 0===l||null===(o=l.data)||void 0===o?void 0:o.data)||[]),console.log(Z),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error("Error loading company list:",e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();e()}),[S]);var M=(0,m.debounce)((function(e,n){(0,v.ac)(1===b?p.vh.GET_USERS:p.vh.GET_CATEGORIES,{search:e}).then((function(e){var l;n(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.data)}))}),300);return(0,y.jsxs)("div",{className:"md:flex gap-4 w-full",children:[n&&(0,y.jsx)(u.Z,{placeholder:j,onChange:function(e){return n(e)}}),null===l||void 0===l?void 0:l.map((function(e,l){return(0,y.jsxs)(d.Fragment,{children:["select"===e.component&&(0,y.jsx)(s.Ph,{autoComplete:"off",placeholder:"Company",defaultOptions:!0,cacheOptions:!0,size:"sm",className:"mb-2",value:N,options:Z,getOptionLabel:function(e){return"".concat((null===e||void 0===e?void 0:e.name)||"")},getOptionValue:function(e){return null===e||void 0===e?void 0:e._id},onChange:function(e){D(e),C("")}}),"select"===e.component&&(0,y.jsx)(s.Ph,{autoComplete:"off",size:"sm",className:e.className,placeholder:e.placeholder,options:e.options,value:g[null===e||void 0===e?void 0:e.filterKey],onChange:function(n){C((0,i.Z)((0,i.Z)({},g),{},(0,o.Z)({},null===e||void 0===e?void 0:e.filterKey,n)))}}),"resetButton"===e.component&&(0,y.jsx)(s.zx,{size:"sm",className:e.className,onClick:function(){C(null===e||void 0===e?void 0:e.filterKey),D(null),n("")},icon:(0,y.jsx)(c.pYJ,{}),children:e.label}),"asyncSelect"===e.component&&(0,y.jsx)(s.Ph,{autoComplete:"off",placeholder:e.placeholder,defaultOptions:!0,cacheOptions:!0,size:"sm",className:e.className,value:null===g||void 0===g?void 0:g[null===e||void 0===e?void 0:e.filterKey],loadOptions:M,componentAs:f.Z,getOptionLabel:function(n){return"".concat(null===n||void 0===n?void 0:n[e.label]," ").concat(null!==e&&void 0!==e&&e.label1?null===n||void 0===n?void 0:n[e.label1]:"")},getOptionValue:function(e){return null===e||void 0===e?void 0:e.id},onChange:function(n){C((0,i.Z)((0,i.Z)({},g),{},(0,o.Z)({},null===e||void 0===e?void 0:e.filterKey,n)))}}),"datePicker"===e.component&&(0,y.jsx)(s.Mt,{inputtable:!0,clearable:!0,selected:g[null===e||void 0===e?void 0:e.filterKey],onChange:function(n){C((0,i.Z)((0,i.Z)({},g),{},(0,o.Z)({},null===e||void 0===e?void 0:e.filterKey,n)))},size:"sm",placeholder:"Patient DOB (MM/DD/YYYY)",name:"patientDob",className:e.className,placeholderText:e.placeholder,dateFormat:h.zT}),"input"===e.component&&(0,y.jsx)(s.II,{size:"sm",className:e.className,placeholder:e.placeholder,value:g[null===e||void 0===e?void 0:e.filterKey],onChange:function(n){C((0,i.Z)((0,i.Z)({},g),{},(0,o.Z)({},null===e||void 0===e?void 0:e.filterKey,n.target.value)))}})]},l)}))]})};n.Z=function(e){var n=e.buttonMenu,l=e.FilterMenu,o=e.setSearch,i=e.buttonClick,t=e.setFilterValue,a=e.filterValue,r=e.asyncApiType,d=e.searchPlaceholder,s=e.setFilterCompanyId,u=e.filterCompanyId;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"md:flex items-center justify-end",children:(0,y.jsx)(C,{buttonMenu:n,buttonClick:i})}),(0,y.jsx)("div",{className:"items-center lg:flex",children:(0,y.jsx)(g,{searchPlaceholder:d,setSearch:o,FilterMenu:l,setFilterValue:t,filterValue:a,asyncApiType:r,setFilterCompanyId:s,filterCompanyId:u})})]})}},10515:function(e,n,l){l(72791);var o=l(16146),i=l(58617),t=l(48573),a=l.n(t),r=l(80184);n.Z=function(e){var n=e.onChange,l=e.placeholder,t=a()((function(e){null===n||void 0===n||n(e)}),500);return(0,r.jsx)(o.II,{className:"max-w-md md:w-96 mb-4",size:"sm",placeholder:l?"".concat(l):"Filter by NAL, LCode, Referring Physician",prefix:(0,r.jsx)(i.O6C,{className:"text-lg"}),onChange:function(e){t(e.target.value)}})}},9494:function(e,n,l){l.d(n,{EY:function(){return s},Fv:function(){return d},ac:function(){return r}});var o=l(74165),i=l(15861),t=l(91181),a=l(14712);function r(e,n){return a.Z.get(e,{params:n}).then((function(e){return null===e||void 0===e?void 0:e.data}))}function d(e,n){return a.Z.post(e,n).then((function(e){return null===e||void 0===e?void 0:e.data}))}function s(e){return u.apply(this,arguments)}function u(){return(u=(0,i.Z)((0,o.Z)().mark((function e(n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.Z.fetchData({url:"/search/query",method:"post",data:n}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},44125:function(e,n,l){l.r(n),l.d(n,{default:function(){return K}});var o=l(1413),i=l(29439),t=l(72791),a=l(9494),r=l(11723),d=l(40018),s=l(16146),u=l(58617),c=l(93433),v=l(92506),p=l(62797),m=l(78820),f=l(80184),h=[{label:"LCodes",value:1},{label:"ICD",value:2}],x=[{label:"Consumables",value:1},{label:"Manufacture",value:2}],y=function(e){var n=e.editData,l=e.onCancel,o=e.onSave,i=e.isLoading;return(0,f.jsxs)("div",{className:"text-right w-full",children:[(0,f.jsx)(s.zx,{className:"mr-2",onClick:l,disabled:i,icon:(0,f.jsx)(m.SV5,{}),children:"Cancel"}),(0,f.jsx)(s.zx,{variant:"solid",type:"submit",onClick:o,disabled:i,icon:(0,f.jsx)(m.JMf,{}),children:null!==n&&void 0!==n&&n.id?"Update":"Save"})]})},C=p.Ry().shape({code:p.Z_().required("Required"),type:p.Ry().required("Required"),group:p.Ry().required("Required"),uom:p.Ry().required("Required")}),g={material:"",group:null,code:"",description:"",type:null,uom:null},b=function(e){var n=e.editData,l=e.show,o=e.onClose,u=e.refreshPage,p=(0,t.useRef)(),b=(0,t.useState)(!1),j=(0,i.Z)(b,2),D=j[0],N=j[1],S=(0,t.useState)([]),A=(0,i.Z)(S,2),I=A[0],Z=A[1],E=(0,t.useState)(""),M=(0,i.Z)(E,2),T=M[0],k=M[1],O=(0,t.useState)(!1),F=(0,i.Z)(O,2),w=F[0],L=F[1];(0,t.useEffect)((function(){(0,a.ac)(r.vh.LIST_DATA,{type:r.kD.UOM}).then((function(e){var n;console.log(e),Z(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data.map((function(e){return{label:e.name,value:e._id}})))})).catch((function(e){console.error("Failed to fetch UOM options:",e),s.Am.push((0,f.jsx)(s.P_,{type:"error",children:"Failed to load UOM options."}))}))}),[]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s.dy,{isOpen:l,onClose:o,onRequestClose:o,closable:!1,bodyClass:"p-0",title:null!==n&&void 0!==n&&n.id?"Edit Items":"Add Items",footer:(0,f.jsx)(y,{onCancel:o,onSave:function(){var e;return null===p||void 0===p||null===(e=p.current)||void 0===e?void 0:e.submitForm()},isLoading:D,editData:n}),children:(0,f.jsx)(d.lG,{children:(0,f.jsx)(v.J9,{innerRef:p,initialValues:n||g,validationSchema:C,onSubmit:function(e){var n,l,i,t=e.material,d=e.code,c=e.id,v=e.description,p=e.type,m=e.group,h=e.uom;N(!0);var x={material:t,code:d,description:v,type:null===p||void 0===p||null===(n=p.value)||void 0===n?void 0:n.toString(),group:null===m||void 0===m||null===(l=m.value)||void 0===l?void 0:l.toString(),uomId:null===h||void 0===h||null===(i=h.value)||void 0===i?void 0:i.toString(),modelType:r.kD.MATERIALS};console.log("Submitting payload:",x),c&&(x.id=c),(0,a.Fv)(r.vh.ADD_EDIT_DATA,x).then((function(){o(),u(),s.Am.push((0,f.jsx)(s.P_,{type:"success",children:"Material saved!"}))})).catch((function(e){console.error("Failed to save material:",e),s.Am.push((0,f.jsx)(s.P_,{type:"error",children:"Failed to save material. Please try again."}))})).finally((function(){return N(!1)}))},enableReinitialize:!0,children:function(e){var n=e.errors,l=e.touched,o=e.setFieldValue,i=e.values;return(0,f.jsx)(v.l0,{className:"p-5",children:(0,f.jsxs)(s.Yb,{children:[(0,f.jsx)(s.xJ,{label:"Material Name",invalid:(null===n||void 0===n?void 0:n.material)&&(null===l||void 0===l?void 0:l.material),errorMessage:null===n||void 0===n?void 0:n.material,children:(0,f.jsx)(v.gN,{type:"text",autoComplete:"off",name:"material",placeholder:"Enter Material Name",component:s.II})}),(0,f.jsx)(s.xJ,{label:"Group",invalid:(null===n||void 0===n?void 0:n.group)&&(null===l||void 0===l?void 0:l.group),errorMessage:null===n||void 0===n?void 0:n.group,children:(0,f.jsx)(s.Ph,{autoComplete:"off",size:"sm",name:"group",className:"mb-1 w-full",placeholder:"Select Group",options:x,value:i.group,onChange:function(e){o("group",e)}})}),(0,f.jsx)(s.xJ,{label:"Type",invalid:(null===n||void 0===n?void 0:n.type)&&(null===l||void 0===l?void 0:l.type),errorMessage:null===n||void 0===n?void 0:n.type,children:(0,f.jsx)(s.Ph,{autoComplete:"off",size:"sm",name:"type",className:"mb-1 w-full",placeholder:"Select Type",options:h,value:i.type,onChange:function(e){o("type",e)}})}),(0,f.jsx)(s.xJ,{label:"Code",invalid:(null===n||void 0===n?void 0:n.code)&&(null===l||void 0===l?void 0:l.code),errorMessage:null===n||void 0===n?void 0:n.code,children:(0,f.jsx)(v.gN,{type:"text",autoComplete:"off",name:"code",placeholder:"Enter Code",component:s.II})}),(0,f.jsx)(s.xJ,{label:"UOM",invalid:(null===n||void 0===n?void 0:n.uom)&&(null===l||void 0===l?void 0:l.uom),errorMessage:null===n||void 0===n?void 0:n.uom,children:(0,f.jsxs)("div",{className:"flex items-center",children:[(0,f.jsx)(s.Ph,{autoComplete:"off",size:"sm",name:"uom",className:"mb-2 w-full",placeholder:"Select UOM",options:I,value:i.uom,onChange:function(e){o("uom",e)}}),(0,f.jsx)(s.zx,{icon:(0,f.jsx)(m.Lfi,{}),onClick:function(){return L(!0)},variant:"outline",className:"ml-2 mb-2",size:"sm",children:"Add New"})]})}),(0,f.jsx)(s.xJ,{label:"Description",children:(0,f.jsx)(v.gN,{type:"text",autoComplete:"off",name:"description",placeholder:"Enter Description",component:s.II})})]})})}})})}),(0,f.jsx)(s.Vq,{isOpen:w,onClose:function(){return L(!1)},title:"Add New UOM",children:(0,f.jsxs)("div",{className:"p-6",children:[(0,f.jsx)(s.II,{type:"text",value:T,onChange:function(e){return k(e.target.value)},placeholder:"Enter new UOM",className:"mb-4"}),(0,f.jsx)(s.zx,{icon:(0,f.jsx)(m.Lfi,{}),onClick:function(){T.trim()&&(0,a.Fv)(r.vh.ADD_EDIT_DATA,{name:T,modelType:r.kD.UOM}).then((function(e){var n={label:T,value:e.data.id};Z((function(e){return[].concat((0,c.Z)(e),[n])})),k(""),L(!1),s.Am.push((0,f.jsx)(s.P_,{type:"success",children:"UOM added successfully!"}))})).catch((function(e){console.error("Failed to add UOM:",e),s.Am.push((0,f.jsx)(s.P_,{type:"error",children:"Failed to add UOM. Please try again."}))}))},variant:"solid",children:"Add"})]})})]})},j=[{label:"LCodes",value:1},{label:"ICD",value:2}],D=[{label:"Consumables",value:1},{label:"Manufacture",value:2}],N=function(e){var n=e.editData,l=e.onCancel,o=e.onSave,i=e.isLoading;return(0,f.jsxs)("div",{className:"text-right w-full",children:[(0,f.jsx)(s.zx,{className:"mr-2",onClick:l,disabled:i,icon:(0,f.jsx)(m.SV5,{}),children:"Cancel"}),(0,f.jsx)(s.zx,{variant:"solid",type:"submit",onClick:o,disabled:i,icon:(0,f.jsx)(m.JMf,{}),children:null!==n&&void 0!==n&&n.id?"Update":"Save"})]})},S=p.Ry().shape({code:p.Z_().required("Required"),type:p.Ry().required("Required")}),A={material:"",Group:"",code:"",description:"",type:"",location:""},I=function(e){var n=e.editData,l=e.show,o=e.onClose,u=e.refreshPage,c=(0,t.useRef)(),p=(0,t.useState)(!1),m=(0,i.Z)(p,2),h=m[0],x=m[1];return(0,f.jsx)(s.dy,{isOpen:l,onClose:o,onRequestClose:o,closable:!1,bodyClass:"p-0",title:null!==n&&void 0!==n&&n.id?"Edit Items":"Add Items",footer:(0,f.jsx)(N,{onCancel:o,onSave:function(){var e;return null===c||void 0===c||null===(e=c.current)||void 0===e?void 0:e.submitForm()},isLoading:h,editData:n}),children:(0,f.jsx)(d.lG,{children:(0,f.jsx)(v.J9,{innerRef:c,initialValues:n||A,validationSchema:S,onSubmit:function(e){var n,l,i=e.material,t=e.code,d=e.id,c=e.description,v=e.type,p=e.group;console.log(),x(!0);var m={material:i,code:t,description:c,type:null===v||void 0===v||null===(n=v.value)||void 0===n?void 0:n.toString(),group:null===p||void 0===p||null===(l=p.value)||void 0===l?void 0:l.toString(),modelType:r.kD.MATERIALS};console.log(m),d&&(m.id=d),(0,a.Fv)(r.vh.ADD_EDIT_DATA,m).then((function(){o(),u(),s.Am.push((0,f.jsx)(s.P_,{type:"success",children:"Material saved!"}))})).finally((function(){return x(!1)}))},enableReinitialize:!0,children:function(e){var n=e.errors,l=e.touched,o=e.setFieldValue,i=e.values;return(0,f.jsx)(v.l0,{className:"p-5",children:(0,f.jsxs)(s.Yb,{children:[(0,f.jsx)(s.xJ,{label:"Material Name",invalid:(null===n||void 0===n?void 0:n.material)&&(null===l||void 0===l?void 0:l.material),errorMessage:null===n||void 0===n?void 0:n.material,children:(0,f.jsx)(v.gN,{type:"text",autoComplete:"off",name:"material",placeholder:"Enter Material Name",component:s.II})}),(0,f.jsx)(s.xJ,{label:"Group",invalid:(null===n||void 0===n?void 0:n.group)&&(null===l||void 0===l?void 0:l.group),errorMessage:null===n||void 0===n?void 0:n.group,children:(0,f.jsx)(s.Ph,{autoComplete:"off",size:"sm",name:"group",className:"mb-1 w-full",placeholder:"Select Group",options:D,value:i.group,onChange:function(e){o("group",e)}})}),(0,f.jsx)(s.xJ,{label:"Type",invalid:(null===n||void 0===n?void 0:n.type)&&(null===l||void 0===l?void 0:l.type),errorMessage:null===n||void 0===n?void 0:n.type,children:(0,f.jsx)(s.Ph,{autoComplete:"off",size:"sm",name:"type",className:"mb-1 w-full",placeholder:"Select Type",options:j,value:i.type,onChange:function(e){o("type",e)}})}),(0,f.jsx)(s.xJ,{label:"Code",invalid:(null===n||void 0===n?void 0:n.code)&&(null===l||void 0===l?void 0:l.code),errorMessage:null===n||void 0===n?void 0:n.code,children:(0,f.jsx)(v.gN,{type:"text",autoComplete:"off",name:"code",placeholder:"Enter Code",component:s.II})}),(0,f.jsx)(s.xJ,{label:"Description",children:(0,f.jsx)(v.gN,{type:"text",autoComplete:"off",name:"description",placeholder:"Enter Description",component:s.II})}),(0,f.jsx)(s.xJ,{label:"Location",children:(0,f.jsx)(v.gN,{type:"text",autoComplete:"off",name:"location",placeholder:"Enter Location",component:s.II})})]})})}})})})},Z=l(52452),E=l(93156),M=l(25764),T=l(76053),k=l(54048),O=l(52639),F=l(53247),w=l(31673),L=l(47511),P=function(e){return"1"===e?{label:"Lcodes",value:1}:{label:"icd",value:2}},R=function(e){return"1"===e?{label:"Consumables",value:1}:{label:"Manufacture",value:2}},z=[{label:"Edit",key:O.A6.EDIT,show:function(){return(0,L.ZP)(L.Fm.CODES,L.qz.WRITE)}},{label:(0,f.jsx)(m.YK6,{style:{fontSize:"1.2rem"}}),key:O.A6.DELETE,toolTip:"Delete",show:function(){return(0,L.ZP)(L.Fm.CODES,L.qz.DELETE)}}],_=[{label:"Add Material",key:O.A6.ADD,icon:(0,f.jsx)(u.HQD,{})}],q=[{component:"select",options:[{label:"Lcodes",value:1},{label:"icd",value:2}],className:"mb-4 w-40\t",placeholder:"Code Type",filterKey:"codeType"},{component:"input",className:"mb-4 w-40\t",placeholder:"CreatedBy",filterKey:"createdBy"},{component:"resetButton",label:"Reset",icon:(0,f.jsx)(T.pYJ,{}),className:"mb-4",filterKey:{codeType:""}}],U={header:O.BI.HEADER,des:O.BI.DELETE,buttonLabel:"Delete"},V="Import",J="Choose File to upload",B="Upload",H="Uploading",K=function(){var e=(0,t.useState)([]),n=(0,i.Z)(e,2),l=n[0],u=n[1],c=(0,t.useState)(!1),v=(0,i.Z)(c,2),p=v[0],m=v[1],h=(0,t.useState)(1),x=(0,i.Z)(h,2),y=x[0],C=x[1],g=(0,t.useState)(0),j=(0,i.Z)(g,2),D=j[0],N=j[1],S=(0,t.useState)(10),A=(0,i.Z)(S,2),T=A[0],K=A[1],G=(0,t.useState)(""),Y=(0,i.Z)(G,2),W=Y[0],Q=Y[1],X=(0,t.useState)(!1),$=(0,i.Z)(X,2),ee=$[0],ne=$[1],le=(0,t.useState)(!1),oe=(0,i.Z)(le,2),ie=oe[0],te=oe[1],ae=(0,t.useState)(!1),re=(0,i.Z)(ae,2),de=re[0],se=re[1],ue=(0,t.useState)(""),ce=(0,i.Z)(ue,2),ve=ce[0],pe=ce[1],me=(0,t.useState)(!1),fe=(0,i.Z)(me,2),he=fe[0],xe=fe[1],ye=(0,t.useState)(!1),Ce=(0,i.Z)(ye,2),ge=Ce[0],be=Ce[1],je=(0,t.useState)(),De=(0,i.Z)(je,2),Ne=De[0],Se=De[1],Ae=(0,t.useState)(""),Ie=(0,i.Z)(Ae,2),Ze=Ie[0],Ee=Ie[1],Me=function(){return se((function(e){return!e}))},Te=(0,t.useState)({codeType:""}),ke=(0,i.Z)(Te,2),Oe=ke[0],Fe=ke[1],we=(0,t.useState)(!1),Le=(0,i.Z)(we,2),Pe=Le[0],Re=Le[1],ze=(0,t.useState)(!1),_e=(0,i.Z)(ze,2),qe=_e[0],Ue=_e[1];(0,t.useEffect)((function(){m(!0);var e,n={type:r.kD.MATERIALS,limit:T,search:W,createdBy:null!==Oe&&void 0!==Oe&&Oe.createdBy?Oe.createdBy:null,skip:T*(y-1)};""!==(null===Oe||void 0===Oe?void 0:Oe.codeType)&&(n.codeType=null===Oe||void 0===Oe||null===(e=Oe.codeType)||void 0===e?void 0:e.value);(0,a.ac)(r.vh.LIST_DATA,(0,o.Z)({},n)).then((function(e){var n,l,o;Ee(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.lcodeSampleFile),u([]),u(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.data),N(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.count)})).finally((function(){return m(!1)}))}),[W,y,T,de,Oe]);var Ve=function(e,n,l){n===O.A6.EDIT&&(pe({id:null===l||void 0===l?void 0:l._id,material:null===l||void 0===l?void 0:l.material,group:R(null===l||void 0===l?void 0:l.group),code:null===l||void 0===l?void 0:l.code,description:null===l||void 0===l?void 0:l.description,type:P(null===l||void 0===l?void 0:l.type),uom:null===l||void 0===l?void 0:l.uom}),ne(!0)),n===O.A6.DELETE&&(pe({id:null===l||void 0===l?void 0:l._id}),xe(!0)),n===O.A6.VIEW&&(pe({id:null===l||void 0===l?void 0:l._id,material:null===l||void 0===l?void 0:l.material,group:R(null===l||void 0===l?void 0:l.group),code:null===l||void 0===l?void 0:l.code,description:null===l||void 0===l?void 0:l.description,type:P(null===l||void 0===l?void 0:l.type)}),te(!0))},Je=[{Header:"Material Code",accessor:function(e){return e.materialNo?e.materialNo:"-"}},{Header:"Code",accessor:"code"},{Header:"Material Name",accessor:"material"},{Header:"Description",Cell:function(e){var n,l=null===e||void 0===e||null===(n=e.row)||void 0===n?void 0:n.original;return null!==l&&void 0!==l&&l.description?null===l||void 0===l?void 0:l.description:"-"}},{Header:"Type",accessor:"type",Cell:function(e){return"1"===e.row.original.type?"Lcodes":"icd"}},{Header:"UOM",accessor:function(e){var n;return e.uomId?null===(n=e.uomId)||void 0===n?void 0:n.name:"-"}},{Header:"Group",accessor:"group",Cell:function(e){return"1"===e.row.original.group?"Consumables":"Manufacture"}},{Header:"CreatedBy",accessor:function(e){var n;return e.createdBy?null===(n=e.createdBy)||void 0===n?void 0:n.name:"-"}},{Header:"Active",Cell:function(e){return(0,f.jsx)(w.Z,{dataObj:e,setSelectedData:pe,setActiveConfirm:Re,setOpenModal:xe})}},{Header:"Actions",id:"action",accessor:function(e){return e},Cell:function(e){return(0,f.jsx)(Z.Z,{row:e.row.original,onActionHandle:Ve,actionsMenu:z})}}],Be=function(){pe(""),xe(!1),Re(!1)},He=function(){Ue(!1),Se("")};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(E.Z,{buttonMenu:(0,L.ZP)(L.Fm.CODES,L.qz.WRITE)?_:_.slice(0,_.length-1),FilterMenu:q,setSearch:Q,buttonClick:function(e,n){if(n===O.A6.ADD&&ne(!0),n===O.A6.IMPORT&&Ue(!0),n===O.A6.DOWNLOAD){var l="".concat(null===k.Z||void 0===k.Z?void 0:k.Z.imageBaseUrl).concat(Ze),o=document.createElement("a");o.href=l,o.download="example-file.txt",o.click(),window.URL.revokeObjectURL(l)}},setFilterValue:Fe,filterValue:Oe}),(0,f.jsx)(d.lG,{className:"h-full",bodyClass:"h-full",children:(0,f.jsx)(d.wQ,{columns:(0,L._P)(Je,L.Fm.CODES,1),isCursor:!1,data:l,loading:p,skeletonAvatarColumns:[0],skeletonAvatarProps:{width:28,height:28},pagingData:{pageIndex:y,pageSize:T,total:D},onPaginationChange:function(e){return C(e)},onSelectChange:function(e){return K(e)}})}),(0,f.jsx)(b,{show:ee,onClose:function(){pe(""),ne(!1)},refreshPage:Me,editData:ve}),(0,f.jsx)(I,{show:ie,onClose:function(){pe(""),te(!1)},refreshPage:Me,editData:ve}),(0,f.jsx)(M.Z,{isOpen:he,onConfirmClick:function(){var e,n={type:r.kD.MATERIALS,id:null===ve||void 0===ve?void 0:ve.id};Pe?(e=O.D5,n.status=+(null===ve||void 0===ve?void 0:ve.action)):(e=O.O7,n.status=0),(0,a.Fv)(r.vh.BLOCK_DELETE_DATA,n).then((function(n){s.Am.push((0,f.jsx)(s.P_,{type:"success",children:e})),se((function(e){return!e})),Be()}))},header:U.header,des:Pe?null===O.uF||void 0===O.uF?void 0:O.uF.des:O.BI.DELETE,onDialogClose:Be,isWarning:!Pe&&O.BI.WARNING,buttonLabel:Pe?null===O.uF||void 0===O.uF?void 0:O.uF.buttonLabel:U.buttonLabel}),(0,f.jsx)(F.Z,{uploadLoading:ge,setUploadFile:Se,isOpen:qe,header:V,des:J,onDialogClose:He,onConfirmClick:function(){be(!0);for(var e=new FormData,n=0;n<(null===Ne||void 0===Ne?void 0:Ne.length);n++)e.append("file",Ne[n]);(0,a.Fv)(r.vh.IMPORT_CODE,e).then((function(e){se((function(e){return!e})),be(!1),s.Am.push((0,f.jsx)(s.P_,{type:"success",children:O.pX})),He()}))},buttonLabel:ge?H:B,uploadFile:Ne})]})}}}]);
//# sourceMappingURL=4125.fb1cc887.chunk.js.map