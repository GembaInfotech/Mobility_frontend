"use strict";(self.webpackChunknasp=self.webpackChunknasp||[]).push([[9096],{9494:function(n,e,i){i.d(e,{EY:function(){return c},Fv:function(){return r},ac:function(){return t}});var o=i(74165),l=i(15861),a=i(91181),d=i(14712);function t(n,e){return d.Z.get(n,{params:e}).then((function(n){return null===n||void 0===n?void 0:n.data}))}function r(n,e){return d.Z.post(n,e).then((function(n){return null===n||void 0===n?void 0:n.data}))}function c(n){return u.apply(this,arguments)}function u(){return(u=(0,l.Z)((0,o.Z)().mark((function n(e){return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",a.Z.fetchData({url:"/search/query",method:"post",data:e}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},5880:function(n,e,i){i.r(e),i.d(e,{default:function(){return E}});var o,l=i(37762),a=i(1413),d=i(29439),t=i(72791),r=i(16146),c=i(92506),u=i(83776),s=i(80034),v=i(58617),p=i(78820),m=i(75737),y=i.n(m),h=(i(70902),i(11799)),f=i.n(h),I=(i(81778),i(80184)),x={deviceType:"",icdCode:"",lCode:"",quantity:"",segment:1},b=function(n){var e,i,o,l=n.field,a=n.setFieldValue,d=n.values,m=n.errors,h=(n.touched,n.onChange),b=(0,t.useRef)(x);return(0,I.jsxs)(I.Fragment,{children:["datepicker"===l.component&&(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(r.Mt,{inputtable:!0,name:l.name,defaultValue:new Date(null===d||void 0===d?void 0:d[l.name])||"",value:null!==d&&void 0!==d&&d[l.name]?new Date(null===d||void 0===d?void 0:d[l.name]):"",onChange:function(n){return a(l.name,n)},style:{display:null!==l&&void 0!==l&&l.isDisable?"none":"block"},placeholder:"MM/DD/YYYY"})}),"upload"===l.component&&(0,I.jsxs)(r.BZ,{className:"mb-4",children:[(0,I.jsx)(r.II,{value:null===(e=d[l.name])||void 0===e||null===(i=e[0])||void 0===i?void 0:i.name}),(0,I.jsx)(r.gq,{className:"cursor-pointer",onChange:function(n){return a(l.name,n)},showList:!1,uploadLimit:1})]}),"asyncSelect"===l.component&&(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(c.gN,{component:r.Ph,autoComplete:"off",isMulti:l.isMulti,placeholder:l.placeholder,defaultOptions:!0,cacheOptions:!0,loadOptions:null===l||void 0===l?void 0:l.option,componentAs:s.Z,onChange:function(n){a(l.name,n),null===h||void 0===h||h(l.name,n)},name:l.name,value:null===d||void 0===d?void 0:d[l.name]},l.label)}),"select"===l.component&&(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(c.gN,{component:r.Ph,autoComplete:"off",placeholder:l.placeholder,options:l.option,onChange:function(n){a(l.name,n)},name:l.name,value:null===l||void 0===l||null===(o=l.option)||void 0===o?void 0:o.find((function(n){return(null===n||void 0===n?void 0:n.value)===(null===d||void 0===d?void 0:d[l.name])}))})}),"fieldArray"===l.component&&(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(c.F2,{name:l.name,render:function(n){var e;return b.current=n,(0,I.jsx)("div",{className:"p-4 border border-blue-900 mb-4",children:null===d||void 0===d||null===(e=d[l.name])||void 0===e?void 0:e.map((function(n,e){var i;return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:"w-full flex justify-between items-center mb-5",children:[(0,I.jsxs)("div",{className:"flex flex-col",children:[(0,I.jsx)("div",{className:"flex",children:null===u.xG||void 0===u.xG?void 0:u.xG.map((function(n,i){var o,t,r,u,s,v;return(0,I.jsxs)("div",{children:[(0,I.jsx)("p",{children:null===n||void 0===n?void 0:n.label}),(0,I.jsx)(c.gN,{isMulti:null===n||void 0===n?void 0:n.isMulti,className:"mr-3 w-40",autoComplete:"off",loadOptions:null===n||void 0===n?void 0:n.option,value:null===d||void 0===d||null===(o=d[l.name])||void 0===o||null===(t=o[e])||void 0===t?void 0:t[null===n||void 0===n?void 0:n.key],name:"".concat(l.name,".").concat(e,".").concat(null===n||void 0===n?void 0:n.key),onChange:function(i){var o;a("".concat(l.name,".").concat(e,".").concat(null===n||void 0===n?void 0:n.key),"select"===(null===n||void 0===n?void 0:n.type)?i:null===i||void 0===i||null===(o=i.target)||void 0===o?void 0:o.value)},placeholder:n.placeholder,component:null===n||void 0===n?void 0:n.component,defaultOptions:!0,cacheOptions:!0},"".concat(e,"-").concat(null===n||void 0===n?void 0:n.key,"-").concat(i)),(0,I.jsx)("div",{className:"text-xs text-red-500\t",children:null!==m&&void 0!==m&&null!==(r=m[l.name])&&void 0!==r&&null!==(u=r[e])&&void 0!==u&&u[null===n||void 0===n?void 0:n.key]?null===m||void 0===m||null===(s=m[l.name])||void 0===s||null===(v=s[e])||void 0===v?void 0:v[null===n||void 0===n?void 0:n.key]:(0,I.jsx)("div",{className:"invisible",children:"Error"})})]},i)}))}),(0,I.jsx)("div",{children:(0,I.jsx)("p",{children:"Select Segment"})}),(0,I.jsx)("div",{className:"flex mt-3",children:u.qe.map((function(n,i){var o,t,c,u;return(0,I.jsx)(r.Y8,{className:"mr-4",name:"".concat(l.name,".").concat(e,".segment"),defaultValue:null===d||void 0===d||null===(o=d[l.name])||void 0===o||null===(t=o[e])||void 0===t?void 0:t.segment,onChange:function(i){a("".concat(l.name,".").concat(e,".segment"),n.value)},checked:n.value===(null===d||void 0===d||null===(c=d[l.name])||void 0===c||null===(u=c[e])||void 0===u?void 0:u.segment),children:n.label},i)}))})]}),(0,I.jsxs)("div",{className:"flex mt-2",children:[(0,I.jsx)("div",{className:"invisible text-xs text-red-500",children:"Error"}),(0,I.jsx)(r.zx,{size:"sm",variant:"twoTone",icon:(0,I.jsx)(v.r7I,{}),type:"button",onClick:function(){return b.current.push(x)}}),(0,I.jsx)(r.zx,{className:"ml-3",size:"sm",variant:"twoTone",color:"red-600",icon:(0,I.jsx)(p.VPh,{}),type:"button",onClick:function(){return b.current.remove(e)}})]})]},e),e!==(null===d||void 0===d||null===(i=d.prescriptions)||void 0===i?void 0:i.length)-1&&(0,I.jsx)("hr",{className:"my-5"})]})}))})}})}),"PdfUpload"===(null===l||void 0===l?void 0:l.component)&&(0,I.jsx)(r.gq,{uploadLimit:1,draggable:!0,accept:".pdf,.jpeg,.jpg,.png",name:l.name,fileList:null===d||void 0===d?void 0:d[l.name],onChange:function(n){a(l.name,n[0])},children:(0,I.jsxs)("div",{className:"my-5 text-center",children:[(0,I.jsx)("div",{className:"text-6xl mb-4 flex justify-center",children:(0,I.jsx)(p.ih9,{})}),(0,I.jsxs)("p",{className:"font-semibold",children:[(0,I.jsx)("span",{className:"text-gray-800 dark:text-white",children:"Drop your doc here, or "}),(0,I.jsx)("span",{className:"text-blue-500",children:"browse"})]}),(0,I.jsx)("p",{className:"mt-1 opacity-60 dark:text-white",children:"Support: Jpeg, Png, Pdf Only"})]})}),"phoneNumber"===l.component&&(0,I.jsx)(y(),{inputStyle:{width:"369px",padding:"11px 14px 11px 60px"},enableSearch:!0,value:null===d||void 0===d?void 0:d[l.name],country:"us",countryCodeEditable:!0,onChange:function(n,e){a(l.name,n),a(l.countryCode,null===e||void 0===e?void 0:e.dialCode)}}),"timeInput"===l.component&&(0,I.jsx)(f(),{onChange:function(n){n._isValid&&a(l.name,n)},value:new Date(null===d||void 0===d?void 0:d[l.name]),dateFormat:!1,timeFormat:"hh:mm  A",inputProps:{placeholder:"Enter time",style:{width:"100%",borderWidth:"1px",height:"2.75rem",borderRadius:"0.375rem",padding:"0.5rem 0.75rem"}}}),"switch"===l.component&&(0,I.jsx)(r.T5,{name:l.name,checked:null===d||void 0===d?void 0:d[l.name],onChange:function(n,e){a(l.name,!(null!==d&&void 0!==d&&d[l.name]))}})]})},N=i(57689),g=i(9494),S=i(11723),j=i(52639),D=i(62797),C=i(97892),T=i.n(C),A=i(16856),_=i(60364),P=D.Ry().shape({patientId:D.Ry().required("Required"),locationId:D.Ry().required("Required"),physicianId:D.Ry().required("Required"),prescriptions:D.IX(),prescriptionDocument:D.nK(),physicianNotes:D.O7(),primaryInsuranceNo:D.Z_(),primaryInsurance:D.Ry(),secondaryInsurance:D.Ry(),secondaryInsuranceNo:D.Z_(),insuranceType:D.Rx(),insuranceDocument:D.nK(),notes:D.Z_()}),w={companyId:"",patientId:"",locationId:"",appointmentLocationId:"",physicianId:"",renderingPhysicianId:"",nextAppointmentDate:new Date,prescriptionDocument:"",physicianNotes:!1,primaryInsurance:"",primaryInsuranceNo:"",secondaryInsurance:"",secondaryInsuranceNo:"",insuranceDocument:"",notes:"",insuranceType:null===(o=u.mf[1])||void 0===o?void 0:o.value,prescriptions:[{deviceType:"",icdCode:"",lCode:"",quantity:"",segment:1}]},E=function(){var n,e=localStorage.getItem("selectedHospitalId"),i=((0,_.v9)((function(n){return n.auth.user})),(0,N.UO)().id),o=(0,t.useState)({}),s=(0,d.Z)(o,2),v=s[0],p=s[1],m=(0,t.useState)(!0),y=(0,d.Z)(m,2),h=y[0],f=y[1],x=(0,N.s0)(),D=(0,N.TH)();if(D.state){var C,E,k,L,R=D.state.patientData;if(w.patientId={label:"".concat(null===R||void 0===R?void 0:R.firstName," ").concat(null===R||void 0===R?void 0:R.lastName," - ").concat(T()(null===R||void 0===R?void 0:R.dob).format(j.zT)," (").concat(null===R||void 0===R?void 0:R.patientNo,")"),value:null===R||void 0===R?void 0:R._id},null!==R&&void 0!==R&&R.primaryInsurance)w.primaryInsurance={label:null===R||void 0===R||null===(C=R.primaryInsurance)||void 0===C?void 0:C.name,value:null===R||void 0===R||null===(E=R.primaryInsurance)||void 0===E?void 0:E._id};if(null!==R&&void 0!==R&&R.primaryInsuranceNo&&(w.primaryInsuranceNo=null===R||void 0===R?void 0:R.primaryInsuranceNo),null!==R&&void 0!==R&&R.secondaryInsuranceNo&&(w.secondaryInsuranceNo=null===R||void 0===R?void 0:R.secondaryInsuranceNo),null!==R&&void 0!==R&&R.secondaryInsurance)w.secondaryInsurance={label:null===R||void 0===R||null===(k=R.secondaryInsurance)||void 0===k?void 0:k.name,value:null===R||void 0===R||null===(L=R.secondaryInsurance)||void 0===L?void 0:L._id}}(0,t.useEffect)((function(){i?(0,g.ac)(S.vh.GET_SERVICE_ORDER,{id:i,companyId:e}).then((function(n){var e,i,o,l,d,t,r,c,u,s,v,m,y,h,f,I,x,b,N,g,S,D,C,A,_,P,w,E,k,L,R,Z,O,F,q,z,V,M=null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.data,U=(0,a.Z)({},M);(U.patientId={label:"".concat(null===M||void 0===M||null===(i=M.patientId)||void 0===i?void 0:i.firstName," ").concat(null===M||void 0===M||null===(o=M.patientId)||void 0===o?void 0:o.lastName," - ").concat(T()(null===M||void 0===M||null===(l=M.patientId)||void 0===l?void 0:l.dob).format(j.zT)," (").concat(null===M||void 0===M||null===(d=M.patientId)||void 0===d?void 0:d.patientNo,")"),value:null===M||void 0===M||null===(t=M.patientId)||void 0===t?void 0:t._id},U.physicianId={label:"".concat(null===M||void 0===M||null===(r=M.physicianId)||void 0===r?void 0:r.name),value:null===M||void 0===M||null===(c=M.physicianId)||void 0===c?void 0:c._id},null!==M&&void 0!==M&&null!==(u=M.renderingPhysicianId)&&void 0!==u&&u._id&&(U.renderingPhysicianId={label:"".concat(null===M||void 0===M||null===(s=M.renderingPhysicianId)||void 0===s?void 0:s.name),value:null===M||void 0===M||null===(v=M.renderingPhysicianId)||void 0===v?void 0:v._id}),null!==M&&void 0!==M&&null!==(m=M.appointmentLocationId)&&void 0!==m&&m._id&&(U.appointmentLocationId={label:"".concat(null===M||void 0===M||null===(y=M.appointmentLocationId)||void 0===y?void 0:y.name),value:null===M||void 0===M||null===(h=M.appointmentLocationId)||void 0===h?void 0:h._id}),U.locationId={label:"".concat(null===M||void 0===M||null===(f=M.locationId)||void 0===f?void 0:f.name),value:null===M||void 0===M||null===(I=M.locationId)||void 0===I?void 0:I._id},null!==(x=M.patientId)&&void 0!==x&&x.primaryInsurance)&&(U.primaryInsurance={label:"".concat(null===M||void 0===M||null===(P=M.patientId)||void 0===P||null===(w=P.primaryInsurance)||void 0===w?void 0:w.name),value:null===M||void 0===M||null===(E=M.patientId)||void 0===E||null===(k=E.primaryInsurance)||void 0===k?void 0:k._id});(null!==(b=M.patientId)&&void 0!==b&&b.primaryInsuranceNo&&(U.primaryInsuranceNo=null===M||void 0===M||null===(N=M.patientId)||void 0===N?void 0:N.primaryInsuranceNo),null!==(g=M.patientId)&&void 0!==g&&g.secondaryInsuranceNo&&(U.secondaryInsuranceNo=null===M||void 0===M||null===(S=M.patientId)||void 0===S?void 0:S.secondaryInsuranceNo),null!==(D=M.patientId)&&void 0!==D&&D.secondaryInsurance)&&(U.secondaryInsurance={label:"".concat(null===M||void 0===M||null===(L=M.patientId)||void 0===L||null===(R=L.secondaryInsurance)||void 0===R?void 0:R.name),value:null===M||void 0===M||null===(Z=M.patientId)||void 0===Z||null===(O=Z.secondaryInsurance)||void 0===O?void 0:O._id});null!==M&&void 0!==M&&null!==(C=M.prescriptionDocument)&&void 0!==C&&C.original&&(U.prescriptionDocument.name=null===M||void 0===M||null===(F=M.prescriptionDocument)||void 0===F?void 0:F.original,U.prescriptionDocument.type="application/".concat(null===M||void 0===M||null===(q=M.prescriptionDocument)||void 0===q?void 0:q.ext),U.prescriptionDocument=[U.prescriptionDocument]);null!==M&&void 0!==M&&null!==(A=M.insuranceDocument)&&void 0!==A&&A.original&&(U.insuranceDocument.name=null===M||void 0===M||null===(z=M.insuranceDocument)||void 0===z?void 0:z.original,U.insuranceDocument.type="application/".concat(null===M||void 0===M||null===(V=M.insuranceDocument)||void 0===V?void 0:V.ext),U.insuranceDocument=[U.insuranceDocument]);U.prescriptions=null===M||void 0===M||null===(_=M.prescriptions)||void 0===_?void 0:_.map((function(n){var e,i,o,l,a;return{deviceType:{label:null===n||void 0===n||null===(e=n.deviceType)||void 0===e?void 0:e.name,value:null===n||void 0===n||null===(i=n.deviceType)||void 0===i?void 0:i._id},icdCode:null===n||void 0===n||null===(o=n.icdCode)||void 0===o?void 0:o.map((function(n){return{label:null===n||void 0===n?void 0:n.code,value:null===n||void 0===n?void 0:n._id}})),lCode:{label:null===n||void 0===n||null===(l=n.lCode)||void 0===l?void 0:l.code,value:null===n||void 0===n||null===(a=n.lCode)||void 0===a?void 0:a._id},quantity:null===n||void 0===n?void 0:n.quantity,segment:null===n||void 0===n?void 0:n.segment,prescriptionDocument:(null===n||void 0===n?void 0:n.prescriptionDocument)||{}}})),p(U)})).finally((function(){f(!1)})):f(!1)}),[i]);var Z=function(n,e){if("patientId"===n){var i,o,l,a,d,t,r,c,u,s,v,p,m,y;if(null!==e&&void 0!==e&&null!==(i=e.data)&&void 0!==i&&i.primaryInsurance)M("primaryInsurance",{label:null===e||void 0===e||null===(d=e.data)||void 0===d||null===(t=d.primaryInsurance)||void 0===t?void 0:t.name,value:null===e||void 0===e||null===(r=e.data)||void 0===r||null===(c=r.primaryInsurance)||void 0===c?void 0:c._id});else M("primaryInsurance",null);if(null!==e&&void 0!==e&&null!==(o=e.data)&&void 0!==o&&o.primaryInsuranceNo)M("primaryInsuranceNo",null===e||void 0===e||null===(u=e.data)||void 0===u?void 0:u.primaryInsuranceNo);else M("primaryInsuranceNo","");if(null!==e&&void 0!==e&&null!==(l=e.data)&&void 0!==l&&l.secondaryInsurance)M("secondaryInsurance",{label:null===e||void 0===e||null===(s=e.data)||void 0===s||null===(v=s.secondaryInsurance)||void 0===v?void 0:v.name,value:null===e||void 0===e||null===(p=e.data)||void 0===p||null===(m=p.secondaryInsurance)||void 0===m?void 0:m._id});else M("secondaryInsurance",null);if(null!==e&&void 0!==e&&null!==(a=e.data)&&void 0!==a&&a.secondaryInsuranceNo)M("secondaryInsuranceNo",null===e||void 0===e||null===(y=e.data)||void 0===y?void 0:y.secondaryInsuranceNo);else M("secondaryInsuranceNo","")}},O=(0,c.TA)({initialValues:i?v:w,enableReinitialize:!0,validationSchema:P,onSubmit:function(n){var o=new FormData;i&&o.append("id",i);var a,d,t,c,u,s,v,p,m=[],y=(0,l.Z)(n.prescriptions);try{for(y.s();!(a=y.n()).done;){var h,f,b,N,D=a.value;m.push({deviceType:null===D||void 0===D||null===(h=D.deviceType)||void 0===h?void 0:h.value,lCode:(null===D||void 0===D||null===(f=D.lCode)||void 0===f?void 0:f.value)||null,icdCode:null!==D&&void 0!==D&&null!==(b=D.icdCode)&&void 0!==b&&b.length?null===D||void 0===D||null===(N=D.icdCode)||void 0===N?void 0:N.map((function(n){return null===n||void 0===n?void 0:n.value})):[],quantity:parseInt(null===D||void 0===D?void 0:D.quantity),segment:parseInt(null===D||void 0===D?void 0:D.segment)})}}catch(C){y.e(C)}finally{y.f()}(o.append("prescriptions",JSON.stringify(m)),null!==n&&void 0!==n&&n.prescriptionDocument&&!Array.isArray(null===n||void 0===n?void 0:n.prescriptionDocument)&&o.append("prescriptionDocument",null===n||void 0===n?void 0:n.prescriptionDocument),n.insuranceDocument&&!Array.isArray(null===n||void 0===n?void 0:n.insuranceDocument)&&o.append("insuranceDocument",null===n||void 0===n?void 0:n.insuranceDocument),n.primaryInsurance)&&o.append("primaryInsurance",null===n||void 0===n||null===(d=n.primaryInsurance)||void 0===d?void 0:d.value);n.secondaryInsurance&&o.append("secondaryInsurance",null===n||void 0===n||null===(t=n.secondaryInsurance)||void 0===t?void 0:t.value);(null!==n&&void 0!==n&&n.primaryInsuranceNo&&o.append("primaryInsuranceNo",null===n||void 0===n?void 0:n.primaryInsuranceNo),n.secondaryInsuranceNo&&o.append("secondaryInsuranceNo",null===n||void 0===n?void 0:n.secondaryInsuranceNo),n.patientId)&&o.append("patientId",null===n||void 0===n||null===(c=n.patientId)||void 0===c?void 0:c.value);n.locationId&&o.append("locationId",null===n||void 0===n||null===(u=n.locationId)||void 0===u?void 0:u.value);n.appointmentLocationId&&o.append("appointmentLocationId",null===n||void 0===n||null===(s=n.appointmentLocationId)||void 0===s?void 0:s.value);n.physicianId&&o.append("physicianId",null===n||void 0===n||null===(v=n.physicianId)||void 0===v?void 0:v.value);n.renderingPhysicianId&&o.append("renderingPhysicianId",null===n||void 0===n||null===(p=n.renderingPhysicianId)||void 0===p?void 0:p.value);n.nextAppointmentDate&&o.append("nextAppointmentDate",null===n||void 0===n?void 0:n.nextAppointmentDate),o.append("notes",(null===n||void 0===n?void 0:n.notes)||""),o.append("insuranceType",null===n||void 0===n?void 0:n.insuranceType),"physicianNotes"in n&&o.append("physicianNotes",null===n||void 0===n?void 0:n.physicianNotes),o.append("companyId",e),(0,g.Fv)(S.vh.ADD_EDIT_PRESCRIPTION,o).then((function(n){var e;(console.log("formData asdf",o),r.Am.push((0,I.jsx)(r.P_,{type:"success",children:i?j.D5:j.Te})),i)||x("/app/service-order/edit/"+(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e._id))})).catch((function(n){r.Am.push((0,I.jsx)(r.P_,{type:"error",children:n}))})).finally((function(){Y(!1)}))}}),F=O.errors,q=O.touched,z=O.values,V=O.handleSubmit,M=(O.getFieldProps,O.setFieldValue),U=O.isSubmitting,Y=O.setSubmitting;return(0,I.jsx)(c.Hy,{value:O,children:(0,I.jsxs)(c.l0,{className:"p-1",onSubmit:V,autoComplete:"off",noValidate:!0,children:[(0,I.jsxs)("div",{className:"flex mb-3 justify-between w-3/4",children:[(0,I.jsx)("h3",{className:"mb-10",children:i?"Edit Prescription":"Add Prescription"}),(0,I.jsxs)("div",{className:"flex",children:[(0,I.jsxs)(r.zx,{size:"sm",variant:"solid",onClick:function(){return x(-1)},type:"button",className:"flex items-center",children:[(0,I.jsx)(A.dWm,{style:{fontSize:"20px"}}),"Back / Cancel"]}),(0,I.jsx)(r.zx,{size:"sm",variant:"solid",style:{marginLeft:"5px"},loading:U,type:"submit",children:i?"Update":"Save"})]})]}),(null===z||void 0===z?void 0:z.patientId)&&(0,I.jsx)("div",{children:(0,I.jsx)("h4",{children:"Patient: "+(null===z||void 0===z||null===(n=z.patientId)||void 0===n?void 0:n.label)||0})}),(0,I.jsxs)("div",{children:[h&&(0,I.jsx)("div",{className:"flex justify-center",children:(0,I.jsx)(r.$j,{size:"3.25rem"})}),!h&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(r.Zb,{className:"mt-2.5 w-3/4 ",children:[(0,I.jsx)("h5",{className:"mb-4",children:"Prescription Information"}),(0,I.jsxs)(r.Yb,{children:[(0,I.jsx)(b,{id:i,errors:F,field:{name:"prescriptions",component:"fieldArray"},setFieldValue:M,values:z}),(0,I.jsx)("div",{className:" md:w-full lg:w-1/2",children:u.AH.map((function(n,e,o){return(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(r.xJ,{label:null===n||void 0===n?void 0:n.label,className:"ml-3 ",invalid:(null===F||void 0===F?void 0:F[null===n||void 0===n?void 0:n.name])&&(null===q||void 0===q?void 0:q[null===n||void 0===n?void 0:n.name]),errorMessage:null===F||void 0===F?void 0:F[null===n||void 0===n?void 0:n.name],children:n.isBasic?(0,I.jsx)(c.gN,{textArea:!(null===n||void 0===n||!n.textArea),type:null===n||void 0===n?void 0:n.type,autoComplete:"off",name:null===n||void 0===n?void 0:n.name,placeholder:null===n||void 0===n?void 0:n.placeholder,component:null===n||void 0===n?void 0:n.component}):(0,I.jsx)(b,{id:i,errors:F,field:n,setFieldValue:M,values:z,onChange:Z})},e)})}))})]})]}),(0,I.jsx)(r.Zb,{className:"mt-4 w-3/4 ",children:(0,I.jsxs)(r.Yb,{className:" md:w-full lg:w-1/2",children:[(0,I.jsx)("h5",{className:"mb-4",children:"Insurance Information"}),u.mf.map((function(n,e){return(0,I.jsx)(r.Y8,{className:"mr-4 mb-4",name:"insuranceType",value:n.value,onChange:function(e){return M("insuranceType",n.value)},checked:n.value===(null===z||void 0===z?void 0:z.insuranceType),children:n.label})})),2===(null===z||void 0===z?void 0:z.insuranceType)&&(0,I.jsx)(I.Fragment,{children:u.MS.map((function(n,e,o){return(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(r.xJ,{label:null===n||void 0===n?void 0:n.label,className:"ml-3",invalid:(null===F||void 0===F?void 0:F[null===n||void 0===n?void 0:n.name])&&(null===q||void 0===q?void 0:q[null===n||void 0===n?void 0:n.name]),errorMessage:null===F||void 0===F?void 0:F[null===n||void 0===n?void 0:n.name],children:n.isBasic?(0,I.jsx)(c.gN,{textArea:!(null===n||void 0===n||!n.textArea),type:null===n||void 0===n?void 0:n.type,autoComplete:"off",name:null===n||void 0===n?void 0:n.name,placeholder:null===n||void 0===n?void 0:n.placeholder,component:null===n||void 0===n?void 0:n.component}):(0,I.jsx)(b,{id:i,errors:F,field:n,setFieldValue:M,values:z})},e)})}))})]})})]})]}),(0,I.jsxs)("div",{className:"flex mt-3 justify-between w-3/4",children:[(0,I.jsx)("h3",{}),(0,I.jsxs)("div",{className:"flex",children:[(0,I.jsxs)(r.zx,{size:"sm",variant:"solid",onClick:function(){return x(-1)},type:"button",className:"flex items-center",children:[(0,I.jsx)(A.dWm,{style:{fontSize:"20px"}}),"Back / Cancel"]}),(0,I.jsx)(r.zx,{size:"sm",variant:"solid",style:{marginLeft:"5px"},loading:U,type:"submit",children:i?"Update":"Save"})]})]})]})})}},83776:function(n,e,i){i.d(e,{AH:function(){return T},Fh:function(){return P},IC:function(){return D},MS:function(){return A},m0:function(){return w},mf:function(){return C},qe:function(){return E},xG:function(){return _}});var o=i(16146),l=(i(62797),i(9494)),a=i(48573),d=i.n(a),t=i(11723),r=i(80034),c=i(52639),u=i(97892),s=i.n(u),v=localStorage.getItem("selectedHospitalId"),p=function(n,e){(0,l.ac)(t.vh.LIST_DATA,{type:t.kD.PHYSICIANS,companyId:v,search:n}).then((function(n){var i,o=null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.data.map((function(n){return{label:"".concat(null===n||void 0===n?void 0:n.name),value:null===n||void 0===n?void 0:n._id}}));e(o)}))},m=function(n,e){(0,l.ac)(t.vh.LIST_DATA,{type:t.kD.LOCATIONS,companyId:v,search:n}).then((function(n){var i,o=null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.data.map((function(n){return{label:"".concat(null===n||void 0===n?void 0:n.name),value:null===n||void 0===n?void 0:n._id}}));e(o)}))},y=d()(p,300),h=d()(p,300),f=d()((function(n,e){(0,l.ac)(t.vh.LIST_DATA,{type:t.kD.CODES,companyId:v,search:n,codeType:c.FF.Lcode}).then((function(n){var i,o=null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.data.map((function(n){return{label:null===n||void 0===n?void 0:n.code,value:null===n||void 0===n?void 0:n._id}}));e(o)}))}),300),I=d()((function(n,e){(0,l.ac)(t.vh.LIST_DATA,{type:t.kD.CODES,companyId:v,search:n,codeType:c.FF.Icd}).then((function(n){var i,o=null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.data.map((function(n){return{label:null===n||void 0===n?void 0:n.code,value:null===n||void 0===n?void 0:n._id}}));e(o)}))}),300),x=d()(m,300),b=d()(m,300),N=d()((function(n,e){(0,l.ac)(t.vh.LIST_DATA,{type:t.kD.PATIENTS,companyId:v,search:n}).then((function(n){var i,o=null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.data.map((function(n){return{label:"".concat(null===n||void 0===n?void 0:n.firstName," ").concat(null===n||void 0===n?void 0:n.lastName," - ").concat(s()(null===n||void 0===n?void 0:n.dob).format(c.zT)," (").concat(null===n||void 0===n?void 0:n.patientNo,")"),value:null===n||void 0===n?void 0:n._id,data:n}}));e(o)}))}),300),g=d()((function(n,e){(0,l.ac)(t.vh.LIST_DATA,{type:t.kD.DEVICE_TYPES,companyId:v,search:n}).then((function(n){var i,o=null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.data.map((function(n){return{label:null===n||void 0===n?void 0:n.name,value:null===n||void 0===n?void 0:n._id}}));e(o)}))}),300),S=d()((function(n,e){(0,l.ac)(t.vh.LIST_DATA,{type:t.kD.INSURANCES,companyId:v,search:n}).then((function(n){var i,o=null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.data.map((function(n){return{label:null===n||void 0===n?void 0:n.name,value:null===n||void 0===n?void 0:n._id}}));e(o)}))}),300),j=d()((function(n,e){(0,l.ac)(t.vh.LIST_DATA,{type:t.kD.INSURANCES,companyId:v,search:n}).then((function(n){var i,o=null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.data.map((function(n){return{label:null===n||void 0===n?void 0:n.name,value:null===n||void 0===n?void 0:n._id}}));e(o)}))}),300),D=[{label:"Referral Sent",value:1,color:"red"},{label:"Intake Completed",value:2,color:"indigo"},{label:"Insurance in process",value:13,color:"emerald"},{label:"Insurance Completed",value:3,color:"blue"},{label:"Order Fulfilment in Process",value:4,color:"emerald"},{label:"Order Fulfilment Completed",value:5,color:"cyan"},{label:"Delivery Ready",value:6,color:"orange"},{label:"Delivery Scheduled",value:15,color:"orange"},{label:"Dropship in Process",value:12,color:"emerald"},{label:"Delivered",value:7,color:"green"},{label:"DR Sent to PPS",value:8,color:"purple"},{label:"Billed",value:9,color:"orange"},{label:"RNR",value:10,color:"orange"},{label:"Denied",value:11,color:"red"},{label:"High Deductible",value:14,color:"emerald"}],C=[{label:"Self Pay",value:1},{label:"Insurance",value:2}],T=[{name:"patientId",label:"Select Patient (Search with name)",component:"asyncSelect",option:N,placeholder:"Select Patient"},{name:"nextAppointmentDate",label:"Next Appointment Date",component:"datepicker"},{name:"locationId",label:"Select Prescription Location (Search with name)",component:"asyncSelect",option:x,placeholder:"Select Location"},{name:"appointmentLocationId",label:"Next Appointment Location (Search with name)",component:"asyncSelect",option:b,placeholder:"Search/Select with Name"},{name:"physicianId",label:"Referring Physician (Search with name)",component:"asyncSelect",option:y,placeholder:"Search Physician"},{name:"renderingPhysicianId",label:"Rendering Physician (Search with name)",component:"asyncSelect",option:h,placeholder:"Search/Select with Name"},{name:"prescriptionDocument",label:"Upload Prescription",component:"PdfUpload"},{name:"physicianNotes",label:"Physician Notes",type:"switch",component:"switch"}],A=[{name:"primaryInsurance",apiType:"insurance",label:"Primary Insurance",option:S,component:"asyncSelect",placeholder:"Select primary insurance"},{name:"primaryInsuranceNo",label:"Primary Insurance No.",type:"text",component:o.II,placeholder:"Enter primary insurance no.",isBasic:!0},{name:"secondaryInsurance",apiType:"insurance",label:"Secondary Insurance",option:j,component:"asyncSelect",placeholder:"Select secondary insurance"},{name:"secondaryInsuranceNo",label:"Seconday Insurance No.",type:"text",component:o.II,placeholder:"Enter secondary insurance no.",isBasic:!0},{name:"insuranceDocument",label:"Upload Insurance Verification",component:"PdfUpload"},{name:"notes",label:"Notes",type:"text",component:o.II,isBasic:!0,placeholder:"Enter notes",textArea:!0}],_=[{name:"deviceType",label:"Device Type",type:"select",key:"deviceType",option:g,placeholder:"Select",component:r.Z,isMulti:!1},{name:"lCode",label:"LCode",type:"select",key:"lCode",option:f,placeholder:"Select",component:r.Z,isMulti:!1},{name:"icdCode",label:"ICD Code",type:"select",key:"icdCode",option:I,placeholder:"Select",component:r.Z,isMulti:!0},{name:"quantity",label:"LCode Quantity",type:"number",key:"quantity",placeholder:"Enter Quantity",component:o.II}],P={DELETE:"delete",EXPORT:"export",VIEW:"view",CALENDOR:"calendor",DOWNLOAD:"download",INSURANCE:"insurance",STATUS_CHANGE:"statusChange",DELIVERY_RECEIPT:"deliveryReceipt",MEDICAL_NECESSITY:"medicalNecessity",STATUS_VIEW:"statusView"},w={calendor:"Appointment",download:"Download Package",insurance:"Insurance",statusChange:"Update Order Status"},E=[{label:"Left",value:1},{label:"Right",value:2},{label:"Spine",value:3},{label:"Bilateral",value:4}]},80034:function(n,e,i){i.d(e,{Z:function(){return p}});var o=i(87462),l=i(72791),a=i(4934),d=i(8003),t=i(4942),r=i(1413),c=i(29439),u=i(45987),s=i(74999),v=["defaultOptions","cacheOptions","loadOptions","options","isLoading","onInputChange","filterOption"];i(54164),i(51672);var p=(0,l.forwardRef)((function(n,e){var i=function(n){var e=n.defaultOptions,i=void 0!==e&&e,o=n.cacheOptions,a=void 0!==o&&o,d=n.loadOptions;n.options;var p=n.isLoading,m=void 0!==p&&p,y=n.onInputChange,h=n.filterOption,f=void 0===h?null:h,I=(0,u.Z)(n,v),x=I.inputValue,b=(0,l.useRef)(void 0),N=(0,l.useRef)(!1),g=(0,l.useState)(Array.isArray(i)?i:void 0),S=(0,c.Z)(g,2),j=S[0],D=S[1],C=(0,l.useState)("undefined"!==typeof x?x:""),T=(0,c.Z)(C,2),A=T[0],_=T[1],P=(0,l.useState)(!0===i),w=(0,c.Z)(P,2),E=w[0],k=w[1],L=(0,l.useState)(void 0),R=(0,c.Z)(L,2),Z=R[0],O=R[1],F=(0,l.useState)([]),q=(0,c.Z)(F,2),z=q[0],V=q[1],M=(0,l.useState)(!1),U=(0,c.Z)(M,2),Y=U[0],B=U[1],H=(0,l.useState)({}),G=(0,c.Z)(H,2),W=G[0],J=G[1],K=(0,l.useState)(void 0),Q=(0,c.Z)(K,2),X=Q[0],$=Q[1],nn=(0,l.useState)(void 0),en=(0,c.Z)(nn,2),on=en[0],ln=en[1];a!==on&&(J({}),ln(a)),i!==X&&(D(Array.isArray(i)?i:void 0),$(i)),(0,l.useEffect)((function(){return N.current=!0,function(){N.current=!1}}),[]);var an=(0,l.useCallback)((function(n,e){if(!d)return e();var i=d(n,e);i&&"function"===typeof i.then&&i.then(e,(function(){return e()}))}),[d]);(0,l.useEffect)((function(){!0===i&&an(A,(function(n){N.current&&(D(n||[]),k(!!b.current))}))}),[]);var dn=(0,l.useCallback)((function(n,e){var i=(0,s.L)(n,e,y);if(!i)return b.current=void 0,_(""),O(""),V([]),k(!1),void B(!1);if(a&&W[i])_(i),O(i),V(W[i]),k(!1),B(!1);else{var o=b.current={};_(i),k(!0),B(!Z),an(i,(function(n){N&&o===b.current&&(b.current=void 0,k(!1),O(i),V(n||[]),B(!1),J(n?(0,r.Z)((0,r.Z)({},W),{},(0,t.Z)({},i,n)):W))}))}}),[a,an,Z,W,y]),tn=Y?[]:A&&Z?z:j||[];return(0,r.Z)((0,r.Z)({},I),{},{options:tn,isLoading:E||m,onInputChange:dn,filterOption:f})}(n),p=(0,d.u)(i);return l.createElement(a.S,(0,o.Z)({ref:e},p))}))}}]);
//# sourceMappingURL=9096.ed0ce13a.chunk.js.map