"use strict";(self.webpackChunknasp=self.webpackChunknasp||[]).push([[2334],{9494:function(e,n,a){a.d(n,{EY:function(){return d},Fv:function(){return u},ac:function(){return t}});var o=a(74165),l=a(15861),i=a(91181),r=a(14712);function t(e,n){return r.Z.get(e,{params:n}).then((function(e){return null===e||void 0===e?void 0:e.data}))}function u(e,n){return r.Z.post(e,n).then((function(e){return null===e||void 0===e?void 0:e.data}))}function d(e){return c.apply(this,arguments)}function c(){return(c=(0,l.Z)((0,o.Z)().mark((function e(n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.Z.fetchData({url:"/search/query",method:"post",data:n}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},42334:function(e,n,a){a.r(n),a.d(n,{default:function(){return _}});var o=a(1413),l=a(29439),i=a(72791),r=a(16146),t=a(92506),u=[{name:"firstName",label:"First Name",type:"text",component:r.II,placeholder:"Enter first name",isBasic:!0},{name:"lastName",label:"Last Name",type:"text",component:r.II,placeholder:"Enter last name",isBasic:!0},{name:"phoneNumber",countryCode:"countryCode",label:"Mobile No.",component:"phoneNumber",placeholder:"Enter mobile no."},{name:"dob",label:"DOB",component:"datepicker"},{name:"naspacNo",label:"NASPAC Case No.",type:"text",component:r.II,isBasic:!0,placeholder:"Enter NASPAC No."}],d=[{name:"primaryInsurance",apiType:"insurance",label:"Primary Insurance",component:"asyncSelect",placeholder:"Select primary insurance"},{name:"primaryInsuranceNo",label:"Primary Insurance No.",type:"text",component:r.II,placeholder:"Enter primary insurance no.",isBasic:!0},{name:"secondaryInsurance",apiType:"insurance",label:"Secondary Insurance",component:"asyncSelect",placeholder:"Select secondary insurance"},{name:"secondaryInsuranceNo",label:"Seconday Insurance No.",type:"text",component:r.II,placeholder:"Enter secondary insurance no.",isBasic:!0}],c=(r.II,[{label:"Male",value:1},{label:"Female",value:2},{label:"Others",value:3}]),s=[{label:"LTC",value:1},{label:"Subacute",value:2}],v=a(93433),m=a(75737),p=a.n(m),f=(a(70902),a(9494)),h=a(11723),y=a(48573),I=a.n(y),N=a(80034),b=a(40018),x=a(52639),g=a(47511),j=a(80184),C=function(e){var n=e.id,a=e.field,o=e.setFieldValue,l=e.values,i=(e.errors,e.touched,localStorage.getItem("selectedHospitalId")),u=I()((function(e,n){"state"===a.name&&(0,f.ac)(h.vh.GET_CODE,{type:4,search:e}).then((function(e){var a,o=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data.map((function(e){return{label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e._id}}));n(o)})),"deviceType"===a.name&&(0,f.ac)(h.vh.GET_CODE,{type:2,search:e}).then((function(e){var a,o=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data.map((function(e){return{label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e._id}}));n(o)})),"insurance"===a.apiType&&(0,f.ac)(h.vh.LIST_DATA,{type:h.kD.INSURANCES,search:e,companyId:i}).then((function(e){var a,o=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data.map((function(e){return{label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e._id}}));n(o)}))}),300);return(0,j.jsxs)(j.Fragment,{children:["datepicker"===a.component&&(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(r.Mt,{inputtable:!0,selected:new Date(null===l||void 0===l?void 0:l[a.name]),name:a.name,inputFormat:x.zT,defaultValue:new Date(null===l||void 0===l?void 0:l[a.name]),value:new Date(null===l||void 0===l?void 0:l[a.name]),onChange:function(e){return o(a.name,e)}})}),"radio"===a.component&&(0,j.jsx)(j.Fragment,{children:c.map((function(e,n){return(0,j.jsx)(r.Y8,{className:"mr-4",name:"gender",value:e.value,onChange:function(e){return o(a.name,e)},checked:e.value===(null===l||void 0===l?void 0:l[a.name]),children:e.label})}))}),"patientRadio"===a.component&&(0,j.jsx)(j.Fragment,{children:s.map((function(e,n){return(0,j.jsx)(r.Y8,{className:"mr-4 mt-3",name:"simpleRadioExample1",value:e.value,onChange:function(e){return o(a.name,e)},checked:e.value===(null===l||void 0===l?void 0:l[a.name]),children:e.label})}))}),"phoneNumber"===a.component&&(0,j.jsx)(p(),{inputStyle:{width:"369px",padding:"11px 14px 11px 60px"},enableSearch:!0,country:"us",countryCodeEditable:!0,value:"".concat(null===l||void 0===l?void 0:l[a.name]),onChange:function(e,n){o(a.name,e),o(a.countryCode,null===n||void 0===n?void 0:n.dialCode)}}),"upload"===a.component&&(0,j.jsxs)(r.BZ,{className:"mb-4",children:[(0,j.jsx)(r.II,{value:l[a.name]}),(0,j.jsx)(r.gq,{uploadLimit:1,showList:!1,accept:["image/jpeg","image/png"],name:a.name,onChange:function(e){for(var n=new FormData,l=0;l<(null===e||void 0===e?void 0:e.length);l++)n.append("image",e[l]);(0,f.Fv)(h.vh.UPLOAD_IMAGE,n).then((function(e){var n,l,i=[];i=null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.length?[].concat((0,v.Z)(i),(0,v.Z)(null===e||void 0===e?void 0:e.data)):[].concat((0,v.Z)(i),[null===e||void 0===e?void 0:e.data]),o(a.name,null===(l=i[0])||void 0===l?void 0:l.original)}))}})]}),"asyncSelect"===a.component&&(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(t.gN,{closeMenuOnSelect:!0,component:r.Ph,autoComplete:"off",placeholder:a.placeholder,defaultOptions:!0,cacheOptions:!0,loadOptions:u,componentAs:N.Z,name:a.name,value:null===l||void 0===l?void 0:l[a.name],onChange:function(e){o(a.name,e)}})}),"password"===a.component&&!n&&(0,j.jsx)(t.gN,{autoComplete:"off",name:"password",placeholder:"Password",component:b.WU}),"ssn"===a.component&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(t.gN,{autoComplete:"off",name:"ssn",placeholder:"SSN",maxlength:9,component:r.II,onChange:function(e){return o(a.name,(0,g.bc)(e.target.value))},value:null===l||void 0===l?void 0:l[a.name]}),console.log(null===l||void 0===l?void 0:l[a.name])]})]})},S=a(57689),Z=a(62797),A=a(60364),w=a(72426),E=a.n(w),F=Z.Ry().shape({firstName:Z.Z_().required("Required"),lastName:Z.Z_().required("Required"),dob:Z.Z_().required("Required"),naspacNo:Z.Z_().required("Required"),phoneNumber:Z.Z_().required("Required"),primaryInsuranceNo:Z.Z_(),primaryInsurance:Z.Ry(),secondaryInsurance:Z.Ry(),secondaryInsuranceNo:Z.Z_()}),O={firstName:"",lastName:"",dob:E()().subtract(18,"years").format(),naspacNo:"",phoneNumber:"",countryCode:"+1",primaryInsurance:"",primaryInsuranceNo:"",secondaryInsurance:"",secondaryInsuranceNo:""},_=function(){var e=localStorage.getItem("selectedHospitalId"),n=(0,i.useState)([]),a=(0,l.Z)(n,2),c=a[0];a[1],(0,A.v9)((function(e){return e.auth.user}));console.log("companyOptionshdbfhrbf",c);var s=(0,S.UO)().id,v=(0,i.useState)({}),m=(0,l.Z)(v,2),p=m[0],y=m[1],I=(0,i.useState)(!0),N=(0,l.Z)(I,2),b=N[0],g=N[1],Z=(0,S.s0)();(0,i.useEffect)((function(){s?(0,f.ac)(h.vh.LIST_DATA,{type:h.kD.PATIENTS,id:s}).then((function(e){var n,a,o,l,i,r=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data;y({firstName:null===r||void 0===r?void 0:r.firstName,lastName:null===r||void 0===r?void 0:r.lastName,dob:null===r||void 0===r?void 0:r.dob,countryCode:null!==(null===r||void 0===r?void 0:r.countryCode)?null===r||void 0===r?void 0:r.countryCode:"+1",phoneNumber:(null===r||void 0===r?void 0:r.countryCode)+(null===r||void 0===r?void 0:r.phoneNumber),naspacNo:null===r||void 0===r?void 0:r.naspacNo,primaryInsurance:{label:null===r||void 0===r||null===(a=r.primaryInsurance)||void 0===a?void 0:a.name,value:null===r||void 0===r||null===(o=r.primaryInsurance)||void 0===o?void 0:o._id},secondaryInsurance:{label:null===r||void 0===r||null===(l=r.secondaryInsurance)||void 0===l?void 0:l.name,value:null===r||void 0===r||null===(i=r.secondaryInsurance)||void 0===i?void 0:i._id},primaryInsuranceNo:null===r||void 0===r?void 0:r.primaryInsuranceNo,secondaryInsuranceNo:null===r||void 0===r?void 0:r.secondaryInsuranceNo})})).finally((function(){g(!1)})):g(!1)}),[s]);var w=(0,t.TA)({initialValues:s?p:O,enableReinitialize:!0,validationSchema:F,onSubmit:function(n){var a,l,i,t;(s&&(n.id=s),n.phoneNumber=null===n||void 0===n||null===(a=n.phoneNumber)||void 0===a?void 0:a.replace(null===n||void 0===n?void 0:n.countryCode,""),""===n.phoneNumber&&delete n.phoneNumber,n.primaryInsurance)&&(n.primaryInsurance=null===n||void 0===n||null===(i=n.primaryInsurance)||void 0===i?void 0:i.value);n.secondaryInsurance&&(n.secondaryInsurance=null===n||void 0===n||null===(t=n.secondaryInsurance)||void 0===t?void 0:t.value);""===n.primaryInsuranceNo&&delete n.primaryInsuranceNo,""===n.secondaryInsuranceNo&&delete n.secondaryInsuranceNo,""===n.primaryInsurance&&delete n.primaryInsurance,""===n.secondaryInsurance&&delete n.secondaryInsurance,null!==n&&void 0!==n&&null!==(l=n.countryCode)&&void 0!==l&&l.includes("+")||(n.countryCode="+".concat(n.countryCode)),n.companyId=e,(0,f.Fv)(h.vh.ADD_EDIT_PATIENT,(0,o.Z)({},n)).then((function(e){r.Am.push((0,j.jsx)(r.P_,{type:"success",children:s?x.D5:x.Te})),Z(-1)}))}}),E=w.errors,_=w.touched,T=w.values,D=w.handleSubmit,k=(w.getFieldProps,w.setFieldValue),R=w.isSubmitting;return(0,j.jsx)(t.Hy,{value:w,children:(0,j.jsxs)(t.l0,{className:"p-1",onSubmit:D,autoComplete:"off",noValidate:!0,children:[(0,j.jsxs)("div",{className:"flex mb-3 justify-between w-3/4",children:[(0,j.jsx)("h3",{children:s?"Edit Patient":"Add Patient"}),(0,j.jsxs)("div",{className:"flex",children:[(0,j.jsx)(r.zx,{size:"sm",variant:"solid",onClick:function(){return Z(-1)},type:"button",children:"Back / Cancel"}),(0,j.jsx)(r.zx,{size:"sm",variant:"solid",style:{marginLeft:"5px"},loading:R,type:"submit",children:s?"Update":"Save"})]})]}),(0,j.jsxs)("div",{children:[b&&(0,j.jsx)("div",{className:"flex justify-center",children:(0,j.jsx)(r.$j,{size:"3.25rem"})}),!b&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r.Zb,{className:"mt-2.5 w-3/4 ",children:(0,j.jsxs)(r.Yb,{className:" md:w-full lg:w-1/2",children:[(0,j.jsx)("h5",{className:"mb-4",children:"Personal Information"}),u.map((function(e,n,a){return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(r.xJ,{label:"password"===e.component&&s?null:null===e||void 0===e?void 0:e.label,className:"ml-3 ",invalid:(null===E||void 0===E?void 0:E[null===e||void 0===e?void 0:e.name])&&(null===_||void 0===_?void 0:_[null===e||void 0===e?void 0:e.name]),errorMessage:null===E||void 0===E?void 0:E[null===e||void 0===e?void 0:e.name],children:e.isBasic?(0,j.jsx)(t.gN,{textArea:!(null===e||void 0===e||!e.textArea),type:null===e||void 0===e?void 0:e.type,autoComplete:"off",name:null===e||void 0===e?void 0:e.name,placeholder:null===e||void 0===e?void 0:e.placeholder,component:null===e||void 0===e?void 0:e.component}):(0,j.jsx)(C,{id:s,errors:E,field:e,setFieldValue:k,values:T})},n)})}))]})}),(0,j.jsx)(r.Zb,{className:"mt-4 w-3/4 ",children:(0,j.jsxs)(r.Yb,{className:" md:w-full lg:w-1/2",children:[(0,j.jsx)("h5",{className:"mb-4",children:"Insurance Information"}),d.map((function(e,n,a){return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(r.xJ,{label:null===e||void 0===e?void 0:e.label,className:"ml-3",invalid:(null===E||void 0===E?void 0:E[null===e||void 0===e?void 0:e.name])&&(null===_||void 0===_?void 0:_[null===e||void 0===e?void 0:e.name]),errorMessage:null===E||void 0===E?void 0:E[null===e||void 0===e?void 0:e.name],children:e.isBasic?(0,j.jsx)(t.gN,{textArea:!(null===e||void 0===e||!e.textArea),type:null===e||void 0===e?void 0:e.type,autoComplete:"off",name:null===e||void 0===e?void 0:e.name,placeholder:null===e||void 0===e?void 0:e.placeholder,component:null===e||void 0===e?void 0:e.component}):(0,j.jsx)(C,{id:s,errors:E,field:e,setFieldValue:k,values:T})},n)})}))]})})]})]})]})})}},80034:function(e,n,a){a.d(n,{Z:function(){return m}});var o=a(87462),l=a(72791),i=a(4934),r=a(8003),t=a(4942),u=a(1413),d=a(29439),c=a(45987),s=a(74999),v=["defaultOptions","cacheOptions","loadOptions","options","isLoading","onInputChange","filterOption"];a(54164),a(51672);var m=(0,l.forwardRef)((function(e,n){var a=function(e){var n=e.defaultOptions,a=void 0!==n&&n,o=e.cacheOptions,i=void 0!==o&&o,r=e.loadOptions;e.options;var m=e.isLoading,p=void 0!==m&&m,f=e.onInputChange,h=e.filterOption,y=void 0===h?null:h,I=(0,c.Z)(e,v),N=I.inputValue,b=(0,l.useRef)(void 0),x=(0,l.useRef)(!1),g=(0,l.useState)(Array.isArray(a)?a:void 0),j=(0,d.Z)(g,2),C=j[0],S=j[1],Z=(0,l.useState)("undefined"!==typeof N?N:""),A=(0,d.Z)(Z,2),w=A[0],E=A[1],F=(0,l.useState)(!0===a),O=(0,d.Z)(F,2),_=O[0],T=O[1],D=(0,l.useState)(void 0),k=(0,d.Z)(D,2),R=k[0],P=k[1],q=(0,l.useState)([]),L=(0,d.Z)(q,2),B=L[0],V=L[1],z=(0,l.useState)(!1),M=(0,d.Z)(z,2),U=M[0],Y=M[1],G=(0,l.useState)({}),H=(0,d.Z)(G,2),J=H[0],W=H[1],$=(0,l.useState)(void 0),K=(0,d.Z)($,2),Q=K[0],X=K[1],ee=(0,l.useState)(void 0),ne=(0,d.Z)(ee,2),ae=ne[0],oe=ne[1];i!==ae&&(W({}),oe(i)),a!==Q&&(S(Array.isArray(a)?a:void 0),X(a)),(0,l.useEffect)((function(){return x.current=!0,function(){x.current=!1}}),[]);var le=(0,l.useCallback)((function(e,n){if(!r)return n();var a=r(e,n);a&&"function"===typeof a.then&&a.then(n,(function(){return n()}))}),[r]);(0,l.useEffect)((function(){!0===a&&le(w,(function(e){x.current&&(S(e||[]),T(!!b.current))}))}),[]);var ie=(0,l.useCallback)((function(e,n){var a=(0,s.L)(e,n,f);if(!a)return b.current=void 0,E(""),P(""),V([]),T(!1),void Y(!1);if(i&&J[a])E(a),P(a),V(J[a]),T(!1),Y(!1);else{var o=b.current={};E(a),T(!0),Y(!R),le(a,(function(e){x&&o===b.current&&(b.current=void 0,T(!1),P(a),V(e||[]),Y(!1),W(e?(0,u.Z)((0,u.Z)({},J),{},(0,t.Z)({},a,e)):J))}))}}),[i,le,R,J,f]),re=U?[]:w&&R?B:C||[];return(0,u.Z)((0,u.Z)({},I),{},{options:re,isLoading:_||p,onInputChange:ie,filterOption:y})}(e),m=(0,r.u)(a);return l.createElement(i.S,(0,o.Z)({ref:n},m))}))}}]);
//# sourceMappingURL=2334.c8325f09.chunk.js.map