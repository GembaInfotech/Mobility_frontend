"use strict";(self.webpackChunknasp=self.webpackChunknasp||[]).push([[8154],{79739:function(e,n,i){i.d(n,{Y:function(){return t}});var t={VIEW_IMAGE:"/img/prescription.png",REPLY:"/img/reply.png",STATUS:"/img/status.png",EXPORT:"/img/fileExport.svg",RECEIPT:"/img/receipt.svg",DOWNLOAD_PDF:"/img/download.png"}},54167:function(e,n,i){var t=i(1413),l=i(16146),a=i(54048),o=i(11723),s=(i(72791),i(9494)),r=i(80184);n.Z=function(e){var n=e.type,i=e.onDialogClose,d=e.isOpen,c=e.user,u=e.Payload;return(0,r.jsx)(l.Vq,{isOpen:d,onClose:i,onRequestClose:i,contentClassName:"pb-0 px-0 mt-36 min-w-36",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("p",{className:"text-md mb-6 font-bold ",children:"Please download the Excel file for the data."}),(0,r.jsx)("div",{className:"text-right mt-6",children:(0,r.jsx)(l.zx,{variant:"solid",type:"button",onClick:function(){var e=(0,t.Z)({type:n},u);c&&(e.userId=null===c||void 0===c?void 0:c._id),(0,s.Fv)(o.vh.EXPORT_DATA,e).then((function(e){var n;l.Am.push((0,r.jsx)(l.P_,{type:"success",children:"Exported successfully"}));var t=document.createElement("a");t.href=a.Z.imageBaseUrl+(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.fileName),t.download="file_name.xlsx",document.body.appendChild(t),t.click(),document.body.removeChild(t),i()})).catch((function(e){l.Am.push((0,r.jsxs)(l.P_,{type:"error",children:["Export failed: ",e.message]}))}))},children:"Export/Download File"})})]})})}},27091:function(e,n,i){i(72791);var t=i(16146),l=i(62797),a=i(92506),o=i(40018),s=i(9494),r=i(11723),d=i(52639),c=i(80184),u=[{label:"Password",identifier:"password"},{label:"Confirm Password",identifier:"confirmPassword"}],m=l.Ry().shape({password:l.Z_().required("Please enter a password").min(8,"Password must have at least 8 characters"),confirmPassword:l.Z_().oneOf([l.iH("password"),null],"Your passwords do not match").required("Please enter confirm password")}),v={password:"",confirmPassword:""};n.Z=function(e){var n=e.selectedId,i=e.onDialogClose,l=e.isOpen,p=e.setRefresh;return(0,c.jsx)(t.Vq,{isOpen:l,onClose:i,onRequestClose:i,contentClassName:"pb-0 px-0 mt-36 min-w-36",children:(0,c.jsxs)("div",{className:"px-5 pb-5",children:[(0,c.jsx)("h5",{className:"mb-4",children:"Reset Password"}),(0,c.jsx)(a.J9,{initialValues:v,validationSchema:m,onSubmit:function(e){(0,s.Fv)(r.vh.USER_PASSWORD_RESET,{id:n,password:null===e||void 0===e?void 0:e.password}).then((function(e){t.Am.push((0,c.jsx)(t.P_,{type:"success",children:d.D5})),p((function(e){return!e})),i()}))},children:function(e){var n=e.touched,l=e.errors,s=e.isSubmitting;return(0,c.jsx)(a.l0,{children:(0,c.jsx)(t.Yb,{children:(0,c.jsxs)(c.Fragment,{children:[u.map((function(e,i){return(0,c.jsx)(t.xJ,{label:e.label,invalid:(null===l||void 0===l?void 0:l[e.identifier])&&(null===n||void 0===n?void 0:n[e.identifier]),errorMessage:null===l||void 0===l?void 0:l[e.identifier],children:(0,c.jsx)(a.gN,{autoComplete:"off",name:e.identifier,placeholder:e.label,component:o.WU})},"".concat(e.identifier,"-").concat(i))})),(0,c.jsxs)("div",{className:"text-right mt-6",children:[(0,c.jsx)(t.zx,{className:"ltr:mr-2 rtl:ml-2",variant:"plain",onClick:i,children:"Cancel"}),(0,c.jsx)(t.zx,{className:"ltr:mr-2 rtl:ml-2",loading:s,variant:"solid",type:"submit",children:s?"Reseting...":"Reset"})]})]})})})}})]})})}},18154:function(e,n,i){i.r(n);var t=i(29439),l=i(40018),a=i(72791),o=i(97892),s=i.n(o),r=i(83027),d=i.n(r),c=i(12712),u=i.n(c),m=i(9494),v=i(11723),p=i(16146),f=i(52452),h=i(78820),x=i(25764),b=i(93156),g=i(58617),E=i(57689),N=i(54048),w=i(52639),A=i(79739),C=i(31673),D=i(27091),j=i(54167),P=i(76053),T=i(47511),S=i(80184),I=[{label:"Edit",key:w.A6.EDIT,show:function(){return(0,T.ZP)(T.Fm.PATIENT,T.qz.WRITE)}},{label:(0,S.jsx)(h.YK6,{style:{fontSize:"1.1rem"}}),key:w.A6.DELETE,show:function(){return(0,T.ZP)(T.Fm.PATIENT,T.qz.DELETE)},toolTip:"Delete"},{label:A.Y.VIEW_IMAGE,key:w.A6.NAVIGATE,isImage:!0,toolTip:"View Prescriptions",show:function(){return(0,T.ZP)(T.Fm.SERVICEORDER,T.qz.READ)}}],y={header:w.BI.HEADER,des:w.BI.DELETE,warning:w.BI.WARNING,buttonLabel:"Delete"},Z=[{label:"Add Patient",key:w.A6.ADD,icon:(0,S.jsx)(g.HQD,{})}],R=[{component:"select",options:w.W_,className:"mb-4 w-40",placeholder:"Status",filterKey:"status"},{component:"datePicker",placeholder:"DOB",className:"mb-4 w-64",filterKey:"dob"},{component:"input",placeholder:"Mobile Number",className:"mb-4 w-40",filterKey:"mobile"},{component:"resetButton",label:"Reset",icon:(0,S.jsx)(P.pYJ,{}),className:"mb-4",filterKey:{status:"",dob:null,search:""}}];n.default=function(){var e=localStorage.getItem("selectedHospitalId"),n=(0,a.useState)(""),i=(0,t.Z)(n,2),o=i[0],r=i[1],c=(0,a.useState)(!0),h=(0,t.Z)(c,2),g=h[0],A=h[1],P=(0,a.useState)([]),O=(0,t.Z)(P,2),_=O[0],F=O[1],k=(0,a.useState)(""),Y=(0,t.Z)(k,2),M=Y[0],z=Y[1],H=(0,a.useState)(!1),L=(0,t.Z)(H,2),q=L[0],V=L[1],W=(0,a.useState)(1),B=(0,t.Z)(W,2),U=B[0],G=B[1],K=(0,a.useState)(0),X=(0,t.Z)(K,2),J=X[0],Q=X[1],$=(0,a.useState)(10),ee=(0,t.Z)($,2),ne=ee[0],ie=ee[1],te=(0,a.useState)(""),le=(0,t.Z)(te,2),ae=le[0],oe=le[1],se=(0,a.useState)(!1),re=(0,t.Z)(se,2),de=re[0],ce=re[1],ue=(0,a.useState)(!1),me=(0,t.Z)(ue,2),ve=me[0],pe=me[1],fe=(0,a.useState)(""),he=(0,t.Z)(fe,2),xe=he[0],be=he[1],ge=(0,a.useState)(!1),Ee=(0,t.Z)(ge,2),Ne=Ee[0],we=Ee[1],Ae=(0,E.s0)(),Ce=(0,a.useState)({status:""}),De=(0,t.Z)(Ce,2),je=De[0],Pe=De[1];s().extend(d()),s().extend(u());var Te=function(e){var n,i,t=e.row;return(0,S.jsxs)("div",{className:"flex items-center",children:[null!==(null===t||void 0===t?void 0:t.imageUrlThumbnail)&&null!==t&&void 0!==t&&t.imageUrlThumbnail?(0,S.jsx)(p.qE,{size:28,shape:"circle",className:"mr-2",src:"".concat(N.Z.imageBaseUrl).concat(null===t||void 0===t?void 0:t.imageUrlThumbnail)}):(0,S.jsx)(p.qE,{size:28,shape:"circle",className:"mr-2",children:null===t||void 0===t||null===(n=t.firstName)||void 0===n||null===(i=n[0])||void 0===i?void 0:i.toUpperCase()}),(0,S.jsx)("div",{className:"w-32",children:"".concat(null!==t&&void 0!==t&&t.firstName||null!==t&&void 0!==t&&t.lastName?"".concat(null!==t&&void 0!==t&&t.lastName?null===t||void 0===t?void 0:t.lastName:"",", ").concat(null!==t&&void 0!==t&&t.firstName?null===t||void 0===t?void 0:t.firstName:""," "):"-")})]})};(0,a.useEffect)((function(){var n,i;(0,m.ac)(v.vh.LIST_DATA,{type:v.kD.PATIENTS,limit:ne,search:M,companyId:null!==(n=null===o||void 0===o?void 0:o._id)&&void 0!==n?n:e,status:null!==je&&void 0!==je&&je.status?null===je||void 0===je||null===(i=je.status)||void 0===i?void 0:i.value:null,patientDob:null!==je&&void 0!==je&&je.dob?s()(je.dob).format("MM/DD/YYYY"):null,mobile:null!==je&&void 0!==je&&je.mobile?je.mobile:null,skip:ne*(U-1)}).then((function(e){var n,i;F(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data),Q(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.count)})).finally((function(){return A(!1)}))}),[e,M,U,ne,q,je,o]);var Se=function(e,n,i){n===w.A6.DELETE&&(oe({id:null===i||void 0===i?void 0:i._id}),ce(!0)),n===w.A6.EDIT&&Ae("/app/patient/edit/".concat(null===i||void 0===i?void 0:i._id)),n===w.A6.NAVIGATE&&Ae("/app/orderManagement/service-order/".concat(null===i||void 0===i?void 0:i._id))},Ie=function(){oe(""),ce(!1),pe(!1),we(!1),be("")},ye=[{Header:"Patient ID",Cell:function(e){var n=e.row.original;return null===(null===n||void 0===n?void 0:n.patientNo)?"-":null===n||void 0===n?void 0:n.patientNo}},{Header:"Patient Name",Cell:function(e){var n=e.row.original;return(0,S.jsx)(Te,{row:n})}},{Header:"Mobile",Cell:function(e){var n=e.row.original;return(0,S.jsx)("div",{className:"flex items-center whitespace-nowrap",children:(0,S.jsx)("p",{children:"".concat(null===n||void 0===n?void 0:n.countryCode," ").concat((0,T.Oz)(null===n||void 0===n?void 0:n.phoneNumber))})})}},{Header:"DOB",Cell:function(e){var n=e.row.original;return"".concat(s()(null===n||void 0===n?void 0:n.dob).format("MM/DD/YYYY")||"-")}},{Header:"".concat("67c3ec77851f03d96270ca85"===e?"NASPAC Case No.":"67c3fb8308a4d79e36ebf939"===e?"PPS Case No.":"Case No."),Cell:function(e){var n=e.row.original;return(0,S.jsx)("div",{className:"flex items-center ",children:null!==n&&void 0!==n&&n.naspacNo?null===n||void 0===n?void 0:n.naspacNo:"-"})}},{Header:"Registered On",Cell:function(e){var n=e.row.original;return(0,S.jsx)("div",{className:"flex items-center ",children:s().utc(null===n||void 0===n?void 0:n.createdAt).tz("America/New_York").format(w.a1)})}},{Header:"Active",Cell:function(e){return(0,S.jsx)(C.Z,{dataObj:e,setSelectedData:oe,setActiveConfirm:pe,setOpenModal:ce})}},{Header:"Actions",id:"action",accessor:function(e){return e},Cell:function(e){return(0,S.jsx)(f.Z,{row:e.row.original,onActionHandle:Se,actionsMenu:I})}}];return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(b.Z,{buttonMenu:(0,T.ZP)(T.Fm.PATIENT,T.qz.WRITE)?Z:Z.slice(0,Z.length-1),FilterMenu:R,setFilterCompanyId:r,filterCompanyId:o,setSearch:z,buttonClick:function(e,n){n===w.A6.ADD&&Ae("/app/patient/add"),n===w.A6.EXPORT&&we(!0)},setFilterValue:Pe,filterValue:je,searchPlaceholder:"Search with Code, Name, Email, Mobile"}),(0,S.jsx)(l.lG,{className:"h-full",bodyClass:"h-full",children:(0,S.jsx)(l.wQ,{isCursor:!1,columns:(0,T.wX)(ye,T.Fm.PATIENT),data:_,loading:g,skeletonAvatarColumns:[0],skeletonAvatarProps:{width:28,height:28},pagingData:{pageIndex:U,pageSize:ne,total:J},onPaginationChange:function(e){return G(e)},onSelectChange:function(e){return ie(e)}})}),(0,S.jsx)(x.Z,{isOpen:de,onConfirmClick:function(){var e,n={type:v.kD.PATIENTS,id:null===ae||void 0===ae?void 0:ae.id};ve?(e=w.D5,n.status=+(null===ae||void 0===ae?void 0:ae.action)):(e=w.O7,n.status=0),(0,m.Fv)(v.vh.BLOCK_DELETE_DATA,n).then((function(n){p.Am.push((0,S.jsx)(p.P_,{type:"success",children:e})),V((function(e){return!e})),Ie()}))},header:y.header,des:ve?null===w.uF||void 0===w.uF?void 0:w.uF.des:y.des,onDialogClose:Ie,isWarning:!ve&&y.warning,buttonLabel:ve?null===w.uF||void 0===w.uF?void 0:w.uF.buttonLabel:y.buttonLabel}),(0,S.jsx)(D.Z,{isOpen:!!xe,onDialogClose:Ie,selectedId:xe,setRefresh:V}),(0,S.jsx)(j.Z,{type:"3",isOpen:Ne,onDialogClose:Ie})]})}}}]);
//# sourceMappingURL=8154.d619600d.chunk.js.map