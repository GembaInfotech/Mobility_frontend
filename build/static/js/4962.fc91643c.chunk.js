"use strict";(self.webpackChunknasp=self.webpackChunknasp||[]).push([[4962],{64962:function(e,n,i){i.r(n),i.d(n,{default:function(){return Z}});var l=i(29439),o=i(72791),t=i(9494),a=i(11723),d=i(40018),r=i(10515),s=i(58617),u=i(16146),c=i(47511),v=i(80184),m=function(e){var n=e.setSearch,i=e.addButtonClick;return(0,v.jsxs)(v.Fragment,{children:[(0,c.ZP)(c.Fm.PHYSICIAN,c.qz.WRITE)&&(0,v.jsx)("div",{className:"md:flex items-center justify-end",children:(0,v.jsx)(u.zx,{size:"sm",variant:"solid",onClick:i,icon:(0,v.jsx)(s.HQD,{}),children:"Add Physician"})}),(0,v.jsx)(r.Z,{onChange:function(e){return n(e)}})]})},h=i(78820),p=i(25764),f=i(52639),x=i(92506),N=i(62797),b=i(75737),C=i.n(b),I=(i(70902),i(60364)),j=[{label:"Name",type:"text",name:"name",placeholder:"Enter physician name",component:u.II,isBasic:!0},{name:"phoneNumber",countryCode:"countryCode",label:"Mobile No.",component:"phoneNumber",placeholder:"Enter mobile no."},{label:"Fax",name:"fax",placeholder:"Enter Fax",component:u.II,isBasic:!0},{label:"NPI No.",name:"npiNo",placeholder:"Enter NPI No.",component:u.II,isBasic:!0},{label:"Address",name:"address",placeholder:"Enter Address",component:u.II,isBasic:!0,textArea:!0}],y=N.Ry().shape({name:N.Z_().required("Required"),phoneNumber:N.Z_().required("Required"),address:N.Z_().required("Required"),fax:N.Z_().required("Required"),npiNo:N.Z_().required("Required")}),S={name:"",fax:"",npiNo:"",phoneNumber:"",countryCode:"+1",address:"",companyId:""},A=function(e){var n=e.closeAddEdit,i=e.selectedRow,l=localStorage.getItem("selectedHospitalId");(0,I.v9)((function(e){return e.auth.user}));return(0,v.jsx)(d.lG,{children:(0,v.jsx)(x.J9,{initialValues:i||S,validationSchema:y,onSubmit:function(e,o){var d,r,s=o.setSubmitting,c={};c.phoneNumber=null===e||void 0===e||null===(d=e.phoneNumber)||void 0===d?void 0:d.replace(null===e||void 0===e?void 0:e.countryCode,""),null!==e&&void 0!==e&&null!==(r=e.countryCode)&&void 0!==r&&r.includes("+")||(c.countryCode="+".concat(e.countryCode)),""===e.phoneNumber&&delete c.phoneNumber,i&&(c.id=i._id),c.name=null===e||void 0===e?void 0:e.name,c.email=null===e||void 0===e?void 0:e.email,c.address=null===e||void 0===e?void 0:e.address,c.fax=null===e||void 0===e?void 0:e.fax,c.npiNo=null===e||void 0===e?void 0:e.npiNo,c.companyId=l,(0,t.Fv)(a.vh.ADD_EDIT_PHYSICIANS,c).then((function(e){n(),u.Am.push((0,v.jsx)(u.P_,{type:"success",children:"Saved successfully"}))})).catch((function(){s(!1)})).finally((function(){s(!1)}))},enableReinitialize:!0,children:function(e){var l=e.errors,o=e.touched,t=e.values,a=e.isSubmitting,d=e.setFieldValue;return(0,v.jsxs)(x.l0,{className:"p-5",children:[(0,v.jsxs)("div",{className:"flex mb-3 justify-between w-3/4",children:[(0,v.jsx)("h3",{children:i?"Edit Physician":"Add Physician"}),(0,v.jsxs)("div",{className:"flex",children:[(0,v.jsx)(u.zx,{size:"sm",className:"ltr:mr-3 rtl:ml-3",onClick:n,icon:(0,v.jsx)(h.SV5,{}),type:"button",children:"Cancel"}),(0,v.jsx)(u.zx,{size:"sm",variant:"solid",loading:a,icon:(0,v.jsx)(h.JMf,{}),type:"submit",children:i?"Update":"Save"})]})]}),(0,v.jsx)("div",{children:(0,v.jsx)(u.Zb,{className:"mt-2.5 w-3/4 ",children:(0,v.jsx)(u.Yb,{className:" md:w-full lg:w-1/2",children:j.map((function(e,n){return(0,v.jsx)(u.xJ,{label:null===e||void 0===e?void 0:e.label,invalid:(null===l||void 0===l?void 0:l[e.name])&&(null===o||void 0===o?void 0:o[e.name]),errorMessage:null===l||void 0===l?void 0:l[e.name],children:null!==e&&void 0!==e&&e.isBasic?(0,v.jsx)(x.gN,{textArea:!(null===e||void 0===e||!e.textArea),type:e.type,autoComplete:"off",onWheel:function(n){return null!==e&&void 0!==e&&e.isWheel?n.target.blur():""},value:null===t||void 0===t?void 0:t[e.name],name:e.name,placeholder:e.placeholder,component:null===e||void 0===e?void 0:e.component}):(0,v.jsx)(v.Fragment,{children:"phoneNumber"===(null===e||void 0===e?void 0:e.component)&&(0,v.jsx)(C(),{inputStyle:{width:"369px",padding:"11px 14px 11px 60px"},enableSearch:!0,country:"us",countryCodeEditable:!0,value:"".concat(null===t||void 0===t?void 0:t[e.name]),onChange:function(n,i){d(e.name,n),d(e.countryCode,null===i||void 0===i?void 0:i.dialCode)}})})},n)}))})})})]})}})})},E=i(31673),g=i(52452),w=[{label:"Edit",key:f.A6.EDIT,show:function(){return(0,c.ZP)(c.Fm.PHYSICIAN,c.qz.WRITE)}},{label:(0,v.jsx)(h.YK6,{style:{fontSize:"1.2rem"}}),key:f.A6.DELETE,toolTip:"Delete",show:function(){return(0,c.ZP)(c.Fm.PHYSICIAN,c.qz.DELETE)}}],Z=function(){var e=localStorage.getItem("selectedHospitalId"),n=(0,o.useState)([]),i=(0,l.Z)(n,2),r=i[0],s=i[1],h=(0,o.useState)(!0),x=(0,l.Z)(h,2),N=x[0],b=x[1],C=(0,o.useState)(""),I=(0,l.Z)(C,2),j=I[0],y=I[1],S=(0,o.useState)(1),Z=(0,l.Z)(S,2),D=Z[0],P=Z[1],F=(0,o.useState)(0),H=(0,l.Z)(F,2),k=H[0],T=H[1],_=(0,o.useState)(10),q=(0,l.Z)(_,2),R=q[0],z=q[1],B=(0,o.useState)(!1),L=(0,l.Z)(B,2),Y=L[0],M=L[1],W=(0,o.useState)(""),O=(0,l.Z)(W,2),G=O[0],J=O[1],V=(0,o.useState)(!1),K=(0,l.Z)(V,2),Q=K[0],U=K[1],X=(0,o.useState)(!1),$=(0,l.Z)(X,2),ee=$[0],ne=$[1],ie=(0,o.useState)(""),le=(0,l.Z)(ie,2),oe=le[0],te=le[1],ae=(0,o.useState)(!1),de=(0,l.Z)(ae,2),re=de[0],se=de[1];(0,o.useEffect)((function(){(0,t.ac)(a.vh.LIST_DATA,{type:a.kD.PHYSICIANS,limit:R,search:j,companyId:e,skip:R*(D-1)}).then((function(e){var n,i;s(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data),T(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.count)})).finally((function(){return b(!1)}))}),[j,D,R,ee]);var ue=function(e,n,i){n===f.A6.EDIT&&(i.phoneNumber=(null===i||void 0===i?void 0:i.countryCode)+(null===i||void 0===i?void 0:i.phoneNumber),J(i),M(!0)),n===f.A6.DELETE&&(U(!0),J(null===i||void 0===i?void 0:i.id))},ce=function(){U(!1),J(""),se(!1)},ve={header:f.BI.HEADER,des:f.BI.DELETE,buttonLabel:"Delete"},me=[{Header:"Physician Name",Cell:function(e){var n,i=null===e||void 0===e||null===(n=e.row)||void 0===n?void 0:n.original;return(0,v.jsx)("div",{className:"flex items-center w-40",children:null===i||void 0===i?void 0:i.name})}},{Header:"Address",accessor:"address",Cell:function(e){var n,i=null===e||void 0===e||null===(n=e.row)||void 0===n?void 0:n.original;return(0,v.jsx)("div",{className:"flex items-center w-40",children:null===i||void 0===i?void 0:i.address})}},{Header:"Mobile",accessor:"mobile",Cell:function(e){var n,i=null===e||void 0===e||null===(n=e.row)||void 0===n?void 0:n.original;return(0,v.jsxs)("div",{className:"flex items-center w-40",children:[null===i||void 0===i?void 0:i.countryCode," - ",null===i||void 0===i?void 0:i.phoneNumber]})}},{Header:"Fax",accessor:"fax",Cell:function(e){var n,i=null===e||void 0===e||null===(n=e.row)||void 0===n?void 0:n.original;return(0,v.jsx)("div",{className:"flex items-center w-40",children:null===i||void 0===i?void 0:i.fax})}},{Header:"NPI No.",accessor:"npiNo",Cell:function(e){var n,i=null===e||void 0===e||null===(n=e.row)||void 0===n?void 0:n.original;return(0,v.jsx)("div",{className:"flex items-center w-40",children:null===i||void 0===i?void 0:i.npiNo})}},{Header:"Active",Cell:function(e){return(0,v.jsx)(E.Z,{dataObj:e,setSelectedData:te,setActiveConfirm:se,setOpenModal:U})}},{Header:"Actions",id:"action",accessor:function(e){return e},Cell:function(e){return(0,v.jsx)(g.Z,{row:e.row.original,onActionHandle:ue,actionsMenu:w})}}];return(0,v.jsx)(v.Fragment,{children:Y?(0,v.jsx)(A,{closeAddEdit:function(){M(!1),ne(!ee),J("")},selectedRow:G}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(m,{setSearch:y,addButtonClick:function(){return M(!0)}}),(0,v.jsx)(d.lG,{className:"h-full",bodyClass:"h-full",children:(0,v.jsx)(d.wQ,{columns:(0,c._P)(me,c.Fm.PHYSICIAN,1),data:r,loading:N,skeletonAvatarColumns:[0],skeletonAvatarProps:{width:28,height:28},pagingData:{pageIndex:D,pageSize:R,total:k},onPaginationChange:function(e){return P(e)},onSelectChange:function(e){return z(e)}})}),(0,v.jsx)(p.Z,{isOpen:Q,onConfirmClick:function(){var e,n={type:a.kD.PHYSICIANS,id:null===oe||void 0===oe?void 0:oe.id};re?(e=f.D5,n.status=+(null===oe||void 0===oe?void 0:oe.action)):(e=f.O7,n.status=0),(0,t.Fv)(a.vh.BLOCK_DELETE_DATA,n).then((function(n){u.Am.push((0,v.jsx)(u.P_,{type:"success",children:e})),ne((function(e){return!e})),ce()}))},header:ve.header,des:re?null===f.uF||void 0===f.uF?void 0:f.uF.des:f.BI.DELETE,isWarning:!re&&f.BI.WARNING,onDialogClose:ce,buttonLabel:re?null===f.uF||void 0===f.uF?void 0:f.uF.buttonLabel:ve.buttonLabel})]})})}}}]);
//# sourceMappingURL=4962.fc91643c.chunk.js.map