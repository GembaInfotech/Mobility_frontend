"use strict";(self.webpackChunknasp=self.webpackChunknasp||[]).push([[6427],{26427:function(e,n,t){t.r(n);var a=t(29439),o=t(40018),i=t(72791),l=t(16146),r=t(23532),s=t(11087),u=t(57689),d=t(97892),c=t.n(d),v=t(83027),f=t.n(v),m=t(12712),h=t.n(m),E=t(9494),p=t(11723),A=t(58617),D=t(52452),S=t(25764),C=t(78820),x=t(93156),b=t(52639),g=t(31673),Z=t(47511),j=t(80184),w=[{label:"Edit",key:b.A6.EDIT,show:function(){return(0,Z.ZP)(Z.Fm.SUBUSERS,Z.qz.WRITE)}},{label:(0,j.jsx)(C.YK6,{style:{fontSize:"1.2rem"}}),key:b.A6.DELETE,toolTip:"Delete",show:function(){return(0,Z.ZP)(Z.Fm.SUBUSERS,Z.qz.DELETE)}}],k={header:b.BI.HEADER,des:b.BI.DELETE,buttonLabel:"Delete"},y=(0,Z.ZP)(Z.Fm.COMPANY,Z.qz.WRITE)?[{label:"Add Company",key:b.A6.ADD,icon:(0,j.jsx)(A.HQD,{})}]:[],T=[],N=function(e){var n,t,a=e.row,o=(0,r.Z)().textTheme;return(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)(l.qE,{size:28,shape:"circle",children:null===a||void 0===a||null===(n=a.name)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.toUpperCase()}),(0,j.jsx)(s.rU,{className:"hover:".concat(o," ml-2 rtl:mr-2 font-semibold"),children:(null===a||void 0===a?void 0:a.name)||"-"})]})};n.default=function(){var e=(0,i.useState)(!0),n=(0,a.Z)(e,2),t=n[0],r=n[1],s=(0,i.useState)([]),d=(0,a.Z)(s,2),v=d[0],m=d[1],A=(0,i.useState)(!1),C=(0,a.Z)(A,2),F=C[0],I=C[1],L=(0,i.useState)(""),B=(0,a.Z)(L,2),H=B[0],P=B[1],R=(0,i.useState)(1),U=(0,a.Z)(R,2),_=U[0],z=U[1],M=(0,i.useState)(0),O=(0,a.Z)(M,2),q=O[0],W=O[1],Y=(0,i.useState)(10),G=(0,a.Z)(Y,2),K=G[0],Q=G[1],J=(0,i.useState)(""),V=(0,a.Z)(J,2),X=V[0],$=V[1],ee=(0,i.useState)(!1),ne=(0,a.Z)(ee,2),te=ne[0],ae=ne[1],oe=(0,i.useState)(!1),ie=(0,a.Z)(oe,2),le=ie[0],re=ie[1],se=(0,u.s0)();c().extend(f()),c().extend(h()),(0,i.useEffect)((function(){(0,E.ac)(p.vh.LIST_DATA,{type:p.kD.COMPANY,limit:K,search:H,skip:K*(_-1)}).then((function(e){var n,t;m(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data),W(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.count)})).finally((function(){return r(!1)}))}),[F,H,_,K]);var ue=function(e,n,t){n===b.A6.EDIT&&se("/app/company/edit/".concat(null===t||void 0===t?void 0:t._id)),n===b.A6.DELETE&&($({id:null===t||void 0===t?void 0:t._id}),ae(!0))},de=function(){$(""),ae(!1)},ce=[{Header:"Name",accessor:"name",Cell:function(e){var n=e.row.original;return(0,j.jsx)(N,{row:n})}},{Header:"Company Code",accessor:"companyNo",Cell:function(e){var n=e.row.original;return(0,j.jsx)("div",{className:"flex items-center",children:null===n||void 0===n?void 0:n.companyNo})}},{Header:"Date added",accessor:"createdAt",Cell:function(e){var n=e.row.original;return(0,j.jsx)("div",{className:"flex items-center",children:c().utc(null===n||void 0===n?void 0:n.createdAt).tz("America/New_York").format(b.a1)})}},{Header:"Active",Cell:function(e){return(0,j.jsx)(g.Z,{dataObj:e,setSelectedData:$,setActiveConfirm:re,setOpenModal:ae})}},{Header:"Actions",id:"action",accessor:function(e){return e},Cell:function(e){return(0,j.jsx)(D.Z,{row:e.row.original,onActionHandle:ue,actionsMenu:w})}}],ve={header:b.BI.HEADER,des:b.BI.DELETE,warning:b.BI.WARNING,buttonLabel:"Delete"};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(x.Z,{buttonMenu:y,FilterMenu:T,setSearch:P,buttonClick:function(e,n){n===b.A6.ADD&&se("/app/company/add")}}),(0,j.jsx)(o.lG,{className:"h-full",bodyClass:"h-full",children:(0,j.jsx)(o.wQ,{isCursor:!1,columns:(0,Z._P)(ce,Z.Fm.SUBUSERS,1),data:v,loading:t,skeletonAvatarColumns:[0],skeletonAvatarProps:{width:28,height:28},pagingData:{pageIndex:_,pageSize:K,total:q},onPaginationChange:function(e){return z(e)},onSelectChange:function(e){return Q(e)}})}),(0,j.jsx)(S.Z,{isOpen:te,onConfirmClick:function(){var e,n={type:p.kD.ADMINS,id:null===X||void 0===X?void 0:X.id};le?(e=b.D5,n.status=+(null===X||void 0===X?void 0:X.action)):(e=b.O7,n.status=0),(0,E.Fv)(p.vh.BLOCK_DELETE_DATA,n).then((function(n){l.Am.push((0,j.jsx)(l.P_,{type:"success",children:e})),I((function(e){return!e})),de()}))},header:k.header,des:le?null===b.uF||void 0===b.uF?void 0:b.uF.des:ve.des,onDialogClose:de,isWarning:!le&&ve.warning,buttonLabel:le?null===b.uF||void 0===b.uF?void 0:b.uF.buttonLabel:ve.buttonLabel})]})}}}]);
//# sourceMappingURL=6427.726d1e4f.chunk.js.map